(this["webpackJsonpskill.pub.front"]=this["webpackJsonpskill.pub.front"]||[]).push([[0],{233:function(e){e.exports=JSON.parse('{"name.app":"SkillPub","home":"Home","hello.friend":"Hello, friend!","system.message.good":"Good to see you ","sign.in":"Sign in","sign.up":"Sign up","log.in":"log in","use.accounts":"Or use your account","email":"Email","email.message.error":"Email not found","email.message.error.registered":"Email is already registered","email.message.error.input.required":"Email is required","email.message.error.unverified":"Unverified email","password":"Password","password.message.error":"Password is incorrect","password.message.error.input.required":"Password is required","password.message.error.input.short":"Password too short","recover.account":"Have you forgotten your password?","welcome.back":"Welcome back!","system.message":"To keep connected with us please login","create.account":"Create account","use.account.register":"Or use your email to register","first.name":"First name","first.name.error.input.required":"First name is required","last.name":"Last name","last.name.error.input.required":"Last name is required","error.pages.button":"Go back to home","internal.server.error.status":"500","internal.server.error.title":"Internal server error","internal.server.error.body":"Oops! Sorry it\'s not you, it\'s us. We are working to solve this issue, please try again later.","not.found.status":"404","not.found.title":"Page not found","not.found.body":"The page you were looking for was not found on this server","search":"Search...","feed.back":"Feed back","feed.back.text.secondary":"Help us improve the version of the SkillPub system","settings":"Settings","theme":"Theme","log.out":"Log out","modal.text":"Email address","forgot.password":"Did you forget your password","send.email":"Send","send.email.cancel":"Cancel","profile.setting":"Profile settings","select.skills":"Select your skills","successful":"Wonderful","geolocation.warning":"Geolocation not available","enter.data":"Personal information","phone":"Phone","birth.date":"Birthdate","gender":"Gender","gender.female":"Female","gender.male":"Male","gender.other":"Other","location":"Location","save":"Save","saving":"Saving","skills":"Skills","added.skills":"Added skills","posts":"Posts","edit.profile":"Edit profile","profile.descripcion":"Profile description","contact":"Contact","adress":"Adress","favorites":"Favorites","unfollow":"Unfollow","follow":"Follow","follower":"Follower","following":"Following","maximum.files.supported":"Maximum files supported up to 5","files.supported":"Files supported .jpg, .png, .jpeg, .gif","post.created":"Post has been created","file.too.large":"There\'s a file that\'s too large","post.add":"What do you want to tell us?","post.add.message":"Post body is required","post.republished.message.success":"shared post","post.republished.message.error":"Post already shared","cancel":"Cancel","share":"Share","no.users":"No users found","successful.update":"Successful update","account.settings":"Account settings","account":"Account","language":"Language","choose.language":"Choose your language","spanish":"Spanish","english":"English","post":"Post","change.password":"Change password","current.password":"Current password","new.password":"New password","repeat.new.password":"Repeat the password","repeat.password.message":"The passwords are not the same","newPassword.invalid":"The new password is invalid","current.password.message":"The current password is incorrect","check.email":"Great! check email","go.login":"Go login","description.max.length":"Maximum characters 60","successfully.added.banner":"Banner added","successfully.updated.banner":"Banner updated","image.upload.failed":"Error while uploading image, try again","successfully.added.profilePhoto":"Profile photo added","successfully.updated.profilePhoto":"Profile photo updated","profilePhoto.google.facebook":"Profile picture taken either from Google or Facebook","invalid.extension":"Invalid extension","main.info.updated":"Main information updated","banner.photo":"Banner Photo","profile.photo":"Profile Photo","no.following.message":"You\'re not following anyone yet. Start following users to see their posts","end.message":"You\'re up to date","loading.message":"Loading"}')},234:function(e){e.exports=JSON.parse('{"name.app":"SkillPub","home":"Casa","hello.friend":"\xa1Hola amigo!","system.message.good":"Qu\xe9 bueno verte","sign.in":"Registrarse","sign.up":"Reg\xedstrate","log.in":"Iniciar Sesi\xf3n","use.accounts":"O usa tu cuenta","email":"Correo electr\xf3nico","email.message.error":"Correo electr\xf3nico no encontrado","email.message.error.registered":"El correo electr\xf3nico ya est\xe1 registrado","email.message.error.input.required":"El correo electronico es requerido","email.message.error.unverified":"El correo electr\xf3nico no esta verificado","password":"Contrase\xf1a","password.message.error":"La contrase\xf1a es incorrecta","password.message.error.input.required":"Se requiere contrase\xf1a","password.message.error.input.short":"Contrase\xf1a demasiado corta","recover.account":"\xbfHa olvidado su Contrase\xf1a?","welcome.back":"Bienvenido","system.message":"Para mantenerse conectado con nosotros","create.account":"Crear una cuenta","use.account.register":"O use su correo electr\xf3nico para registrarse","first.name":"Nombres","first.name.error.input.required":"Se requiere el nombre","last.name":"Apellidos","last.name.error.input.required":"Los apellidos son requeridos","error.pages.button":"Ir a inicio","internal.server.error.status":"500","internal.server.error.title":"Error interno del servidor","internal.server.error.body":"Oops! Lo sentimos no eres tu, somos nosotros. Estamos trabajando para resolver este error, por favor intenta m\xe1s tarde.","not.found.status":"404","not.found.title":"P\xe1gina no encontrada","not.found.body":"La p\xe1gina que estabas buscando no fue encontrada en este servidor","search":"Buscar...","feed.back":"\xbfQuieres contarnos alg\xfan problema?","feed.back.text.secondary":"Ay\xfadanos a mejorar la versi\xf3n del sistema SkillPub","settings":"Configuraciones","theme":"Tema","log.out":"Cerrar sesi\xf3n","modal.text":"Correo electr\xf3nico","forgot.password":"Se te olvid\xf3 tu contrase\xf1a","send.email":"Enviar","send.email.cancel":"Cancelar","profile.setting":"Configuraci\xf3n de perfil","select.skills":"Seleccione sus habilidades","successful":"Maravilloso","geolocation.warning":"Geolocalizaci\xf3n no disponible","enter.data":"Informaci\xf3n personal","phone":"Tel\xe9fono","birth.date":"Fecha de nacimiento","gender":"G\xe9nero","gender.female":"Femenino","gender.male":"Masculino","gender.other":"Otro","location":"Ubicaci\xf3n","save":"Guardar","saving":"Guardando","skills":"Habilidades","added.skills":"Habilidades a\xf1adidas","posts":"Publicaciones","edit.profile":"Editar perfil","profile.descripcion":"Descripci\xf3n del perfil","contact":"Contacto","adress":"Direccion","favorites":"Favoritos","unfollow":"Dejar de seguir","follow":"Seguir","follower":"Seguidores","following":"Siguiendo","maximum.files.supported":"El maximo de archivos soportados es de 5","files.supported":"Archivos soportados .jpg, .png, .jpeg, .gif","post.created":"El post ha sido creado","file.too.large":"Hay una imagen que es muy pesada","post.add":"\xbfQue quieres contarnos?","post.add.message":"Se requiere el cuerpo del poste","post.republished.message.success":"Publicaci\xf3n compartida","post.republished.message.error":"Publicaci\xf3n ya compartida","cancel":"Cancelar","share":"Compartir","no.users":"No se encontraron usuarios","successful.update":"Actualizaci\xf3n exitosa","account.settings":"Configuraciones de la cuenta","account":"Cuenta","language":"Lenguaje","choose.language":"Elige tu idioma","spanish":"Espa\xf1ol","english":"Ingles","post":"Enviar","change.password":"Cambia la contrase\xf1a","current.password":"Contrase\xf1a actual","new.password":"Nueva contrase\xf1a","repeat.new.password":"Repite la contrase\xf1a","repeat.password.message":"Las contrase\xf1as no son iguales","newPassword.invalid":"La nueva contrase\xf1a no es valida","current.password.message":"La contrase\xf1a actual es incorrecta","check.email":"\xa1Estupendo! Revisa el correo electr\xf3nico","go.login":"Ir a inicio de sesi\xf3n","description.max.length":"Caracteres maximos 60","successfully.added.banner":"Banner a\xf1adido","successfully.updated.banner":"Banner modificado","image.upload.failed":"Error al montar la imagen, intentar de nuevo","successfully.added.profilePhoto":"Foto de perfil a\xf1adida","successfully.updated.profilePhoto":"Foto de perfil editada","profilePhoto.google.facebook":"Foto de perfil tomada de Google \xf3 Facebook","invalid.extension":"Extension invalida","main.info.updated":"Informaci\xf3n principal editada","banner.photo":"Pancarta","profile.photo":"Foto de perfil","no.following.message":"Todavia no estas siguiendo a alguien. Empieza a seguir a usuarios para ver sus publicaciones","end.message":"Estas al d\xeda","loading.message":"Cargando"}')},263:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),r=a(20),i=a.n(r),o=(a(263),a(21)),c=a(28),l=a(8),d={Follower:[],Following:[],active:!0,createdAt:"",dateOfBirth:"",email:"",firstName:"",follower:[],following:[],gender:"M",groupsList:[],lastName:"",listOfAptitudes:[],location:{latitude:0,longitude:0},password:"",phone:"",state:"",postsList:[],savedposts:[],sharedPosts:[],updatedAt:"",__v:0,_id:""},u="getUserData",j="updateByField",b=function(e){return{type:u,payload:e}},p=function(e){return{type:j,payload:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case u:return n;case j:return Object(l.a)(Object(l.a)({},e),n);default:return e}},h="light",O="CHANGE_THEME_MODE",g=function(e){return{type:O,payload:"light"===e?"dark":"light"}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case O:return n;default:return e}},f=a(14),x=a(9),w=a.n(x),y=a(12),k=a(6),S=a(3),C=a(237),N=a(203),I=a.n(N),P=a(29),B=a(159),E=Object(B.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center"},backdrop:{zIndex:e.zIndex.drawer+1}}})),F=function(e){var t=e.isLoading,a=Object(P.a)(),s=E();return Object(n.jsx)(C.a,{open:t,className:s.backdrop,children:Object(n.jsx)(I.a,{type:"Bars",color:a.palette.secondary.main,height:100,width:100})})},T=a(205),_=a.n(T),A=_.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER}),R=A,D={ok:200,created:201,accepted:202,noContent:204,notModified:304,badRequest:400,unauthorized:401,forbidden:403,notFound:404,conflict:409,imATeapot:418,tooManyRequests:429,internalServerError:500,badGateway:502,networkExtended:599},U=5,L=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.component,a=e.user,r=Object(S.a)(e,["component","user"]),i=Object(s.useState)(!1),o=Object(k.a)(i,2),d=o[0],u=o[1],j=Object(s.useState)(!0),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(c.g)();return"missing settings"===a.state&&h.push("/settings"),Object(s.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("session"),e.next=4,R.post("/api/validateAccessToken",{token:t});case 4:a=e.sent,u(a.data.success),a.data.status===D.unauthorized&&localStorage.removeItem("session"),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),localStorage.removeItem("session"),m(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)(c.b,Object(l.a)(Object(l.a)({},r),{},{children:p?Object(n.jsx)(F,{isLoading:p}):d?Object(n.jsx)(t,{}):Object(n.jsx)(c.a,{to:"/access"})}))})),z=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.component,a=e.user,r=Object(S.a)(e,["component","user"]),i=Object(s.useState)(!1),o=Object(k.a)(i,2),d=o[0],u=o[1],j=Object(s.useState)(!0),b=Object(k.a)(j,2),p=b[0],m=b[1];return Object(s.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("session"),e.next=4,R.post("/api/validateAccessToken",{token:t});case 4:a=e.sent,u(a.data.success),a.data.status===D.unauthorized&&localStorage.removeItem("session"),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),localStorage.removeItem("session"),m(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)(c.b,Object(l.a)(Object(l.a)({},r),{},{children:p?Object(n.jsx)(F,{isLoading:p}):d?Object(n.jsx)("div",{children:"missing settings"===a.state&&Object(n.jsx)(t,{})}):Object(n.jsx)(c.a,{to:"/access"})}))})),M=a(484),q=a(506),H=a(82),W=a(206),G=a.n(W),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return Object(H.a)({palette:{primary:{main:G.a[500],contrastText:"#FFFFFF"},secondary:{main:"#FFAD1F",contrastText:"#FFFFFF"},text:{secondary:"#C3C8CE"},type:e,background:{default:"light"===e?"#eaeff5":"#18181B",paper:"light"===e?"#fff":"#1F1F23"}},props:{MuiButton:{disableElevation:!0,style:{borderRadius:50}},MuiInputBase:{style:{borderRadius:50}}}})},V=[],Y="setPosts",$=function(e){return{type:Y,payload:e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Y:return n;default:return e}},Q=a(491),X=a(52),Z=a(199),ee=Object(B.a)((function(e){return Object(Z.a)({main:{display:"flex",justifyContent:"center",width:"100%",marginTop:20},middle:{maxWidth:600,minWidth:600},btn:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px"},messageInput:{fontSize:".9em",color:e.palette.error.main},input:{display:"none"}})})),te=a(512),ae=a(18),ne=a(33),se=a(99),re=a(479),ie=a(518),oe=a(511),ce=a(10),le=a(16),de=a(7),ue=Object(B.a)((function(e){var t;return{paper:{padding:20},paperFooter:{marginTop:5},input:{display:"none"},postButtons:{marginTop:5,display:"flex",justifyContent:"space-between"},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,margin:"15px auto","@global":{"*::-webkit-scrollbar":{width:"0.6em","-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,.3)",backgroundColor:"#F5F5F5"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.3)",backgroundColor:"#F5F5F5"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,.3)",backgroundColor:"#BCC0C4"}}},gridList:{maxWidth:450,height:250},hideGridList:{display:"none"},titleBar:{backgroundColor:"transparent",padding:5},closeIcon:{color:"white",backgroundColor:Object(le.d)(e.palette.common.black,.8),"&:hover":{backgroundColor:Object(le.d)(e.palette.common.black,.6)}},avatar:{display:"flex",justifyContent:"center"},post:Object(ce.a)({width:"600px",marginTop:e.spacing(1)},e.breakpoints.down("xs"),{width:"100%"}),media:{position:"relative","& .CarouselItem":Object(ce.a)({height:"350px",overflow:"hidden",backgroundColor:"light"===(null===e||void 0===e||null===(t=e.palette)||void 0===t?void 0:t.type)?"#f1f1f1d7":"#1414142e"},e.breakpoints.down("xs"),{height:"164px"}),"& img":{width:"100%"}},CardAction:{justifyContent:"space-around","& .MuiIconButton-root:hover":{backgroundColor:"rgba(255, 255, 255, -0.92)!important"}},secondUser:{position:"relative"},secondUserTitle:Object(ce.a)({display:"flex",alignItems:"center",position:"absolute",left:"5em",top:"-2em"},e.breakpoints.down(296),{top:"-1.5em"}),smallText:{fontSize:".9em",opacity:.5},secondUserBody:{margin:"0 4em 1em 4em"},marginBottom:{marginBottom:e.spacing(2)},btnDefault:{opacity:.5},contentButton:{display:"flex",width:"100%",justifyContent:"flex-end"}}})),je=Object(de.a)((function(e){return{root:{width:22,height:22,border:"2px solid ".concat(e.palette.background.paper)}}}))(ie.a),be=a(472),pe=function(e){var t=e.size,a=void 0===t?50:t,s=e.isLoading,r=e.children,i=E(),o=Object(n.jsx)("div",{className:i.root,children:Object(n.jsx)(be.a,{color:"secondary",size:a})});return Object(n.jsx)(n.Fragment,{children:s?o:r})},me=a(519),he=function(e){var t=e.snackBar,a=e.handleClose;return Object(n.jsx)(me.a,{open:t.show,anchorOrigin:{vertical:t.vertical,horizontal:t.horizontal},autoHideDuration:6e3,onClose:a,children:Object(n.jsx)(te.a,{elevation:6,variant:"filled",severity:t.severity,children:t.message})})},Oe=a(474),ge=a(475),ve=a(476),fe=a(144),xe=a(69),we=a.n(xe),ye=function(e){var t=e.previewImages,a=e.handleDeselectImage,r=ue(),i=Object(s.useState)([]),o=Object(k.a)(i,2),c=o[0],l=o[1];return Object(s.useEffect)((function(){var e=[];1===t.length&&e.push(2),(4===t.length||3===t.length|1===t.length)&&e.push(1,1,2,2),5===t.length&&e.push(1,1,2,1,1),l([].concat(e))}),[t]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Oe.a,{cellHeight:200,cols:2,className:r.gridList,children:t.map((function(e,t){return Object(n.jsxs)(ge.a,{cols:c[t]||1,children:[Object(n.jsx)("img",{src:e,alt:e}),Object(n.jsx)(ve.a,{actionPosition:"right",titlePosition:"top",className:r.titleBar,actionIcon:Object(n.jsx)(fe.a,{className:r.closeIcon,size:"small",onClick:function(){return a(e)},children:Object(n.jsx)(we.a,{fontSize:"inherit"})})})]},t)}))})})},ke=a(477),Se=a(478),Ce=a(209),Ne=a.n(Ce),Ie=a(517),Pe=function(e){var t=e.handleFileChange,a=e.register,s=Object(Ie.a)().t,r=ue();return Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{}),Object(n.jsxs)("div",{className:r.postButtons,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{accept:"image/*",multiple:!0,className:r.input,id:"icon-button-file",name:"files",type:"file",ref:a,onChange:t}),Object(n.jsx)("label",{htmlFor:"icon-button-file",children:Object(n.jsx)(fe.a,{color:"inherit","aria-label":"upload picture",component:"span",children:Object(n.jsx)(Ne.a,{})})})]}),Object(n.jsx)("div",{children:Object(n.jsx)(Se.a,{variant:"contained",color:"primary",type:"submit",children:s("post")})})]})]})},Be=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.user,a={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},r=Object(s.useState)(!1),i=Object(k.a)(r,2),o=i[0],c=i[1],d=Object(s.useState)([]),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(s.useState)(a),m=Object(k.a)(p,2),h=m[0],O=m[1],g=Object(ne.a)(),v=g.register,f=g.handleSubmit,x=g.errors,S=ue(),C=Object(Ie.a)().t,N=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,s,r,i,o,d,u,j;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,s=t.bodyContent,r=t.files,n.append("bodyContent",s),Array.from(r).forEach((function(e){n.append("files[]",e)})),i={headers:{auth:localStorage.getItem("session")}},e.prev=5,c(!0),e.next=9,R.post("/api/posts",n,i);case 9:o=e.sent,d=o.data,u=d.success,j=d.message,u?"Post created"===j?(a.message=C("post.created"),a.severity="success"):a.message=C("internal.server.error.title"):a.message=C("There's a file which extension is not valid"===j?"files.supported":"File too large"===j?"file.too.large":"internal.server.error.title"),c(!1),b([]),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(5),c(!1),b([]),a.message=C("internal.server.error.title"),console.log(e.t0.message);case 22:O(Object(l.a)(Object(l.a)({},a),{},{show:!0}));case 23:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(se.a,{className:S.paper,children:Object(n.jsx)(pe,{isLoading:o,children:Object(n.jsx)("form",{onSubmit:f(N),children:Object(n.jsxs)(re.a,{container:!0,children:[Object(n.jsx)(re.a,{item:!0,xs:2,className:S.avatar,children:Object(n.jsx)(ie.a,{src:null===t||void 0===t?void 0:t.avatar,children:null===t||void 0===t?void 0:t.fistName})}),Object(n.jsx)(re.a,{item:!0,xs:10,children:Object(n.jsx)(oe.a,{fullWidth:!0,variant:"outlined",size:"small",label:C("post.add"),name:"bodyContent",autoComplete:"off",inputRef:v({required:{value:!0,message:C("post.add.message")}}),error:Boolean(null===x||void 0===x?void 0:x.bodyContent)})}),Object(n.jsx)(re.a,{item:!0,xs:12,children:Object(n.jsx)("div",{className:j.length>0?S.root:S.hideGridList,children:j&&Object(n.jsx)(ye,{previewImages:j,handleDeselectImage:function(e){var t=j.indexOf(e),a=j;a.splice(t,1),b(Object(ae.a)(a))}})})}),Object(n.jsx)(re.a,{item:!0,xs:12,className:S.paperFooter,children:Object(n.jsx)(Pe,{register:v,handleFileChange:function(e){var t=Array.from(e.target.files);t.length<6?Promise.all(t.map((function(e){return new Promise((function(t,a){var n=new FileReader;n.addEventListener("load",(function(e){t(e.target.result)})),n.addEventListener("error",a),n.readAsDataURL(e)}))}))).then((function(e){return b(e)})).catch((function(e){return console.log(e)})):(a.message=C("maximum.files.supported"),a.severity="info",O(Object(l.a)(Object(l.a)({},a),{},{show:!0})))}})})]})})})}),Object(n.jsx)(he,{snackBar:h,handleClose:function(){O(a)}})]})})),Ee=a(488),Fe=a(489),Te=a(490),_e=a(119),Ae=a.n(_e),Re=a(485),De=a(85),Ue=a.n(De),Le=function(e){var t=e.avatar,a=e.firstName,s=e.lastName;return Object(n.jsx)(Re.a,{avatar:Object(n.jsx)(ie.a,{src:t,children:null===a||void 0===a?void 0:a.substring(0,1)}),title:a+" "+s,action:Object(n.jsx)(fe.a,{"aria-label":"settings",children:Object(n.jsx)(Ue.a,{})})})},ze=a(486),Me=a(210),qe=a.n(Me),He=function(e){var t=e.avatar,a=e.firstName,s=e.lastName,r=e.avatarRepublish,i=e.firstNameRepublish,o=e.lastNameRepublish,c=e.republishedBodyContent,l=ue();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Re.a,{avatar:Object(n.jsx)(ze.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:Object(n.jsx)(je,{alt:"Remy Sharp",src:r,children:null===i||void 0===i?void 0:i.substring(0,1)}),children:Object(n.jsx)(ie.a,{alt:"Travis Howard",src:t,children:null===a||void 0===a?void 0:a.substring(0,1)})}),title:a+" "+s,action:Object(n.jsx)(fe.a,{"aria-label":"settings",children:Object(n.jsx)(Ue.a,{})})}),Object(n.jsxs)("div",{className:l.secondUser,children:[Object(n.jsxs)("div",{className:l.secondUserTitle,children:[Object(n.jsx)(qe.a,{className:l.smallText}),Object(n.jsx)(X.a,{variant:"subtitle1",className:l.smallText,children:i+" "+o})]}),Object(n.jsx)(X.a,{variant:"subtitle2",className:"".concat(l.secondUserBody," ").concat(l.smallText),children:c})]})]})},We=a(487),Ge=a(211),Ke=a.n(Ge),Ve=a(213),Ye=a.n(Ve),$e=a(212),Je=a.n($e),Qe=function(e){var t=e.liked,a=e.handleRepublish,s=e.handleLike,r=e.handleDislike,i=ue();return Object(n.jsxs)(We.a,{className:i.CardAction,children:[t?Object(n.jsx)(fe.a,{"aria-label":"likes",onClick:r,children:Object(n.jsx)(Je.a,{})}):Object(n.jsx)(fe.a,{"aria-label":"likes",onClick:s,children:Object(n.jsx)(Ke.a,{})}),Object(n.jsx)(fe.a,{"aria-label":"share",onClick:a,children:Object(n.jsx)(Ye.a,{})})]})},Xe=a(61),Ze=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t,a,r,i,o,c,d,u,j,b=e.post,p=e.user,m=Object(s.useState)(!1),h=Object(k.a)(m,2),O=h[0],g=h[1],v=Object(s.useState)(!1),f=Object(k.a)(v,2),x=f[0],S=f[1],C=Object(s.useState)({show:!1,message:"",vertical:"top",horizontal:"center",severity:"error"}),N=Object(k.a)(C,2),I=N[0],P=N[1],B=ue(),E=Object(ne.a)(),F=E.register,T=E.handleSubmit,_=E.errors,A=Object(Ie.a)().t;Object(s.useEffect)((function(){void 0!==b.likesList.find((function(e){return e===p._id}))&&S(!0)}),[b,p]);var D=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,s,r,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===b.republishedUsersId.find((function(e){return e===p._id}))){e.next=6;break}P(Object(l.a)(Object(l.a)({},I),{},{message:A("post.republished.message.error"),show:!0})),e.next=13;break;case 6:return a={userId:p._id,thumbnailsList:null===b||void 0===b?void 0:b.thumbnailsList,republishedValidation:!0,bodyContent:t.bodyContent,republishedBodyContent:null===b||void 0===b?void 0:b.bodyContent,republishedUserId:b.userId._id},n={userId:p._id,postId:b._id},e.next=10,R.post("/api/republishPost",{share:a,republishedIds:n},{headers:{auth:localStorage.getItem("session")}});case 10:s=e.sent,r=s.data,i=r.success,o=r.message,i?P(Object(l.a)(Object(l.a)({},I),{},{message:A("post.republished.message.success"),show:!0,severity:"success"})):"Already published"===o&&P(Object(l.a)(Object(l.a)({},I),{},{message:A("post.republished.message.error"),show:!0}));case 13:g(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),P(Object(l.a)(Object(l.a)({},I),{},{message:A("internal.server.error.title"),show:!0}));case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/likePost",{postId:b._id,userId:p._id},{headers:{auth:localStorage.getItem("session")}});case 3:t=e.sent,t.data.success&&S(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/dislikePost",{postId:b._id,userId:p._id},{headers:{auth:localStorage.getItem("session")}});case 3:t=e.sent,t.data.success&&S(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Ee.a,{className:B.post,elevation:1,children:[(null===b||void 0===b?void 0:b.republishedValidation)?Object(n.jsx)(He,{avatar:null===b||void 0===b||null===(i=b.userId)||void 0===i?void 0:i.avatar,firstName:null===b||void 0===b||null===(o=b.userId)||void 0===o?void 0:o.firstName,lastName:null===b||void 0===b||null===(c=b.userId)||void 0===c?void 0:c.lastName,avatarRepublish:null===b||void 0===b||null===(d=b.republishedUserId)||void 0===d?void 0:d.avatar,firstNameRepublish:null===b||void 0===b||null===(u=b.republishedUserId)||void 0===u?void 0:u.firstName,lastNameRepublish:null===b||void 0===b||null===(j=b.republishedUserId)||void 0===j?void 0:j.lastName,republishedBodyContent:null===b||void 0===b?void 0:b.republishedBodyContent}):Object(n.jsx)(Le,{avatar:null===b||void 0===b||null===(t=b.userId)||void 0===t?void 0:t.avatar,firstName:null===b||void 0===b||null===(a=b.userId)||void 0===a?void 0:a.firstName,lastName:null===b||void 0===b||null===(r=b.userId)||void 0===r?void 0:r.lastName}),Object(n.jsx)(Ae.a,{className:B.media,fullHeightHover:!0,autoPlay:!1,children:1===(null===b||void 0===b?void 0:b.thumbnailsList.length)?Object(n.jsx)(Xe.Image,{publicId:null===b||void 0===b?void 0:b.thumbnailsList[0],cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME}):null===b||void 0===b?void 0:b.thumbnailsList.map((function(e,t){return Object(n.jsx)(Xe.Image,{publicId:e,cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME},t)}))}),Object(n.jsx)(Fe.a,{children:Object(n.jsx)(X.a,{children:null===b||void 0===b?void 0:b.bodyContent})}),Object(n.jsx)(Qe,{liked:x,comments:5,republishValue:7,favorites:2,handleRepublish:function(){return g(!0)},handleLike:U,handleDislike:L}),O&&Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{className:B.marginBottom}),Object(n.jsx)(Te.a,{className:B.marginBottom,children:Object(n.jsxs)("form",{onSubmit:T(D),children:[Object(n.jsx)(oe.a,{fullWidth:!0,variant:"outlined",size:"small",label:A("post.add"),name:"bodyContent",autoComplete:"off",inputRef:F({required:{value:!0,message:A("post.add.message")}}),error:Boolean(null===_||void 0===_?void 0:_.bodyContent)}),Object(n.jsxs)("div",{className:B.contentButton,children:[Object(n.jsx)(Se.a,{className:B.btnDefault,onClick:function(){return g(!1)},children:A("cancel")}),Object(n.jsx)(Se.a,{type:"submit",color:"primary",children:A("share")})]})]})})]})]}),Object(n.jsx)(he,{snackBar:I,handleClose:function(){P(Object(l.a)(Object(l.a)({},I),{},{show:!1,severity:"error"}))}})]})})),et=a(214),tt=function(e){var t=e.title,a=e.description;Object(s.useEffect)((function(){document.title="SkillPub | ".concat(t)}),[t]),Object(s.useEffect)((function(){var e=document.querySelector("meta[name='description']");null===e||void 0===e||e.setAttribute("content",a)}),[a])},at={setPosts:$},nt=Object(f.b)((function(e){return{user:e.User,posts:e.Posts}}),at)((function(e){var t=e.posts,a=e.user,r=e.setPosts,i=ee(),o=Object(P.a)(),c=Object(Q.a)(o.breakpoints.up("sm")),l=Object(s.useState)(U),d=Object(k.a)(l,2),u=d[0],j=d[1],b=Object(s.useState)(!0),p=Object(k.a)(b,2),m=p[0],h=p[1],O=Object(Ie.a)().t;tt({title:"Home",description:"home information"}),Object(s.useEffect)((function(){Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/getPostsHome",{id:a._id,limit:u},{headers:{auth:localStorage.getItem("session")}});case 3:t=e.sent,t.data.success&&(h(t.data.hasMore),r(t.data.posts)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[r,u,a]);var g=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(u+U),e.prev=2,e.next=5,R.post("/api/getPostsHome",{id:a._id,limit:u},{headers:{auth:localStorage.getItem("session")}});case 5:t=e.sent,t.data.success&&(h(t.data.hasMore),r(t.data.posts)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:i.main,children:Object(n.jsxs)("div",{className:c?i.middle:"",children:[Object(n.jsx)(Be,{}),0!==t.length?Object(n.jsx)(et.a,{dataLength:t.length,next:g,hasMore:m,loader:Object(n.jsx)(X.a,{variant:"subtitle2",align:"center",children:O("loading.message")}),endMessage:Object(n.jsx)(te.a,{severity:"info",variant:"filled",style:{margin:"10px 0"},children:O("end.message")}),children:null===t||void 0===t?void 0:t.map((function(e){return Object(n.jsx)(Ze,{post:e})}))}):Object(n.jsx)(te.a,{style:{marginTop:10},severity:"info",variant:"outlined",children:O("no.following.message")})]})})})),st=Object(B.a)((function(e){return Object(Z.a)({root:{height:"100vh","& .MuiGrid-item":{maxWidth:"100%"}},Button:{marginTop:"10px"},content:{position:"relative",margin:"20px 0"},container:{display:"flex",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap"},images:{width:"30px"},signInContainer:{zIndex:2},signUpContainer:{opacity:0,zIndex:2},hideSingIn:{opacity:0,animation:"$hide 0.2s"},showSingUp:{zIndex:5,opacity:1,animation:"$show 0.8s"},formStyle:{padding:"20px",width:"290px",textAlign:"center","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},"& .MuiInputBase-root":{borderRadius:"30px 30px"}},formStyleRecoverPassword:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},overlayContainer:Object(ce.a)({position:"absolute",top:"0",left:"50%",width:"50%",height:"100%",zIndex:3},e.breakpoints.down("sm"),{left:"0",top:"50%"}),overlay:Object(ce.a)({background:"linear-gradient(to right, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.dark,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"0 0",color:"#ffffff",position:"relative",height:"100%",width:"200%",transition:"all 0.6s ease-in-out",display:"flex",justifyContent:"space-around",alignItems:"center",textAlign:"center",left:"0"},e.breakpoints.down("sm"),{top:"0",flexDirection:"column"}),overlayChange:Object(ce.a)({left:"-200%"},e.breakpoints.down("sm"),{left:"0",top:"-110%"}),overlayPanel:Object(ce.a)({padding:"0 40px",textAlign:"center",opacity:0,marginLeft:"29px"},e.breakpoints.down("sm"),{marginLeft:"0"}),overlaySwitchPanel:{opacity:1,animation:"$showOverlayPanel 0.6s ease-in-out"},socialContainer:{display:"flex",justifyContent:"space-evenly"},modalContainer:{textAlign:"center",margin:"0 40px 20px 40px"},iconModal:{fontSize:100,textAlign:"center"},formStylePassword:{marginTop:"10px"},diealogRecoverPassword:{margin:0,padding:e.spacing(2)},btn:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},"@keyframes show":{"0%, 50%":{zIndex:2,opacity:0},"100%":{zIndex:5,opacity:1}},"@keyframes hide":{"0%, 50%":{opacity:1},"100%":{opacity:0}},"@keyframes showOverlayPanel":{"0%, 50%":{opacity:0},"100%":{opacity:1}}})})),rt=a(514),it=a(495),ot=a(62),ct=a.n(ot),lt=a(63),dt=a.n(lt),ut=a(215),jt=a.n(ut),bt=a(216),pt=a.n(bt),mt=a.p+"static/media/google.92b8040a.svg",ht=a.p+"static/media/facebook.db22d166.svg",Ot=function(){var e=Object(y.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/getUser",{},{headers:{auth:localStorage.getItem("session")}});case 3:if(!(a=e.sent).data.success){e.next=8;break}t(a.data.user),e.next=9;break;case 8:throw new Error("Internal server error");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("error: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),gt=Ot,vt={getUserData:b},ft=Object(f.b)(null,vt)((function(e){var t=e.handleopenBackDrop,a=e.validateAccess,r=e.getUserData,i={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},o=Object(s.useState)(i),d=Object(k.a)(o,2),u=d[0],j=d[1],b=st(),p=Object(c.g)(),m=Object(Ie.a)().t,h=function(){var e=Object(y.a)(w.a.mark((function e(n){var s,o,c,d,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0),e.next=4,R.post("/api/googleAccess",{tokenId:n.tokenId,validateAccess:a});case 4:if(s=e.sent,t(!1),o=s.data,c=o.success,d=o.message,u=o.token,!c){e.next=21;break}if("User found"!==d){e.next=15;break}return localStorage.setItem("session",u),e.next=12,gt(r);case 12:return e.abrupt("return",p.push("/"));case 15:return localStorage.setItem("session",u),e.next=18,gt(r);case 18:return e.abrupt("return",p.push("/settings"));case 19:e.next=34;break;case 21:if("Email not found"!==d){e.next=25;break}i.message=m("email.message.error"),e.next=34;break;case 25:if("Email is already registered"!==d){e.next=29;break}i.message=m("email.message.error.registered"),e.next=34;break;case 29:if("Unverified email"!==d){e.next=33;break}i.message=m("email.message.error.unverified"),e.next=34;break;case 33:throw new Error("internal server error");case 34:e.next=41;break;case 36:e.prev=36,e.t0=e.catch(0),t(!1),i.message=m("internal.server.error.title"),console.error(e.t0);case 41:j(Object(l.a)(Object(l.a)({},i),{},{show:!0}));case 42:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(y.a)(w.a.mark((function e(n){var s,o,c,d,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("unknown"!==n.status){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t(!0),e.next=6,R.post("/api/facebookAccess",{accessToken:n.accessToken,userId:n.userID,validateAccess:a});case 6:if(s=e.sent,t(!1),o=s.data,c=o.success,d=o.message,u=o.token,!c){e.next=23;break}if("User found"!==d){e.next=17;break}return localStorage.setItem("session",u),e.next=14,gt(r);case 14:return e.abrupt("return",p.push("/"));case 17:return localStorage.setItem("session",u),e.next=20,gt(r);case 20:return e.abrupt("return",p.push("/settings"));case 21:e.next=32;break;case 23:if("Email not found"!==d){e.next=27;break}i.message=m("email.message.error"),e.next=32;break;case 27:if("Email is already registered"!==d){e.next=31;break}i.message=m("email.message.error.registered"),e.next=32;break;case 31:throw new Error("internal server error");case 32:e.next=39;break;case 34:e.prev=34,e.t0=e.catch(2),t(!1),i.message=m("internal.server.error.title"),console.error(e.t0);case 39:j(Object(l.a)(Object(l.a)({},i),{},{show:!0}));case 40:case"end":return e.stop()}}),e,null,[[2,34]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:b.socialContainer,children:[Object(n.jsx)(jt.a,{clientId:"920347174932-jom43a4j0cqa05rgjri2pvo0nrcogvhm.apps.googleusercontent.com",render:function(e){return Object(n.jsx)(Se.a,{onClick:e.onClick,disabled:e.disabled,"aria-label":"like",size:"small",children:Object(n.jsx)("img",{src:mt,alt:"google",className:b.images})})},onSuccess:h,onFailure:function(e){console.error(e)},cookiePolicy:"single_host_origin"}),Object(n.jsx)(pt.a,{appId:"716647445609370",autoLoad:!1,fields:"name,email,picture",callback:O,render:function(e){return Object(n.jsx)(Se.a,{onClick:e.onClick,"aria-label":"like",size:"small",children:Object(n.jsx)("img",{src:ht,alt:"facebook",className:b.images})})}})]}),Object(n.jsx)(he,{snackBar:u,handleClose:function(){j(i)}})]})})),xt=a(146),wt=a(492),yt=a(493),kt=a(494),St=a(217),Ct=a.n(St),Nt=function(e,t){return Object(n.jsx)(xt.a,Object(l.a)({direction:"up",ref:t},e))},It=Object(s.forwardRef)(Nt),Pt=function(){var e=Object(s.useState)({show:!1,message:"",severity:"error"}),t=Object(k.a)(e,2),a=t[0],r=t[1],i=Object(s.useState)(!1),o=Object(k.a)(i,2),c=o[0],l=o[1],d=Object(s.useState)(""),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(Ie.a)().t,m=st(),h=Object(P.a)(),O=Object(Q.a)(h.breakpoints.down("xs")),g=function(){l(!1)},v=function(){var e=Object(y.a)(w.a.mark((function e(){var t,a,n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===j){e.next=8;break}return e.next=3,R.post("/api/sendEmail",{email:j});case 3:t=e.sent,a=t.data,n=a.success,s=a.message,n?r({message:p("check.email"),show:!0,severity:"success"}):"Email not found"===s&&r({message:p("email.message.error"),show:!0,severity:"error"}),e.next=9;break;case 8:r({message:p("email.message.error.input.required"),show:!0,severity:"error"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(wt.a,{href:"#",onClick:function(){l(!0)},children:p("recover.account")}),Object(n.jsxs)(yt.a,{open:c,TransitionComponent:It,fullScreen:O,keepMounted:!0,maxWidth:"xl",onClose:g,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsxs)("div",{className:m.modalContainer,children:[Object(n.jsxs)(kt.a,{onClose:g,disableTypography:!0,className:m.diealogRecoverPassword,children:[Object(n.jsx)(X.a,{variant:"h6",children:p("forgot.password")}),g?Object(n.jsx)(fe.a,{"aria-label":"close",className:m.btn,onClick:g,children:Object(n.jsx)(we.a,{})}):null]}),Object(n.jsx)(Ct.a,{color:"primary",className:m.iconModal}),Object(n.jsxs)("form",{className:m.formStyleRecoverPassword,children:[Object(n.jsx)(oe.a,{type:"email",name:"email",label:p("modal.text"),autoFocus:!0,margin:"dense",variant:"outlined",size:"small",value:j,onChange:function(e){return b(e.target.value)}}),Object(n.jsx)(Se.a,{onClick:v,variant:"contained",color:"primary",children:p("send.email")})]})]}),a.show&&Object(n.jsx)(te.a,{severity:a.severity,children:a.message})]})]})},Bt={getUserData:b},Et=Object(f.b)(null,Bt)((function(e){var t,a,r=e.changeAccess,i=e.getUserData,o={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},d=Object(s.useState)(!1),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(s.useState)(o),m=Object(k.a)(p,2),h=m[0],O=m[1],g=Object(s.useState)(!1),v=Object(k.a)(g,2),f=v[0],x=v[1],S=Object(ne.a)(),C=S.register,N=S.handleSubmit,I=S.errors,P=st(),B=ee(),E=Object(c.g)(),T=Object(Ie.a)().t,_=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,s,r,c,d,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,x(!0),e.next=5,R.post("/api/signIn",{email:a,password:n});case 5:if(s=e.sent,x(!1),r=s.data,c=r.success,d=r.token,u=r.message,!c){e.next=15;break}return localStorage.setItem("session",d),e.next=12,gt(i);case 12:return e.abrupt("return",E.push("/"));case 15:o.message=T("Email not found"===u?"email.message.error":"password.message.error");case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(1),x(!1),console.error("error: =>",e.t0),o.message=T("internal.server.error.title");case 23:O(Object(l.a)(Object(l.a)({},o),{},{show:!0}));case 24:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:P.signInContainer,children:Object(n.jsxs)("form",{onSubmit:N(_),className:"".concat(P.formStyle," ").concat(r?"":P.hideSingIn),children:[Object(n.jsx)(rt.a,{xsDown:!0,children:Object(n.jsx)(X.a,{variant:"h3",children:T("sign.in")})}),Object(n.jsx)(rt.a,{smUp:!0,children:Object(n.jsx)(X.a,{variant:"h6",children:T("sign.in")})}),Object(n.jsx)(ft,{handleopenBackDrop:function(e){x(e)},validateAccess:"signIn"}),Object(n.jsx)(X.a,{variant:"caption",children:T("use.accounts")}),Object(n.jsx)(oe.a,{type:"email",name:"email",label:T("email"),variant:"outlined",size:"small",error:Boolean(null===I||void 0===I?void 0:I.email),inputRef:C({required:{value:!0,message:T("email.message.error.input.required")}})}),Object(n.jsx)("div",{className:B.messageInput,children:null===I||void 0===I||null===(t=I.email)||void 0===t?void 0:t.message}),Object(n.jsx)(oe.a,{type:j?"text":"password",name:"password",label:T("password"),variant:"outlined",size:"small",error:Boolean(null===I||void 0===I?void 0:I.password),inputRef:C({required:{value:!0,message:T("password.message.error.input.required")},minLength:{value:6,message:T("password.message.error.input.short")}}),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){b(!j)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"small",children:j?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})}}),Object(n.jsx)("div",{className:B.messageInput,children:null===I||void 0===I||null===(a=I.password)||void 0===a?void 0:a.message}),Object(n.jsx)(Pt,{}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:P.Button,children:T("log.in")})]})}),Object(n.jsx)(he,{snackBar:h,handleClose:function(){O(o)}}),Object(n.jsx)(F,{isLoading:f})]})})),Ft={getUserData:b},Tt=Object(f.b)(null,Ft)((function(e){var t,a,r,i=e.changeAccess,o=e.getUserData,d={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},u=Object(s.useState)(d),j=Object(k.a)(u,2),b=j[0],p=j[1],m=Object(s.useState)(!1),h=Object(k.a)(m,2),O=h[0],g=h[1],v=Object(ne.a)(),f=v.register,x=v.handleSubmit,S=v.errors,C=st(),N=ee(),I=Object(c.g)(),P=Object(Ie.a)().t,B=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,s,r,i,c,u,j,b;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,s=t.firstName,r=t.lastName,e.prev=1,g(!0),e.next=5,R.post("/api/signUp",{email:a,password:n,firstName:s,lastName:r});case 5:if(i=e.sent,g(!1),c=i.data,u=c.success,j=c.token,b=c.message,!u){e.next=14;break}return localStorage.setItem("session",j),gt(o),e.abrupt("return",I.push("/settings"));case 14:"Email is already registered"===b&&(d.message=P("email.message.error.registered"));case 15:e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),g(!1),console.error("error: =>",e.t0),d.message=P("internal.server.error.title");case 22:p(Object(l.a)(Object(l.a)({},d),{},{show:!0}));case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"".concat(C.signUpContainer," ").concat(i?"":C.showSingUp),children:Object(n.jsxs)("form",{onSubmit:x(B),className:C.formStyle,children:[Object(n.jsx)(rt.a,{xsDown:!0,children:Object(n.jsx)(X.a,{variant:"h4",children:P("create.account")})}),Object(n.jsx)(rt.a,{smUp:!0,children:Object(n.jsx)(X.a,{variant:"h6",children:P("create.account")})}),Object(n.jsx)(ft,{handleopenBackDrop:function(e){g(e)},validateAccess:"signUp"}),Object(n.jsx)("span",{children:P("use.account.register")}),Object(n.jsx)(oe.a,{type:"email",name:"email",label:P("email"),variant:"outlined",size:"small",error:Boolean(null===S||void 0===S?void 0:S.email),inputRef:f({required:{value:!0,message:P("email.message.error.input.required")}})}),Object(n.jsx)("div",{className:N.messageInput,children:null===S||void 0===S||null===(t=S.email)||void 0===t?void 0:t.message}),Object(n.jsx)(oe.a,{name:"firstName",label:P("first.name"),variant:"outlined",size:"small",error:Boolean(null===S||void 0===S?void 0:S.firstName),inputRef:f({required:{value:!0,message:P("first.name.error.input.required")}})}),Object(n.jsx)("div",{className:N.messageInput,children:null===S||void 0===S||null===(a=S.firstName)||void 0===a?void 0:a.message}),Object(n.jsx)(oe.a,{name:"lastName",label:P("last.name"),variant:"outlined",size:"small",error:Boolean(null===S||void 0===S?void 0:S.lastName),inputRef:f({required:{value:!0,message:P("last.name.error.input.required")}})}),Object(n.jsx)("div",{className:N.messageInput,children:null===S||void 0===S||null===(r=S.lastName)||void 0===r?void 0:r.message}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:C.Button,children:P("sign.up")})]})}),Object(n.jsx)(he,{snackBar:b,handleClose:function(){p(d)}}),Object(n.jsx)(F,{isLoading:O})]})})),_t=function(e){var t=e.changeAccess,a=e.handleChangeAccess,s=Object(Ie.a)().t,r=st();return Object(n.jsx)("div",{className:"".concat(r.overlayContainer),children:Object(n.jsxs)("div",{className:"".concat(r.overlay," ").concat(t?"":r.overlayChange),children:[Object(n.jsxs)("div",{className:"".concat(r.overlayPanel," ").concat(t?r.overlaySwitchPanel:""," "),children:[Object(n.jsx)(X.a,{variant:"h4",children:s("hello.friend")}),Object(n.jsx)("p",{children:s("system.message.good")}),Object(n.jsx)(Se.a,{variant:"outlined",color:"inherit",id:"signUp",onClick:function(){return a(!1)},children:s("sign.up")})]}),Object(n.jsxs)("div",{className:"".concat(r.overlayPanel," ").concat(t?"":r.overlaySwitchPanel," "),children:[Object(n.jsx)(X.a,{variant:"h4",children:s("welcome.back")}),Object(n.jsx)("p",{children:s("system.message")}),Object(n.jsx)(Se.a,{variant:"outlined",color:"inherit",onClick:function(){return a(!0)},children:s("log.in")})]})]})})},At=function(){var e=Object(Ie.a)().i18n;Object(s.useEffect)((function(){var t=navigator.language.split("-");e.changeLanguage(t[0])}),[e])},Rt=function(){var e=st(),t=Object(s.useState)(!0),a=Object(k.a)(t,2),r=a[0],i=a[1];tt({title:"access",description:"log in to the skill Pub app"}),At();var o=function(){var e=Object(s.useState)(!1),t=Object(k.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){!function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("session"),e.next=4,R.post("/api/validateAccessToken",{token:t});case 4:(a=e.sent).data.status===D.unauthorized&&localStorage.removeItem("session"),n(a.data.success),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),localStorage.removeItem("session"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),a}();return Boolean(o)?Object(n.jsx)(c.a,{to:"/"}):Object(n.jsx)(Te.a,{children:Object(n.jsx)(re.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(n.jsx)(re.a,{item:!0,xs:9,sm:7,md:12,children:Object(n.jsxs)(Ee.a,{className:e.content,children:[Object(n.jsxs)("div",{className:"".concat(e.container),children:[Object(n.jsx)(Et,{changeAccess:r}),Object(n.jsx)(Tt,{changeAccess:r})]}),Object(n.jsx)(_t,{changeAccess:r,handleChangeAccess:function(e){i(e)}})]})})})})},Dt=Object(B.a)((function(e){return Object(Z.a)({root:{flexGrow:1,height:"100vh"},paper:Object(ce.a)({padding:e.spacing(4),textAlign:"center",borderRadius:30},e.breakpoints.down("xs"),{backgroundColor:"inherit"})})})),Ut=function(){var e=Dt(),t=Object(Ie.a)().t;return tt({title:"Page not found",description:"Page not found 404"}),At(),Object(n.jsx)(re.a,{container:!0,direction:"row",alignItems:"center",justify:"center",className:e.root,children:Object(n.jsx)(re.a,{item:!0,children:Object(n.jsxs)(se.a,{className:e.paper,elevation:0,children:[Object(n.jsx)(X.a,{variant:"h1",color:"textSecondary",children:Object(n.jsx)("b",{children:t("not.found.status")})}),Object(n.jsx)(rt.a,{xsDown:!0,children:Object(n.jsx)(X.a,{variant:"h2",color:"textSecondary",children:Object(n.jsx)("b",{children:t("not.found.title")})})}),Object(n.jsx)(rt.a,{smUp:!0,children:Object(n.jsx)(X.a,{variant:"h4",color:"textSecondary",children:Object(n.jsx)("b",{children:t("not.found.title")})})}),Object(n.jsx)(X.a,{variant:"body1",color:"textSecondary",paragraph:!0,children:Object(n.jsx)("b",{children:t("not.found.body")})}),Object(n.jsx)(Se.a,{variant:"contained",color:"primary",component:o.b,to:"/",children:t("error.pages.button")})]})})})},Lt=a(522),zt=a(500),Mt=a(515),qt=Object(B.a)((function(e){return{root:{width:"100%"},container:{padding:"20px 0"},cardContent:{textAlign:"center"},spacing:{margin:e.spacing(1)},spacingTop:{marginTop:e.spacing(1)},spacingBottom:{marginBottom:e.spacing(2)},formStyle:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center","& .MuiTextField-root":{margin:e.spacing(1),width:"15em"}},constrastCard:{backgroundColor:"light"===e.palette.type?"#f1f1f1d7":"#2b2b2bd7"},locationContainer:{padding:"0 20px",paddingBottom:"0!important",display:"flex",alignItems:"center"},skillsContent:{display:"flex",justifyContent:"center",flexWrap:"wrap"},dialogContent:{maxHeight:"100em",display:"flex",flexWrap:"wrap","& .MuiButton-root":{margin:".5em"}}}})),Ht=a(481),Wt=a(516),Gt=a(498),Kt=a(513),Vt=a(499),Yt=a(120),$t=a(36),Jt=a(510),Qt=function(e){var t,a=e.saveUserData,r=e.gender,i=e.handleChangeGender,o=e.checked,c=e.handleGeolocationChecked,l=e.selectedDate,d=e.setSelectedDate,u=Object(P.a)(),j=Object(Q.a)(u.breakpoints.down("sm")),b=qt(),p=ee(),m=Object(s.useState)(!1),h=Object(k.a)(m,2),O=h[0],g=h[1],v=Object(ne.a)(),f=v.register,x=v.handleSubmit,w=v.errors,y=Object(Ie.a)().t;return Object(n.jsx)(Ee.a,{elevation:0,children:Object(n.jsxs)(Fe.a,{className:b.cardContent,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(X.a,{children:y("enter.data")}),Object(n.jsx)(ke.a,{})]}),Object(n.jsxs)("form",{onSubmit:x(a),className:b.formStyle,children:[Object(n.jsx)(oe.a,{type:O?"text":"password",name:"password",label:y("password"),variant:"outlined",size:"small",InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){g(!O)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"small",children:O?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})},inputRef:f({required:{value:!0,message:y("password.message.error.input.required")},minLength:{value:6,message:y("password.message.error.input.short")}})}),Object(n.jsx)("div",{className:p.messageInput,children:null===w||void 0===w||null===(t=w.password)||void 0===t?void 0:t.message}),Object(n.jsx)(oe.a,{type:"number",name:"phone",label:y("phone"),variant:"outlined",size:"small",inputRef:f}),Object(n.jsx)($t.a,{utils:Yt.a,children:Object(n.jsx)(Jt.a,{orientation:j?"portrait":"landscape",variant:"inline",name:"dateOfBirth",label:y("birth.date"),format:"DD-MM-YYYY",maxDate:new Date,value:l,onChange:d})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Ht.a,{component:"legend",children:y("gender")}),Object(n.jsxs)(Wt.a,{"aria-label":y("gender"),name:"gender",value:r,onChange:i,children:[Object(n.jsx)(Gt.a,{value:"F",control:Object(n.jsx)(Kt.a,{}),label:y("gender.female")}),Object(n.jsx)(Gt.a,{value:"M",control:Object(n.jsx)(Kt.a,{}),label:y("gender.male")}),Object(n.jsx)(Gt.a,{value:"other",control:Object(n.jsx)(Kt.a,{}),label:y("gender.other")})]})]}),Object(n.jsx)(Ee.a,{elevation:0,className:b.constrastCard,children:Object(n.jsxs)(Fe.a,{className:b.locationContainer,children:[Object(n.jsx)(X.a,{children:y("location")}),Object(n.jsx)(Vt.a,{checked:o,onChange:c,name:"checked",color:"primary"})]})}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:b.spacingTop,children:y("save")})]})]})})},Xt=a(521),Zt=a(496),ea=function(e){var t=e.aptitudes,a=e.onClose,s=e.open,r=e.addSkills,i=qt();return Object(n.jsxs)(yt.a,{onClose:a,"aria-labelledby":"simple-dialog-title",open:s,children:[Object(n.jsx)(kt.a,{id:"simple-dialog-title",children:"Set backup account"}),Object(n.jsx)(Zt.a,{className:i.dialogContent,children:t.map((function(e,t){return Object(n.jsx)(Se.a,{onClick:function(){return r(e.name,e._id)},variant:"contained",color:t%2?"primary":"secondary",children:e.name},t)}))})]})},ta=function(e){var t=e.saveSkills,a=e.handleSnackBar,r=Object(s.useState)([]),i=Object(k.a)(r,2),o=i[0],c=i[1],l=qt(),d=Object(s.useState)(!1),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(s.useState)([]),m=Object(k.a)(p,2),h=m[0],O=m[1],g=Object(s.useState)([]),v=Object(k.a)(g,2),f=v[0],x=v[1],S=Object(s.useState)(!1),C=Object(k.a)(S,2),N=C[0],I=C[1],P=Object(s.useState)(!1),B=Object(k.a)(P,2),E=B[0],T=B[1],_=Object(Ie.a)().t;Object(s.useEffect)((function(){try{T(!0),Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/api/categories");case 2:(t=e.sent).data.success?c(t.data.categories):a("error",_("internal.server.error.title")),T(!1);case 5:case"end":return e.stop()}}),e)})))()}catch(e){T(!1),a("error",_("internal.server.error.title"))}}),[c,a,_]);var A=function(){var e=Object(y.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),e.next=4,R.post("/api/aptitudes",{idCategorie:t},{headers:{auth:localStorage.getItem("session")}});case 4:(n=e.sent).data.success&&O(n.data.aptitudes),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("error",_("internal.server.error.title"));case 11:I(!1),b(!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ee.a,{elevation:0,children:Object(n.jsxs)(Fe.a,{className:l.cardContent,children:[Object(n.jsxs)("div",{className:l.spacingBottom,children:[Object(n.jsx)(X.a,{children:_("skills")}),Object(n.jsx)(ke.a,{})]}),Object(n.jsx)(pe,{isLoading:E,children:Object(n.jsx)("div",{className:l.skillsContent,children:o.map((function(e,t){return Object(n.jsx)(Se.a,{variant:"contained",className:l.spacing,onClick:function(){return A(e._id)},children:e.name},t)}))})}),0!==f.length&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(X.a,{children:_("added.skills")}),Object(n.jsx)(ke.a,{})]}),Object(n.jsx)("div",{children:f.map((function(e,t){return Object(n.jsx)(Xt.a,{className:l.spacing,label:e.name,onDelete:function(){return function(e){var t=f.filter((function(t){return t.id!==e}));x(t)}(e.id)}},t)}))}),Object(n.jsx)(Se.a,{variant:"contained",color:"primary",onClick:function(){return t(f)},children:_("save")})]})]})}),Object(n.jsx)(F,{isLoading:N}),Object(n.jsx)(ea,{aptitudes:h,addSkills:function(e,t){void 0===f.find((function(e){return e.id===t}))&&x([].concat(Object(ae.a)(f),[{name:e,id:t}]))},open:j,onClose:function(){b(!1)}})]})},aa=function(e){var t=e.finish;return Object(n.jsxs)(Te.a,{children:[Object(n.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nihil, repudiandae similique. Quae, dicta reiciendis! Necessitatibus, atque nam et exercitationem ex magni porro laboriosam! Soluta aperiam perspiciatis perferendis dicta quam ratione."}),Object(n.jsx)(Se.a,{variant:"contained",color:"primary",onClick:t,children:"finish"})]})},na=a(76),sa=a.n(na),ra={getUserData:b},ia=Object(f.b)(null,ra)((function(e){var t=e.getUserData,a=Object(P.a)(),r=Object(Q.a)(a.breakpoints.down("sm")),i=qt(),o=Object(s.useState)(0),d=Object(k.a)(o,2),u=d[0],j=d[1],b=Object(s.useState)("F"),p=Object(k.a)(b,2),m=p[0],h=p[1],O=Object(s.useState)(!1),g=Object(k.a)(O,2),v=g[0],f=g[1],x=Object(s.useState)({}),S=Object(k.a)(x,2),C=S[0],N=S[1],I=Object(s.useState)(!1),B=Object(k.a)(I,2),E=B[0],T=B[1],_=Object(s.useState)(sa()()),A=Object(k.a)(_,2),D=A[0],U=A[1],L=Object(s.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),z=Object(k.a)(L,2),M=z[0],q=z[1],H=Object(c.g)(),W=Object(Ie.a)().t;tt({title:"settings ".concat(t.firstName),description:"account settings"});var G=[W("profile.setting"),W("select.skills"),W("successful")],K=function(){var e=Object(y.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.put("/api/updateUserState",{},{headers:{auth:localStorage.getItem("session")}});case 2:(a=e.sent).data.success&&(t(a.data.user),H.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sa()(D).format("l"),e.prev=1,T(!0),e.next=5,R.post("/api/updateUserSettings",Object(l.a)(Object(l.a)({},t),{},{location:C,gender:m,dateOfBirth:a}),{headers:{auth:localStorage.getItem("session")}});case 5:n=e.sent,T(!1),n.data.success?j((function(e){return e+1})):q(Object(l.a)(Object(l.a)({},M),{},{message:W("internal.server.error.title"),show:!0})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),T(!1),q(Object(l.a)(Object(l.a)({},M),{},{message:W("internal.server.error.title"),show:!0}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),a=t.map((function(e){return e.id})),e.next=5,R.post("/api/assignAptitudes",{listAptitudes:a},{headers:{auth:localStorage.getItem("session")}});case 5:n=e.sent,T(!1),n.data.success?j((function(e){return e+1})):q(Object(l.a)(Object(l.a)({},M),{},{message:W("internal.server.error.title"),show:!0})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),T(!1),q(Object(l.a)(Object(l.a)({},M),{},{message:W("internal.server.error.title"),show:!0}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:i.root,children:[Object(n.jsx)(Lt.a,{activeStep:u,orientation:r?"vertical":"horizontal",children:G.map((function(e){return Object(n.jsx)(zt.a,{children:Object(n.jsx)(Mt.a,Object(l.a)(Object(l.a)({},{}),{},{children:e}))},e)}))}),Object(n.jsxs)(Te.a,{className:i.container,children:[0===u&&Object(n.jsx)(Qt,{saveUserData:V,gender:m,handleChangeGender:function(e){h(e.target.value)},checked:v,handleGeolocationChecked:function(){f(!v),"geolocation"in navigator?v||navigator.geolocation.getCurrentPosition((function(e){N({latitude:e.coords.latitude,longitude:e.coords.longitude})})):setTimeout((function(){q(Object(l.a)(Object(l.a)({},M),{},{message:W("geolocation.warning"),show:!0,severity:"warning"}))}),2e3)},selectedDate:D,setSelectedDate:U}),1===u&&Object(n.jsx)(ta,{saveSkills:Y,handleSnackBar:function(e,t){q(Object(l.a)(Object(l.a)({},M),{},{show:!0,severity:e,message:t}))}}),2===u&&Object(n.jsx)(aa,{finish:K})]})]}),Object(n.jsx)(he,{snackBar:M,handleClose:function(){q(Object(l.a)(Object(l.a)({},M),{},{show:!1,severity:"error"}))}}),Object(n.jsx)(F,{isLoading:E})]})})),oa=a(501),ca=Object(B.a)((function(e){var t;return Object(Z.a)({large:{width:e.spacing(11),height:e.spacing(11)},contentMd:{display:"flex",flexDirection:"column",alignItems:"center"},firstAvatar:{position:"absolute",top:"11em",left:e.spacing(5),zIndex:"3"},firstHiddenAvatar:{animation:"$firstAvatar 0.6s",animationFillMode:"forwards"},secondAvatar:{position:"fixed",top:"3.5em",left:e.spacing(5),zIndex:"3",width:e.spacing(7),height:e.spacing(7),opacity:0},secondHiddenAvatar:{animation:"$secondAvatar 2s",animationFillMode:"forwards"},skeletonAvatar:{position:"absolute",top:"15em!important",left:e.spacing(5),zIndex:"3"},seconSkeletonAvatar:{position:"fixed",top:"5.5em!important",left:e.spacing(5),zIndex:"3",opacity:0,visibility:"hidden"},secondHiddenSkeletonAvatar:{visibility:"visible"},marginRight:{marginRight:e.spacing(1)},marginTop:{marginTop:"1em"},btn:{marginLeft:"45%"},borderRadius:{borderRadius:"50px"},space:{marginTop:e.spacing(6)},bannerContent:{width:"100%",position:"relative",height:"200px",overflow:"hidden","& img":{width:"100%",height:"auto"}},text:{fontSize:"12px",marginLeft:"2px"},sidebar:{width:"300px",height:"calc(100vh - 65px)",borderTopLeftRadius:"0",borderTopRightRadius:"0",position:"absolute"},fixedSidebar:{position:"fixed",top:"65px",zIndex:"2"},contentFollowers:{marginTop:".5em",display:"flex",justifyContent:"space-around"},contentSkills:{display:"flex",flexWrap:"wrap"},skill:{margin:".2em"},appBarProfile:(t={position:"absolute",left:"300px",width:"calc(100% - 300px)",borderRadius:"0",display:"flex",zIndex:"3","& .MuiButtonBase-root":{borderRadius:"0!important"}},Object(ce.a)(t,e.breakpoints.down("md"),{width:"100%",left:"0"}),Object(ce.a)(t,e.breakpoints.down("xs"),{flexDirection:"column"}),t),fixedAppBarProfile:{position:"fixed",top:"4.5em"},postContainer:Object(ce.a)({display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"wrap",marginTop:e.spacing(5),marginBottom:e.spacing(5)},e.breakpoints.down("xs"),{marginTop:e.spacing(16),marginBottom:e.spacing(10)}),"@keyframes firstAvatar":{"0%":{position:"absolute",top:"11em",left:e.spacing(5),zIndex:"3",width:e.spacing(7),height:e.spacing(7),opacity:1},"100%":{top:"13.5em",left:e.spacing(5),width:e.spacing(7),height:e.spacing(7),opacity:0}},"@keyframes secondAvatar":{"0%":{opacity:0},"100%":{opacity:1,zIndex:"4"}},photosContainer:{display:"flex",justifyContent:"center"},bannerPhoto:{borderRadius:15,maxWidth:"100%",maxHeight:200},positioningContainer:{position:"relative"},editPhotosButton:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},editProfileButton:{position:"absolute",top:"45%",left:"38%",transform:"translate(-50%)"},fakeBannerSkeleton:{borderRadius:15,height:200,width:500},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},saveButtons:{margin:e.spacing(2),display:"flex",justifyContent:"flex-end"}})})),la=Object(f.b)((function(e){return{userLoggedIn:e.User}}))((function(e){var t,a,r,i,c=e.isFixed,d=e.user,u=e.userLoggedIn,j=Object(s.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(s.useState)(!1),O=Object(k.a)(h,2),g=O[0],v=O[1],f=ca(),x=Object(Ie.a)().t;Object(s.useEffect)((function(){var e,t=null===u||void 0===u||null===(e=u.following)||void 0===e?void 0:e.find((function(e){return e===d._id}));v(Boolean(t))}),[d,u]);var S=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/follow",{id:d._id},{headers:{auth:localStorage.getItem("session")}});case 2:e.sent.data.success?v(!0):m(Object(l.a)(Object(l.a)({},p),{},{show:!0,message:x("internal.server.error.title")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/unfollow",{id:d._id},{headers:{auth:localStorage.getItem("session")}});case 2:e.sent.data.success?v(!1):m(Object(l.a)(Object(l.a)({},p),{},{show:!0,message:x("internal.server.error.title")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(rt.a,{mdDown:!0,children:[Object(n.jsx)(ie.a,{alt:"avatar",className:"".concat(f.large," ").concat(f.firstAvatar," ").concat(c?f.firstHiddenAvatar:""," "),src:null===d||void 0===d?void 0:d.avatar,children:null===d||void 0===d?void 0:d.firstName.substring(0,1)}),Object(n.jsx)(ie.a,{alt:"avatar",className:"".concat(f.secondAvatar," ").concat(c?f.secondHiddenAvatar:""," "),src:null===d||void 0===d?void 0:d.avatar,children:null===d||void 0===d?void 0:d.firstName.substring(0,1)}),Object(n.jsx)(Ee.a,{className:"".concat(f.sidebar," ").concat(c?f.fixedSidebar:""," "),elevation:0,children:Object(n.jsxs)(Fe.a,{children:[(null===d||void 0===d?void 0:d._id)!==(null===u||void 0===u?void 0:u._id)&&Object(n.jsx)(Se.a,{color:"primary",variant:"contained",className:f.btn,onClick:g?C:S,children:x(g?"unfollow":"follow")}),Object(n.jsx)(X.a,{variant:"h6",className:"".concat(f.marginTop," ").concat((null===d||void 0===d?void 0:d._id)===(null===u||void 0===u?void 0:u._id)?f.space:""),children:d.firstName+" "+d.lastName}),Object(n.jsxs)("div",{children:[(null===d||void 0===d?void 0:d.description)&&Object(n.jsxs)("div",{children:[Object(n.jsxs)(X.a,{children:[x("profile.description"),":"]}),Object(n.jsx)(X.a,{variant:"body1",className:f.textSize,children:d.description})]}),(null===d||void 0===d?void 0:d.phone)&&Object(n.jsxs)(X.a,{className:f.text,children:[x("contact"),":",Object(n.jsx)(X.a,{component:"strong",color:"primary",className:f.text,children:null===d||void 0===d?void 0:d.phone})]})]}),Object(n.jsx)(ke.a,{}),Object(n.jsxs)("div",{className:f.contentFollowers,children:[Object(n.jsxs)(X.a,{children:[x("follower"),":",Object(n.jsx)(X.a,{component:o.b,color:"primary",className:f.text,to:"/",children:null===d||void 0===d||null===(t=d.follower)||void 0===t?void 0:t.length})]}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0}),Object(n.jsxs)(X.a,{children:[x("following"),":",Object(n.jsx)(X.a,{component:o.b,color:"primary",className:f.text,to:"/",children:null===d||void 0===d||null===(a=d.following)||void 0===a?void 0:a.length})]})]}),0!==(null===d||void 0===d||null===(r=d.listOfAptitudes)||void 0===r?void 0:r.length)&&Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{className:f.marginTop}),Object(n.jsx)(X.a,{children:x("skills")}),Object(n.jsx)("div",{className:f.contentSkills,children:null===d||void 0===d||null===(i=d.listOfAptitudes)||void 0===i?void 0:i.map((function(e){return Object(n.jsx)(Xt.a,{label:e.name,className:f.skill},e._id)}))})]})]})}),Object(n.jsx)(he,{snackBar:p,handleClose:function(){m(Object(l.a)(Object(l.a)({},p),{},{show:!1,severity:"error"}))}})]})})),da=Object(f.b)((function(e){return{userLoggedIn:e.User}}))((function(e){var t,a,r,i,c=e.user,d=e.userLoggedIn,u=Object(s.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),j=Object(k.a)(u,2),b=j[0],p=j[1],m=Object(s.useState)(!1),h=Object(k.a)(m,2),O=h[0],g=h[1],v=ca(),f=Object(Ie.a)().t;Object(s.useEffect)((function(){var e,t=null===d||void 0===d||null===(e=d.following)||void 0===e?void 0:e.find((function(e){return e===c._id}));g(Boolean(t))}),[c,d]);var x=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/follow",{id:c._id},{headers:{auth:localStorage.getItem("session")}});case 2:e.sent.data.success?g(!0):p(Object(l.a)(Object(l.a)({},b),{},{show:!0,message:f("internal.server.error.title")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/unfollow",{id:c._id},{headers:{auth:localStorage.getItem("session")}});case 2:e.sent.data.success?g(!1):p(Object(l.a)(Object(l.a)({},b),{},{show:!0,message:f("internal.server.error.title")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(rt.a,{lgUp:!0,children:[Object(n.jsx)(Ee.a,{elevation:0,children:Object(n.jsxs)(Fe.a,{children:[Object(n.jsxs)("div",{className:"".concat(v.contentMd),children:[Object(n.jsx)(ie.a,{alt:"avatar",className:"".concat(v.large),src:null===c||void 0===c?void 0:c.avatar,children:null===c||void 0===c?void 0:c.firstName.substring(0,1)}),(null===c||void 0===c?void 0:c._id)!==(null===d||void 0===d?void 0:d._id)&&Object(n.jsx)(Se.a,{color:"primary",variant:"contained",className:v.marginTop,onClick:O?S:x,children:f(O?"unfollow":"follow")}),Object(n.jsx)(X.a,{variant:"h6",className:"".concat(v.marginTop," ").concat((null===c||void 0===c?void 0:c._id)===(null===d||void 0===d?void 0:d._id)?v.space:""),children:c.firstName+" "+c.lastName})]}),Object(n.jsxs)("div",{children:[(null===c||void 0===c?void 0:c.description)&&Object(n.jsxs)("div",{children:[Object(n.jsxs)(X.a,{children:[f("profile.description"),":"]}),Object(n.jsx)(X.a,{variant:"body1",className:v.textSize,children:c.description})]}),(null===c||void 0===c?void 0:c.phone)&&Object(n.jsxs)(X.a,{className:v.text,children:[f("contact"),":",Object(n.jsx)(X.a,{component:"strong",color:"primary",className:v.text,children:null===c||void 0===c?void 0:c.phone})]})]}),Object(n.jsx)(ke.a,{}),Object(n.jsxs)("div",{children:[Object(n.jsxs)(X.a,{children:[f("follower"),":",Object(n.jsx)(X.a,{component:o.b,color:"primary",className:v.text,to:"/",children:null===c||void 0===c||null===(t=c.follower)||void 0===t?void 0:t.length})]}),Object(n.jsxs)(X.a,{children:[f("following"),":",Object(n.jsx)(X.a,{component:o.b,color:"primary",className:v.text,to:"/",children:null===c||void 0===c||null===(a=c.following)||void 0===a?void 0:a.length})]})]}),0!==(null===c||void 0===c||null===(r=c.listOfAptitudes)||void 0===r?void 0:r.length)&&Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{className:v.marginTop}),Object(n.jsx)(X.a,{children:f("skills")}),Object(n.jsx)("div",{className:v.contentSkills,children:null===c||void 0===c||null===(i=c.listOfAptitudes)||void 0===i?void 0:i.map((function(e){return Object(n.jsx)(Xt.a,{label:e.name,className:v.skill},e._id)}))})]})]})}),Object(n.jsx)(he,{snackBar:b,handleClose:function(){p(Object(l.a)(Object(l.a)({},b),{},{show:!1,severity:"error"}))}})]})})),ua=function(e){var t=e.isFixed,a=ca();return Object(n.jsxs)(rt.a,{mdDown:!0,children:[Object(n.jsx)(oa.a,{variant:"circle",width:90,height:90,className:"".concat(a.skeletonAvatar," ").concat(t?a.firstHiddenAvatar:""," ")}),Object(n.jsx)(oa.a,{variant:"circle",width:50,height:50,className:"".concat(a.seconSkeletonAvatar," ").concat(t?a.secondHiddenSkeletonAvatar:""," ")}),Object(n.jsx)(Ee.a,{className:"".concat(a.sidebar," ").concat(t?a.fixedSidebar:""," "),elevation:0,children:Object(n.jsxs)(Fe.a,{children:[Object(n.jsx)(oa.a,{width:90,height:40,variant:"rect",className:"".concat(a.btn," ").concat(a.borderRadius)}),Object(n.jsx)(oa.a,{variant:"text",width:250,height:30,className:a.marginTop}),[60,200,150,80,190,60,80,40].map((function(e,t){return Object(n.jsx)(oa.a,{variant:"text",width:e},t)})),Object(n.jsx)(oa.a,{variant:"rect",height:50}),Object(n.jsx)(oa.a,{variant:"text",width:60}),Object(n.jsx)("div",{className:a.contentSkills,children:[60,100,140,80,130,60,80,60].map((function(e,t){return Object(n.jsx)(oa.a,{variant:"text",height:30,width:e,className:"".concat(a.borderRadius," ").concat(a.marginRight)},t)}))})]})})]})},ja=function(){var e=ca();return Object(n.jsx)(rt.a,{lgUp:!0,children:Object(n.jsx)(Ee.a,{elevation:0,children:Object(n.jsxs)(Fe.a,{children:[Object(n.jsxs)("div",{className:"".concat(e.contentMd),children:[Object(n.jsx)(oa.a,{variant:"circle",width:50,height:50}),Object(n.jsx)(oa.a,{width:90,height:40,variant:"rect",className:"".concat(e.marginTop,"  ").concat(e.borderRadius)}),Object(n.jsx)(oa.a,{variant:"text",width:250,height:30,className:e.marginTop})]}),[60,200,150,80,190,60,80,40].map((function(e,t){return Object(n.jsx)(oa.a,{variant:"text",width:e},t)})),Object(n.jsx)(oa.a,{variant:"rect",height:50}),Object(n.jsx)(oa.a,{variant:"text",width:60}),Object(n.jsx)("div",{className:e.contentSkills,children:[60,100,140,80,130,60,80,60].map((function(t,a){return Object(n.jsx)(oa.a,{variant:"text",height:30,width:t,className:"".concat(e.borderRadius," ").concat(e.marginRight)},a)}))})]})})})},ba=a(123),pa=a.n(ba),ma=a(218),ha=(a(436),{updateByField:p}),Oa=Object(f.b)((function(e){return{user:e.User}}),ha)((function(e){var t=e.user,a=e.updateByField,r={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},i=Object(s.useState)(""),o=Object(k.a)(i,2),c=o[0],d=o[1],u=Object(s.useState)(t.banner),j=Object(k.a)(u,2),b=j[0],p=j[1],m=Object(s.useState)(null),h=Object(k.a)(m,2),O=h[0],g=h[1],v=Object(s.useState)(!1),f=Object(k.a)(v,2),x=f[0],S=f[1],C=Object(s.useState)(null),N=Object(k.a)(C,2),I=N[0],B=N[1],E=Object(s.useState)(r),F=Object(k.a)(E,2),T=F[0],_=F[1],A=Object(Ie.a)().t,D=ca(),U=Object(P.a)();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,{snackBar:T,handleClose:function(){_(r)}}),Object(n.jsx)("div",{className:D.photosContainer,children:Object(n.jsxs)("div",{className:D.positioningContainer,children:[Object(n.jsx)(X.a,{variant:"h6",align:"center",gutterBottom:!0,children:A("banner.photo")}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O&&O.getCroppedCanvas().toBlob(function(){var e=Object(y.a)(w.a.mark((function e(t){var n,s,i,o,c,d,u,j;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,s=new File([t],I.name,{type:t.type}),n.append("banner",s),i={headers:{auth:localStorage.getItem("session")}},e.prev=4,S(!0),e.next=8,R.put("/api/updateBanner",n,i);case 8:o=e.sent,c=o.data,d=c.success,u=c.message,j=c.userUpdated,d?(console.log("successfully updated the banner"),"Successfully added banner"===u?(r.severity="success",r.message=A("successfully.added.banner")):"Successfully updated banner"===u&&(r.severity="success",r.message=A("successfully.updated.banner"))):r.message=A("Error while uploading image to cloudinary"===u?"image.upload.failed":"File too large"===u?"file.too.large":"internal.server.error.title"),_(Object(l.a)(Object(l.a)({},r),{},{show:!0})),S(!1),p(j.banner),a({banner:j.banner}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),S(!1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}())},children:[b?Object(n.jsx)(Xe.Image,{publicId:b,cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME,className:D.bannerPhoto}):c?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ma.a,{src:c,className:D.bannerPhoto,initialAspectRatio:1,viewMode:3,dragMode:"move",guides:!1,minCropBoxHeight:200,minCropBoxWidth:500,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){return g(e)}})}):Object(n.jsx)("div",{className:D.fakeBannerSkeleton,style:{backgroundColor:U.palette.background.default}}),Object(n.jsxs)("div",{className:D.editPhotosButton,children:[Object(n.jsx)("input",{accept:"image/*",style:{display:"none"},id:"icon-button-file-banner",type:"file",name:"banner",onChange:function(e){var t=e.target.files[0];B(t);var a=new FileReader;t&&(a.readAsDataURL(t),a.onloadend=function(){d(a.result),p("")})}}),Object(n.jsx)("label",{htmlFor:"icon-button-file-banner",children:Object(n.jsx)(fe.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(n.jsx)(pa.a,{})})})]}),Object(n.jsx)("div",{className:D.saveButtons,children:Object(n.jsx)(Se.a,{variant:"contained",color:"primary",size:"small",type:"submit",disabled:x,children:A(x?"saving":"save")})})]})]})})]})})),ga=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.user,a={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},r=Object(s.useState)(""),i=Object(k.a)(r,2),o=i[0],c=i[1],d=Object(s.useState)(""),u=Object(k.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(!1),h=Object(k.a)(m,2),O=h[0],g=h[1],v=Object(s.useState)(a),f=Object(k.a)(v,2),x=f[0],S=f[1],C=ca(),N=Object(Ie.a)().t,I=function(){var e=Object(y.a)(w.a.mark((function e(n){var s,r,i,o,d,u,b;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""===j){e.next=22;break}return e.prev=2,g(!0),(s=new FormData).append("profilePhoto",j),r={headers:{auth:localStorage.getItem("session")}},e.next=9,R.put("/api/updateProfilePhoto",s,r);case 9:i=e.sent,console.log(i.data),o=i.data,d=o.success,u=o.message,b=o.userUpdated,d?"Successfully added avatar"===u?(a.severity="success",a.message=N("successfully.added.profilePhoto")):"Successfully updated profile photo"===u&&(a.severity="success",a.message=N("successfully.updated.profilePhoto")):"File too large"===u?a.message=N("file.too.large"):"Error while uploading image to cloudinary"===u?a.message=N("image.upload.failed"):"Invalid extension"===u?a.message=N("invalid.extension"):"Profile picture taken either from Google or Facebook"===u?(a.severity="info",a.message=N("profilePhoto.google.facebook")):a.message=N("internal.server.error.title"),S(Object(l.a)(Object(l.a)({},a),{},{show:!0})),g(!1),b&&(c(t.avatar),p({avatar:b.avatar})),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),g(!1),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,{snackBar:x,handleClose:function(){S(a)}}),Object(n.jsx)("div",{className:C.photosContainer,children:Object(n.jsxs)("form",{onSubmit:I,children:[Object(n.jsxs)("div",{className:C.positioningContainer,children:[Object(n.jsx)(X.a,{variant:"h6",align:"center",gutterBottom:!0,children:N("profile.photo")}),o?Object(n.jsx)(ie.a,{className:C.large,src:o,alt:"selected-profile-picture"}):Object(n.jsx)(ie.a,{className:C.large,src:t.avatar,alt:"profile-picture"}),Object(n.jsxs)("div",{className:C.editProfileButton,children:[Object(n.jsx)("input",{accept:"image/*",style:{display:"none"},id:"icon-button-file-profile",type:"file",name:"profile",onChange:function(e){var t=e.target.files[0],a=new FileReader;t&&(b(t),a.readAsDataURL(t),a.onloadend=function(){c(a.result)})}}),Object(n.jsx)("label",{htmlFor:"icon-button-file-profile",children:Object(n.jsx)(fe.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(n.jsx)(pa.a,{})})})]})]}),Object(n.jsx)("div",{style:{margin:10},children:Object(n.jsx)(Se.a,{variant:"contained",color:"primary",size:"small",type:"submit",disabled:O,children:N(O?"saving":"save")})})]})})]})})),va=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t,a,r=e.user,i={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},o=Object(s.useState)(!1),c=Object(k.a)(o,2),d=c[0],u=c[1],j=Object(s.useState)(i),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(ne.a)(),O=h.register,g=h.errors,v=h.reset,f=h.handleSubmit,x=Object(Ie.a)().t;Object(s.useEffect)((function(){v(r)}),[v,r]);var S=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),a={headers:{auth:localStorage.getItem("session")}},e.next=5,R.put("/api/updateMainInfo",t,a);case 5:n=e.sent,n.data.success?(i.severity="success",i.message=x("main.info.updated")):i.message=x("internal.server.error.title"),m(Object(l.a)(Object(l.a)({},i),{},{show:!0})),u(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),u(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,{snackBar:p,handleClose:function(){m(i)}}),Object(n.jsxs)("form",{onSubmit:f(S),children:[Object(n.jsx)("div",{children:Object(n.jsx)(oe.a,{label:"First Name",fullWidth:!0,variant:"outlined",size:"small",margin:"dense",name:"firstName",inputRef:O({required:{value:!0,message:x("first.name.error.input.required")}}),error:Boolean(null===g||void 0===g?void 0:g.firstName),helperText:null===g||void 0===g||null===(t=g.firstName)||void 0===t?void 0:t.message})}),Object(n.jsx)("div",{children:Object(n.jsx)(oe.a,{label:"Last Name",fullWidth:!0,variant:"outlined",size:"small",margin:"dense",name:"lastName",inputRef:O({required:{value:!0,message:x("last.name.error.input.required")}}),error:Boolean(null===g||void 0===g?void 0:g.lastName),helperText:null===g||void 0===g||null===(a=g.lastName)||void 0===a?void 0:a.message})}),Object(n.jsx)("div",{children:Object(n.jsx)(oe.a,{label:"Description",fullWidth:!0,variant:"outlined",size:"small",margin:"dense",multiline:!0,rows:2,name:"description",inputRef:O({maxLength:{value:60,message:x("description.max.length")}})})}),Object(n.jsx)("div",{children:Object(n.jsx)(oe.a,{label:"Phone",fullWidth:!0,variant:"outlined",size:"small",margin:"dense",name:"phone",inputRef:O})}),Object(n.jsx)("div",{children:Object(n.jsx)(Se.a,{variant:"contained",fullWidth:!0,color:"primary",disabled:d,type:"submit",children:x(d?"saving":"save")})})]})]})})),fa=function(e){var t=e.open,a=e.handleClose,s=ca(),r=Object(Ie.a)().t;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(yt.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,scroll:"body",children:[Object(n.jsx)(kt.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(X.a,{variant:"h6",children:r("edit.profile")}),Object(n.jsx)(fe.a,{"aria-label":"close",className:s.closeButton,onClick:a,children:Object(n.jsx)(we.a,{})})]})}),Object(n.jsxs)(Zt.a,{children:[Object(n.jsx)(Oa,{}),Object(n.jsx)(ga,{}),Object(n.jsx)(va,{})]})]})})},xa=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.isFixed,a=e.user,r=ca(),i=Object(c.i)().userID,o=Object(Ie.a)().t,l=Object(s.useState)(!1),d=Object(k.a)(l,2),u=d[0],j=d[1];return Object(n.jsxs)(rt.a,{mdDown:!0,children:[Object(n.jsxs)(Ee.a,{elevation:0,className:"".concat(r.appBarProfile," ").concat(t?r.fixedAppBarProfile:""),children:[Object(n.jsx)(Se.a,{color:"primary",children:o("posts")}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0}),a._id===i&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se.a,{onClick:function(){j(!0)},children:o("edit.profile")}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0})]}),Object(n.jsx)(Se.a,{children:o("favorites")})]}),Object(n.jsx)(fa,{open:u,handleClose:function(){j(!1)}})]})})),wa=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.isFixed,a=e.user,s=ca({isFixed:t}),r=Object(c.i)().userID,i=Object(Ie.a)().t;return Object(n.jsx)(rt.a,{lgUp:!0,children:Object(n.jsxs)(Ee.a,{elevation:0,className:"".concat(s.appBarProfile),children:[Object(n.jsx)(Se.a,{color:"primary",children:i("posts")}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0}),a._id===r&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se.a,{children:i("edit.profile")}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0})]}),Object(n.jsx)(Se.a,{children:i("favorites")})]})})})),ya={setPosts:$},ka=Object(f.b)((function(e){return{posts:e.Posts,myUser:e.User}}),ya)((function(e){var t,a,r,i,o,c,d,u=e.post,j=e.posts,b=e.setPosts,p=e.id,m=e.user,h=e.myUser,O=ue(),g=Object(s.useState)({show:!1,message:"",vertical:"top",horizontal:"center",severity:"error"}),v=Object(k.a)(g,2),f=v[0],x=v[1],S=Object(s.useState)(!1),C=Object(k.a)(S,2),N=C[0],I=C[1],P=Object(ne.a)(),B=P.register,E=P.handleSubmit,F=P.errors,T=Object(Ie.a)().t,_=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,s,r,i,o,c,d;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===j[p].republishedUsersId.find((function(e){return e===h._id}))){e.next=6;break}x(Object(l.a)(Object(l.a)({},f),{},{message:T("post.republished.message.error"),show:!0})),e.next=13;break;case 6:return a={userId:h._id,thumbnailsList:null===u||void 0===u?void 0:u.thumbnailsList,republishedValidation:!0,bodyContent:t.bodyContent,republishedBodyContent:null===u||void 0===u?void 0:u.bodyContent,republishedUserId:m._id},n={userId:h._id,postId:u._id},e.next=10,R.post("/api/republishPost",{share:a,republishedIds:n},{headers:{auth:localStorage.getItem("session")}});case 10:s=e.sent,r=s.data,i=r.success,o=r.message,i?(c=j,d=j[p].republishedUsersId,c[p].republishedUsersId=[].concat(Object(ae.a)(d),[m._id]),b(Object(ae.a)(c)),x(Object(l.a)(Object(l.a)({},f),{},{message:T("post.republished.message.success"),show:!0,severity:"success"}))):"Already published"===o&&x(Object(l.a)(Object(l.a)({},f),{},{message:T("post.republished.message.error"),show:!0}));case 13:I(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),x(Object(l.a)(Object(l.a)({},f),{},{message:T("internal.server.error.title"),show:!0}));case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Ee.a,{className:O.post,elevation:1,children:[(null===u||void 0===u?void 0:u.republishedValidation)?Object(n.jsx)(He,{avatar:null===m||void 0===m?void 0:m.avatar,firstName:null===m||void 0===m?void 0:m.firstName,lastName:null===m||void 0===m?void 0:m.lastName,avatarRepublish:null===u||void 0===u||null===(t=u.republishedUserId)||void 0===t?void 0:t.avatar,firstNameRepublish:null===u||void 0===u||null===(a=u.republishedUserId)||void 0===a?void 0:a.firstName,lastNameRepublish:null===u||void 0===u||null===(r=u.republishedUserId)||void 0===r?void 0:r.lastName,republishedBodyContent:null===u||void 0===u?void 0:u.republishedBodyContent}):Object(n.jsx)(Le,{avatar:null===m||void 0===m?void 0:m.avatar,firstName:null===m||void 0===m?void 0:m.firstName,lastName:null===m||void 0===m?void 0:m.lastName}),0!==(null===u||void 0===u?void 0:u.thumbnailsList.length)&&Object(n.jsx)(Ae.a,{className:O.media,fullHeightHover:!0,autoPlay:!1,children:1===(null===u||void 0===u?void 0:u.thumbnailsList.length)?Object(n.jsx)(Xe.Image,{publicId:null===u||void 0===u?void 0:u.thumbnailsList[0],cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME}):null===u||void 0===u?void 0:u.thumbnailsList.map((function(e,t){return Object(n.jsx)(Xe.Image,{publicId:e,cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME},t)}))}),Object(n.jsx)(Fe.a,{children:Object(n.jsx)(X.a,{children:null===u||void 0===u?void 0:u.bodyContent})}),Object(n.jsx)(Qe,{likes:null===u||void 0===u||null===(i=u.likesList)||void 0===i?void 0:i.length,comments:null===u||void 0===u||null===(o=u.comments)||void 0===o?void 0:o.length,republishValue:null===u||void 0===u||null===(c=u.republishedUsersId)||void 0===c?void 0:c.length,favorites:null===u||void 0===u||null===(d=u.favorites)||void 0===d?void 0:d.length,handleRepublish:function(){return I(!0)}}),N&&Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{className:O.marginBottom}),Object(n.jsx)(Te.a,{className:O.marginBottom,children:Object(n.jsxs)("form",{onSubmit:E(_),children:[Object(n.jsx)(oe.a,{fullWidth:!0,variant:"outlined",size:"small",label:T("post.add"),name:"bodyContent",autoComplete:"off",inputRef:B({required:{value:!0,message:T("post.add.message")}}),error:Boolean(null===F||void 0===F?void 0:F.bodyContent)}),Object(n.jsxs)("div",{className:O.contentButton,children:[Object(n.jsx)(Se.a,{className:O.btnDefault,onClick:function(){return I(!1)},children:T("cancel")}),Object(n.jsx)(Se.a,{type:"submit",color:"primary",children:T("share")})]})]})})]})]}),Object(n.jsx)(he,{snackBar:f,handleClose:function(){x(Object(l.a)(Object(l.a)({},f),{},{show:!1,severity:"error"}))}})]})})),Sa={setPosts:$},Ca=Object(f.b)((function(e){return{posts:e.Posts,userState:e.User}}),Sa)((function(e){var t=e.setPosts,a=e.posts,r=e.userState,i=Object(s.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),o=Object(k.a)(i,2),d=o[0],u=o[1],j=Object(s.useState)(!1),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(s.useState)(!1),O=Object(k.a)(h,2),g=O[0],v=O[1],f=Object(s.useState)(!1),x=Object(k.a)(f,2),S=x[0],C=x[1],N=ca(),I=Object(s.useState)({}),P=Object(k.a)(I,2),B=P[0],E=P[1],F=Object(s.useState)(U),T=Object(k.a)(F,2),_=T[0],A=T[1],D=Object(s.useState)(0),L=Object(k.a)(D,2),z=L[0],M=L[1],q=Object(s.useRef)(null),H=Object(s.useRef)(null),W=Object(c.i)().userID,G=Object(Ie.a)().t;tt({title:"profile",description:"User profile"}),Object(s.useEffect)((function(){return window.addEventListener("scroll",K),window.addEventListener("scroll",V),function(){window.removeEventListener("scroll",(function(){return K})),window.removeEventListener("scroll",(function(){return V}))}}),[]),Object(s.useEffect)((function(){Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/getUser",{id:W},{headers:{auth:localStorage.getItem("session")}});case 3:return t=e.sent,e.next=6,R.post("/api/countPosts",{id:W},{headers:{auth:localStorage.getItem("session")}});case 6:a=e.sent,t.data.success&&a.data.success&&(M(a.data.count+U),E(t.data.user),C(!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),u(Object(l.a)(Object(l.a)({},d),{},{show:!0,message:G("internal.server.error.title")}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[W,d,G,t]),Object(s.useEffect)((function(){new IntersectionObserver(function(){var e=Object(y.a)(w.a.mark((function e(a,n){var s,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a[0],!(_<=z)){e.next=7;break}if(!s.isIntersecting){e.next=7;break}return e.next=5,R.post("/api/getPostsProfile",{id:W,limit:_},{headers:{auth:localStorage.getItem("session")}});case 5:(r=e.sent).data.success&&(A(_+U),n.disconnect(),t(r.data.posts));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),{rootMargin:"1000px",threshold:1}).observe(H.current)}),[t,W,_,z]);var K=function(){q.current&&m(Boolean(q.current.getBoundingClientRect().top<=-136))},V=function(){q.current&&v(Boolean(q.current.getBoundingClientRect().top<=-515))};return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:N.bannerContent,children:S?Object(n.jsx)(n.Fragment,{children:r.banner?Object(n.jsx)(Xe.Image,{publicId:r.banner,cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME}):Object(n.jsx)("img",{src:"https://cdn.shortpixel.ai/client/q_glossy,ret_img/https://imkova.cl/wp-content/uploads/2020/07/banner-editable-Fortnite-1.jpg",alt:"banner",ref:q})}):Object(n.jsx)(oa.a,{variant:"rect",height:300,ref:q})}),S?Object(n.jsx)(la,{isFixed:p,user:B}):Object(n.jsx)(ua,{isFixed:p}),S?Object(n.jsx)(da,{user:B}):Object(n.jsx)(ja,{}),Object(n.jsx)(xa,{isFixed:p,user:B}),Object(n.jsx)(wa,{isFixed:g,user:B}),Object(n.jsxs)("div",{className:N.postContainer,children:[null===a||void 0===a?void 0:a.map((function(e,t){return Object(n.jsx)(ka,{user:B,post:e,id:t},e._id)})),Object(n.jsx)("div",{id:"visor",ref:H})]}),Object(n.jsx)(he,{snackBar:d,handleClose:function(){u(Object(l.a)(Object(l.a)({},d),{},{show:!1,severity:"error"}))}})]})})),Na=Object(B.a)((function(e){return Object(Z.a)({root:{flexGrow:1,height:"100vh"},paper:Object(ce.a)({padding:e.spacing(4),textAlign:"center",borderRadius:30},e.breakpoints.down("xs"),{backgroundColor:"inherit"}),marginTop:{marginTop:e.spacing(2)},form:{display:"flex",justifyContent:"center",flexDirection:"column","& .MuiButton-root":Object(ce.a)({},e.breakpoints.up("md"),{width:"50%",margin:"auto",marginTop:e.spacing(2)})}})})),Ia=function(){var e,t=Object(s.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),a=Object(k.a)(t,2),r=a[0],i=a[1],d=Object(P.a)(),u=Object(Q.a)(d.breakpoints.down("xs")),j=Object(c.i)().userID,b=Object(s.useState)(""),p=Object(k.a)(b,2),m=p[0],h=p[1],O=Object(s.useState)(!1),g=Object(k.a)(O,2),v=g[0],f=g[1],x=ee(),S=Object(ne.a)(),C=S.register,N=S.handleSubmit,I=S.errors,B=Na(),E=Object(c.g)(),F=Object(Ie.a)().t;tt({title:"forgot password",description:"Change password"}),At(),Object(s.useEffect)((function(){Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/validateUser",{id:j});case 2:t=e.sent,"recover password"!==t.data.user.state&&E.push("/access");case 5:case"end":return e.stop()}}),e)})))()}),[j,E]);var T=function(){var e=Object(y.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/modifyRecoverPassword",{pass:t.password,id:j});case 2:a=e.sent,a.data.success?(i(Object(l.a)(Object(l.a)({},r),{},{message:F("successful.update"),severity:"success",show:!0})),f(!0)):i(Object(l.a)(Object(l.a)({},r),{},{message:F("internal.server.error.title"),severity:"error",show:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(re.a,{container:!0,direction:"row",alignItems:"center",justify:"center",className:B.root,children:Object(n.jsx)(re.a,{item:!0,children:Object(n.jsx)(se.a,{className:B.paper,elevation:0,children:v?Object(n.jsx)(Se.a,{variant:"contained",color:"primary",component:o.b,to:"/access",children:F("go.login")}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(X.a,{variant:u?"h6":"h3",color:"textSecondary",children:Object(n.jsx)("b",{children:F("new.password")})}),Object(n.jsxs)("form",{onSubmit:N(T),className:B.form,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(oe.a,{type:m?"text":"password",name:"password",label:F("password"),variant:"outlined",size:"small",error:Boolean(null===I||void 0===I?void 0:I.password),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){h(!m)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"small",children:m?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})},inputRef:C({required:{value:!0,message:F("password.message.error.input.required")},minLength:{value:6,message:F("password.message.error.input.short")}})}),Object(n.jsx)("div",{className:x.messageInput,children:null===I||void 0===I||null===(e=I.password)||void 0===e?void 0:e.message})]}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:B.marginTop,children:F("save")})]})]})})})}),Object(n.jsx)(he,{snackBar:r,handleClose:function(){i(Object(l.a)(Object(l.a)({},r),{},{show:!1}))}})]})},Pa=a(235),Ba=a(502),Ea=Object(B.a)((function(e){return Object(Z.a)({root:{flexGrow:1},appBarSecondary:{top:"auto!important",bottom:0},appBarSecondaryIcon:{display:"flex",justifyContent:"space-around"},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},search:Object(ce.a)({position:"relative",borderRadius:"30px",backgroundColor:"light"===e.palette.type?Object(le.d)(e.palette.common.black,.1):Object(le.d)(e.palette.common.white,.25),width:"100%",marginRight:e.spacing(2),marginLeft:e.spacing(3),"&:hover":{backgroundColor:"light"===e.palette.type?Object(le.d)(e.palette.common.black,.2):Object(le.d)(e.palette.common.white,.25)}},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(ce.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),offset:e.mixins.toolbar,paperInputSearch:{maxWidth:320,minWidth:280,maxHeight:300,overflowY:"hidden"},simplePopper:{zIndex:5e3},noUsers:{padding:e.spacing(1),textAlign:"center"}})})),Fa=Object(de.a)({paper:{border:"1px solid #d3d4d5",padding:"5px","& .MuiList-padding":{padding:"0!important","& .MuiButtonBase-root":{padding:"0!important"}}}})((function(e){return Object(n.jsx)(Pa.a,Object(l.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Ta=Object(de.a)((function(e){return{root:{borderRadius:"5px",marginTop:"5px",marginBottom:"5px","&:focus":{backgroundColor:e.palette.grey,"& .MuiListItemText-primary":{color:e.palette.primary.main},"& .MuiAvatar-colorDefault":{backgroundColor:e.palette.primary.main,color:"#fff!important"}},"& .MuiAvatar-colorDefault":{color:"#000"},"& .MuiTypography-root":{marginRight:"50px"},"& .MuiSvgIcon-root":{opacity:.5}}}}))(Ba.a),_a=Object(B.a)((function(e){return{appBar:{position:"relative",zIndex:e.zIndex.drawer+1},title:{marginLeft:e.spacing(2),flex:1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},main:{width:"100%"},container:Object(ce.a)({width:"50%",margin:"0 auto"},e.breakpoints.down("sm"),{width:"100%",margin:"0"}),AccountForm:{marginTop:e.spacing(2),display:"flex",flexDirection:"column","& .MuiTextField-root":{marginBottom:e.spacing(1)}},margin:{margin:e.spacing(1)},newPassword:{display:"flex",flexWrap:"wrap"}}})),Aa=a(503),Ra=a(497),Da=a(220),Ua=a.n(Da),La=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.user;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(fe.a,{"aria-label":"show 4 new mails",color:"inherit",component:o.b,to:"/Profile/".concat(t._id),children:Object(n.jsx)(Ua.a,{})})})})),za=function(){var e=Ea();return Object(n.jsx)(rt.a,{smUp:!0,children:Object(n.jsxs)(Aa.a,{position:"fixed",color:"inherit",elevation:0,className:e.appBarSecondary,children:[Object(n.jsx)(ke.a,{}),Object(n.jsx)(Ra.a,{className:e.appBarSecondaryIcon,children:Object(n.jsx)(La,{})})]})})},Ma=a(442),qa=a(507),Ha=a(505),Wa=a(226),Ga=a.n(Wa),Ka=a(228),Va=a.n(Ka),Ya=a(224),$a=a.n(Ya),Ja=a(87),Qa=a.n(Ja),Xa=a(223),Za=a.n(Xa),en=a(225),tn=a.n(en),an=a(227),nn=a.n(an),sn=a(222),rn=a.n(sn),on=a(221),cn=a.n(on),ln={updateByField:p},dn=Object(f.b)((function(e){return{User:e.User}}),ln)((function(e){var t=e.User,a=e.orientation,r=e.handleOpenSnackBar,i=e.updateByField,o=Object(s.useState)({email:t.email,gender:t.gender}),c=Object(k.a)(o,2),d=c[0],u=c[1],j=Object(s.useState)(t.dateOfBirth),b=Object(k.a)(j,2),p=b[0],m=b[1],h=_a(),O=Object(Ie.a)().t,g=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,s,o,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,a=sa()(p).format("l"),""===d.email){e.next=11;break}return e.next=6,R.post("/api/accountSettings",Object(l.a)(Object(l.a)({},d),{},{dateOfBirth:a}),{headers:{auth:localStorage.getItem("session")}});case 6:n=e.sent,s=n.data,o=s.success,c=s.message,o?(r({show:!0,message:O("successful.update"),severity:"success"}),i({email:d.email,gender:d.gender,dateOfBirth:a})):"Email is required"===c&&r({show:!0,message:O("email.message.error.input.required"),severity:"error"}),e.next=12;break;case 11:r({show:!0,message:O("email.message.error.input.required"),severity:"error"});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),r({show:!0,message:O("email.message.error.input.required"),severity:"error"});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(Te.a,{className:h.container,children:[Object(n.jsx)(X.a,{variant:a?"h6":"h3",children:O("account.settings")}),Object(n.jsxs)("form",{onSubmit:g,className:h.AccountForm,children:[Object(n.jsx)(oe.a,{type:"email",label:O("email"),name:"email",variant:"outlined",value:d.email,onChange:function(e){return u(Object(l.a)(Object(l.a)({},d),{},{email:e.target.value}))},size:"small"}),Object(n.jsx)($t.a,{utils:Yt.a,children:Object(n.jsx)(Jt.a,{orientation:a?"portrait":"landscape",variant:"inline",label:O("birth.date"),format:"DD-MM-YYYY",maxDate:new Date,value:p,onChange:m})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Ht.a,{component:"legend",children:O("gender")}),Object(n.jsxs)(Wt.a,{"aria-label":O("gender"),value:d.gender,onChange:function(e){return u(Object(l.a)(Object(l.a)({},d),{},{gender:e.target.value}))},children:[Object(n.jsx)(Gt.a,{value:"F",control:Object(n.jsx)(Kt.a,{}),label:O("gender.female")}),Object(n.jsx)(Gt.a,{value:"M",control:Object(n.jsx)(Kt.a,{}),label:O("gender.male")}),Object(n.jsx)(Gt.a,{value:"other",control:Object(n.jsx)(Kt.a,{}),label:O("gender.other")})]})]}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",children:O("save")})]})]})})),un=a(480),jn=function(e){var t=e.orientation,a=Object(s.useState)(localStorage.getItem("language")),r=Object(k.a)(a,2),i=r[0],o=r[1],c=Object(Ie.a)(),l=c.t,d=c.i18n,u=_a();return Object(n.jsxs)(Te.a,{className:u.container,children:[Object(n.jsx)(X.a,{variant:t?"h6":"h3",children:l("choose.language")}),Object(n.jsx)(un.a,{component:"fieldset",children:Object(n.jsxs)(Wt.a,{"aria-label":"Language",name:"Language",value:i,onChange:function(e){o(e.target.value),localStorage.setItem("language",e.target.value),d.changeLanguage(e.target.value)},children:[Object(n.jsx)(Gt.a,{value:"es",control:Object(n.jsx)(Kt.a,{}),label:l("spanish")}),Object(n.jsx)(Gt.a,{value:"en",control:Object(n.jsx)(Kt.a,{}),label:l("english")})]})})]})},bn=function(e){var t,a,r,i=e.orientation,o=e.handleOpenSnackBar,c=Object(s.useState)(!1),d=Object(k.a)(c,2),u=d[0],j=d[1],b=Object(s.useState)(!1),p=Object(k.a)(b,2),m=p[0],h=p[1],O=Object(s.useState)(!1),g=Object(k.a)(O,2),v=g[0],f=g[1],x=Object(ne.a)(),S=x.register,C=x.handleSubmit,N=x.errors,I=x.watch,P=Object(s.useRef)({});P.current=I("newPassword","");var B=Object(Ie.a)().t,E=_a(),F=ee(),T=function(e){e.preventDefault()},_=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,s,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/changePassword",Object(l.a)({},t),{headers:{auth:localStorage.getItem("session")}});case 2:if(a=e.sent,n=a.data,s=n.success,r=n.message,!s){e.next=8;break}o({show:!0,message:B("successful.update"),severity:"success"}),e.next=17;break;case 8:e.t0=r,e.next="New password is not valid"===e.t0?11:"The current password is incorrect"===e.t0?13:15;break;case 11:return o({show:!0,message:B("newPassword.invalid"),severity:"error"}),e.abrupt("break",17);case 13:return o({show:!0,message:B("current.password.message"),severity:"error"}),e.abrupt("break",17);case 15:return o({show:!0,message:B("internal.server.error.title"),severity:"error"}),e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(Te.a,{className:E.container,children:[Object(n.jsx)(X.a,{variant:i?"h6":"h3",children:B("password")}),Object(n.jsxs)("form",{onSubmit:C(_),children:[Object(n.jsx)(oe.a,{type:u?"text":"password",name:"currentPassword",label:B("current.password"),variant:"outlined",size:"small",className:E.margin,error:Boolean(null===N||void 0===N?void 0:N.currentPassword),inputRef:S({required:{value:!0,message:B("password.message.error.input.required")},minLength:{value:6,message:B("password.message.error.input.short")}}),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){return j(!u)},onMouseDown:T,edge:"end",size:"small",children:u?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})}}),Object(n.jsx)("div",{className:F.messageInput,children:null===N||void 0===N||null===(t=N.currentPassword)||void 0===t?void 0:t.message}),Object(n.jsx)(ke.a,{}),Object(n.jsxs)("div",{className:E.newPassword,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(oe.a,{type:m?"text":"password",name:"newPassword",label:B("new.password"),variant:"outlined",size:"small",className:E.margin,error:Boolean(null===N||void 0===N?void 0:N.currentPassword),inputRef:S({required:{value:!0,message:B("password.message.error.input.required")},minLength:{value:6,message:B("password.message.error.input.short")}}),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){return h(!m)},onMouseDown:T,edge:"end",size:"small",children:m?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})}}),Object(n.jsx)("div",{className:F.messageInput,children:null===N||void 0===N||null===(a=N.newPassword)||void 0===a?void 0:a.message})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(oe.a,{type:v?"text":"password",name:"repeatNewPassword",label:B("repeat.new.password"),variant:"outlined",size:"small",className:E.margin,error:Boolean(null===N||void 0===N?void 0:N.currentPassword),inputRef:S({required:{value:!0,message:B("password.message.error.input.required")},minLength:{value:6,message:B("password.message.error.input.short")},validate:function(e){return e===P.current||B("repeat.password.message")}}),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){return f(!v)},onMouseDown:T,edge:"end",size:"small",children:v?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})}}),Object(n.jsx)("div",{className:F.messageInput,children:null===N||void 0===N||null===(r=N.repeatNewPassword)||void 0===r?void 0:r.message})]})]}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:E.margin,children:B("save")})]})]})},pn=a(504),mn=a(483),hn=function(e){var t=e.select,a=e.handleSelect,s=e.open,r=e.orientation,i=Object(Ie.a)().t,o=_a();return Object(n.jsxs)(pn.a,{className:o.drawer,variant:r?"persistent":"permanent",classes:{paper:o.drawerPaper},anchor:"left",open:s,children:[Object(n.jsx)("div",{className:o.toolbar}),Object(n.jsx)(ke.a,{}),Object(n.jsxs)(mn.a,{children:[Object(n.jsxs)(Ma.a,{button:!0,selected:0===t,onClick:function(){return a(0)},children:[Object(n.jsx)(Ha.a,{primary:i("account")}),Object(n.jsx)(Qa.a,{})]}),Object(n.jsxs)(Ma.a,{button:!0,selected:1===t,onClick:function(){return a(1)},children:[Object(n.jsx)(Ha.a,{primary:i("language")}),Object(n.jsx)(Qa.a,{})]}),Object(n.jsxs)(Ma.a,{button:!0,selected:2===t,onClick:function(){return a(2)},children:[Object(n.jsx)(Ha.a,{primary:i("change.password")}),Object(n.jsx)(Qa.a,{})]})]}),Object(n.jsx)(ke.a,{})]})},On=function(e){var t=e.handleClose,a=Object(P.a)(),r=Object(Q.a)(a.breakpoints.down("sm")),i=Object(Ie.a)().t,o=Object(s.useState)(0),c=Object(k.a)(o,2),d=c[0],u=c[1],j=Object(s.useState)(!1),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(s.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),O=Object(k.a)(h,2),g=O[0],v=O[1],f=_a(),x=function(e){v(Object(l.a)(Object(l.a)({},g),e))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(q.a,{}),Object(n.jsx)(Aa.a,{elevation:0,className:f.appBar,children:Object(n.jsxs)(Ra.a,{children:[r&&Object(n.jsx)(fe.a,{edge:"start",color:"inherit",onClick:function(){return m(!p)},"aria-label":"close",children:p?Object(n.jsx)(cn.a,{}):Object(n.jsx)(rn.a,{})}),Object(n.jsx)(X.a,{variant:"h6",className:f.title,children:i("settings")}),Object(n.jsx)(fe.a,{edge:"start",color:"inherit",onClick:t,"aria-label":"close",children:Object(n.jsx)(we.a,{})})]})}),Object(n.jsx)(hn,{select:d,handleSelect:function(e){u(e)},open:p,orientation:r}),Object(n.jsxs)("main",{className:f.main,children:[0===d&&Object(n.jsx)(dn,{orientation:r,handleOpenSnackBar:x}),1===d&&Object(n.jsx)(jn,{orientation:r}),2===d&&Object(n.jsx)(bn,{orientation:r,handleOpenSnackBar:x})]}),Object(n.jsx)(he,{snackBar:g,handleClose:function(){v(Object(l.a)(Object(l.a)({},g),{},{show:!1}))}})]})},gn=function(e){var t=e.open,a=e.handleClose;return Object(n.jsx)(yt.a,{fullScreen:!0,open:t,onClose:a,children:Object(n.jsx)(On,{handleClose:a})})},vn={changeThemeMode:g},fn=Object(f.b)((function(e){return{mode:e.ThemeMode}}),vn)((function(e){var t=e.changeThemeMode,a=e.mode,r=Object(s.useState)(null),i=Object(k.a)(r,2),o=i[0],l=i[1],d=Object(s.useState)(!1),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(c.g)(),m=Object(Ie.a)().t;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(fe.a,{onClick:function(e){l(e.currentTarget)},color:"inherit",children:Object(n.jsx)(Ue.a,{})}),Object(n.jsxs)(Fa,{id:"customized-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){l(null)},children:[Object(n.jsx)(Ta,{children:Object(n.jsxs)(Ma.a,{component:"div",children:[Object(n.jsx)(qa.a,{children:Object(n.jsx)(ie.a,{children:Object(n.jsx)(Za.a,{fontSize:"small"})})}),Object(n.jsx)(Ha.a,{primary:m("feed.back"),secondary:m("feed.back.text.secondary")}),Object(n.jsx)(Qa.a,{})]})}),Object(n.jsx)(ke.a,{component:"li"}),Object(n.jsx)(Ta,{onClick:function(){return b(!0)},children:Object(n.jsxs)(Ma.a,{component:"div",children:[Object(n.jsx)(qa.a,{children:Object(n.jsx)(ie.a,{children:Object(n.jsx)($a.a,{fontSize:"small"})})}),Object(n.jsx)(Ha.a,{primary:m("settings")}),Object(n.jsx)(tn.a,{})]})}),Object(n.jsx)(Ta,{onClick:function(){t(a),localStorage.setItem("theme",a)},children:Object(n.jsxs)(Ma.a,{component:"div",children:[Object(n.jsx)(qa.a,{children:Object(n.jsx)(ie.a,{children:Object(n.jsx)(Ga.a,{fontSize:"small"})})}),Object(n.jsx)(Ha.a,{primary:m("theme")}),Object(n.jsx)(nn.a,{})]})}),Object(n.jsx)(Ta,{onClick:function(){localStorage.removeItem("session"),p.push("/access")},children:Object(n.jsxs)(Ma.a,{component:"div",children:[Object(n.jsx)(qa.a,{children:Object(n.jsx)(ie.a,{children:Object(n.jsx)(Va.a,{fontSize:"small"})})}),Object(n.jsx)(Ha.a,{primary:m("log.out")})]})})]}),Object(n.jsx)(gn,{open:j,handleClose:function(){b(!1)}})]})})),xn=[],wn="searchUsers",yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case wn:return n;default:return e}},kn=a(473),Sn=a(520),Cn=a(230),Nn=a.n(Cn),In=a(508),Pn=function(e){var t=e.user;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Ma.a,{button:!0,component:o.b,to:"/Profile/".concat(t._id),children:[Object(n.jsx)(qa.a,{children:Object(n.jsx)(ie.a,{src:null===t||void 0===t?void 0:t.avatar,alt:"".concat(t.firstName," ").concat(t.lastName)})}),Object(n.jsx)(Ha.a,{primary:"".concat(t.firstName," ").concat(t.lastName),primaryTypographyProps:{noWrap:!0}})]}),Object(n.jsx)(ke.a,{})]})},Bn=Object(f.b)((function(e){return{searchedUsers:e.SearchedUsers}}))((function(e){var t=e.anchorEl,a=e.searchedUsers,s=Ea(),r=Object(Ie.a)().t;return Object(n.jsx)(In.a,{id:"simple-popper",placement:"bottom-end",open:Boolean(t),anchorEl:t,className:s.simplePopper,children:Object(n.jsx)(se.a,{className:s.paperInputSearch,variant:"outlined",children:Object(n.jsx)(mn.a,{dense:!0,children:a.length>0?a.map((function(e,t){return Object(n.jsx)(Pn,{user:e},t)})):Object(n.jsx)("div",{className:s.noUsers,children:Object(n.jsx)(X.a,{variant:"body2",children:r("no.users")})})})})})})),En={setSearchedUsers:function(e){return{type:wn,payload:e}}},Fn=Object(f.b)(null,En)((function(e){var t=e.setSearchedUsers,a=Object(s.useState)(null),r=Object(k.a)(a,2),i=r[0],o=r[1],c=Ea(),l=Object(Ie.a)().t,d=function(){var e=Object(y.a)(w.a.mark((function e(a){var n,s,r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||""===a.target.value.trim()){e.next=15;break}return o(a.currentTarget),e.prev=2,e.next=5,R.post("/api/searchByUser",{name:a.target.value});case 5:n=e.sent,s=n.data,r=s.success,c=s.users,r&&t(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:e.next=16;break;case 15:""===a.target.value.trim()&&o(null);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(kn.a,{onClickAway:function(){o(null)},children:Object(n.jsxs)("div",{className:c.search,children:[Object(n.jsx)("div",{className:c.searchIcon,children:Object(n.jsx)(Nn.a,{})}),Object(n.jsx)(Sn.a,{placeholder:l("search"),classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"},onChange:d,onFocus:function(e){""!==e.target.value.trim()&&o(e.currentTarget)}}),i&&Object(n.jsx)(Bn,{anchorEl:i})]})})})})),Tn=function(){var e=Ea(),t=Object(Ie.a)().t;return Object(n.jsxs)(Aa.a,{position:"fixed",color:"inherit",elevation:0,children:[Object(n.jsxs)(Ra.a,{children:[Object(n.jsx)(X.a,{variant:"h6",children:Object(n.jsx)(wt.a,{underline:"none",component:o.b,to:"/",color:"inherit",children:t("name.app")})}),Object(n.jsx)(Fn,{}),Object(n.jsx)("div",{className:e.grow}),Object(n.jsx)(rt.a,{xsDown:!0,children:Object(n.jsx)(La,{})}),Object(n.jsx)(fn,{})]}),Object(n.jsx)(ke.a,{})]})},_n=a(509),An=function(e){var t=e.children,a=e.window,s=Object(_n.a)({target:a?a():void 0});return Object(n.jsx)(xt.a,{appear:!1,direction:"down",in:!s,children:t})},Rn=function(e){var t=Ea(),a=Object(c.h)(),s=Object(c.j)("/recoverpassword/:userID");return null===s&&(s=""),"/access"===a.pathname||"/404"===a.pathname||"/500"===a.pathname||"/settings"===a.pathname||a.pathname===s.url?null:Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(rt.a,{smUp:!0,children:Object(n.jsx)(An,Object(l.a)(Object(l.a)({},e),{},{children:Object(n.jsx)("div",{children:Object(n.jsx)(Tn,{})})}))}),Object(n.jsx)(rt.a,{xsDown:!0,children:Object(n.jsx)(Tn,{})}),Object(n.jsx)("div",{className:t.offset}),Object(n.jsx)(za,{})]})},Dn={getUserData:b,changeThemeMode:g},Un=Object(f.b)((function(e){return{mode:e.ThemeMode}}),Dn)((function(e){var t=e.changeThemeMode,a=e.mode,r=e.getUserData,i=Object(Ie.a)().i18n;return Object(s.useEffect)((function(){gt(r),t(localStorage.getItem("theme")),i.changeLanguage(localStorage.getItem("language"))}),[r,t,i]),Object(n.jsx)(o.a,{children:Object(n.jsxs)(M.a,{theme:K(a),children:[Object(n.jsx)(q.a,{}),Object(n.jsx)(Rn,{}),Object(n.jsxs)(c.d,{children:[Object(n.jsx)(L,{exact:!0,path:"/",component:nt}),Object(n.jsx)(L,{exact:!0,path:"/Profile/:userID",component:Ca}),Object(n.jsx)(z,{exact:!0,path:"/settings",component:ia}),Object(n.jsx)(c.b,{exact:!0,path:"/access",component:Rt}),Object(n.jsx)(c.b,{exact:!0,path:"/recoverpassword/:userID",component:Ia}),Object(n.jsx)(c.b,{exact:!0,path:"/404",component:Ut}),Object(n.jsx)(c.b,{exact:!0,path:"*",children:Object(n.jsx)(c.a,{to:"/404"})})]})]})})})),Ln=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,524)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))},zn=a(95),Mn=Object(zn.b)({User:m,ThemeMode:v,Posts:J,SearchedUsers:yn}),qn=Object(zn.c)(Mn,""),Hn=a(97),Wn=a(231),Gn=a(232),Kn=a(233),Vn=a(234),Yn=a(150),$n={en:{translation:Kn},es:{translation:Vn}};Yn.a.use(Wn.a).use(Gn.a).use(Hn.e).init({resources:$n,lng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});Yn.a;i.a.render(Object(n.jsx)(s.StrictMode,{children:Object(n.jsx)(f.a,{store:qn,children:Object(n.jsx)(Un,{})})}),document.getElementById("root")),Ln()}},[[437,1,2]]]);
//# sourceMappingURL=main.f0ad6a65.chunk.js.map