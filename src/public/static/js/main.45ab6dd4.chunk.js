(this["webpackJsonpskill.pub.front"]=this["webpackJsonpskill.pub.front"]||[]).push([[0],{232:function(e){e.exports=JSON.parse('{"name.app":"SkillPub","home":"Home","hello.friend":"Hello, friend!","system.message.good":"Good to see you ","sign.in":"Sign in","sign.up":"Sign up","log.in":"log in","use.accounts":"Or use your account","email":"Email","email.message.error":"Email not found","email.message.error.registered":"Email is already registered","email.message.error.input.required":"Email is required","email.message.error.unverified":"Unverified email","password":"Password","password.message.error":"Password is incorrect","password.message.error.input.required":"Password is required","password.message.error.input.short":"Password too short","recover.account":"Have you forgotten your password?","welcome.back":"Welcome back!","system.message":"To keep connected with us please login","create.account":"Create account","use.account.register":"Or use your email to register","first.name":"First name","first.name.error.input.required":"First name is required","last.name":"Last name","last.name.error.input.required":"Last name is required","error.pages.button":"Go back to home","internal.server.error.status":"500","internal.server.error.title":"Internal server error","internal.server.error.body":"Oops! Sorry it\'s not you, it\'s us. We are working to solve this issue, please try again later.","not.found.status":"404","not.found.title":"Page not found","not.found.body":"The page you were looking for was not found on this server","search":"Search...","feed.back":"Feed back","feed.back.text.secondary":"Help us improve the version of the SkillPub system","settings":"Settings","theme":"Theme","log.out":"Log out","modal.text":"Email address","forgot.password":"Did you forget your password","send.email":"Send","send.email.cancel":"Cancel","profile.setting":"Profile settings","select.skills":"Select your skills","successful":"Wonderful","geolocation.warning":"Geolocation not available","enter.data":"Personal information","phone":"Phone","birth.date":"Birthdate","gender":"Gender","gender.female":"Female","gender.male":"Male","gender.other":"Other","location":"Location","save":"Save","saving":"Saving","skills":"Skills","added.skills":"Added skills","posts":"Posts","edit.profile":"Edit profile","profile.descripcion":"Profile description","contact":"Contact","adress":"Adress","favorites":"Favorites","unfollow":"Unfollow","follow":"Follow","follower":"Follower","following":"Following","maximum.files.supported":"Maximum files supported up to 5","files.supported":"Files supported .jpg, .png, .jpeg, .gif","post.created":"Post has been created","file.too.large":"There\'s a file that\'s too large","post.add":"What do you want to tell us?","post.add.message":"Post body is required","post.republished.message.success":"shared post","post.republished.message.error":"Post already shared","cancel":"Cancel","share":"Share","no.users":"No users found","successful.update":"Successful update","account.settings":"Account settings","account":"Account","language":"Language","choose.language":"Choose your language","spanish":"Spanish","english":"English","post":"Post","change.password":"Change password","current.password":"Current password","new.password":"New password","repeat.new.password":"Repeat the password","repeat.password.message":"The passwords are not the same","newPassword.invalid":"The new password is invalid","current.password.message":"The current password is incorrect","check.email":"Great! check email","go.login":"Go login","description.max.length":"Maximum characters 60","successfully.added.banner":"Banner added","successfully.updated.banner":"Banner updated","image.upload.failed":"Error while uploading image, try again","successfully.added.profilePhoto":"Profile photo added","successfully.updated.profilePhoto":"Profile photo updated","profilePhoto.google.facebook":"Profile picture taken either from Google or Facebook","invalid.extension":"Invalid extension","main.info.updated":"Main information updated","banner.photo":"Banner Photo","profile.photo":"Profile Photo","no.following.message":"You\'re not following anyone yet. Start following users to see their posts","end.message":"You\'re up to date","loading.message":"Loading","no.posts":"You haven\'t posted anything yet, why don\'t you make one?","user.no.posts":"This user has no posts","end.profile":"End of profile","great.settings":"Great, you did all the necessary settings","welcome.Skillpub":"We want to welcome you to Skillpub, we hope to be of help","what.skillpub":"What is Skillpub?","skillpub.social.network":"Skillpub is a small social network with the purpose of sharing and following another user,our purpose is to improve the application to provide better services as it grows","version":"Version","version.body":"The application is in version 0.0.1 which has functions such as creating a profile,uploading publications, liking these publications or following other users","finish":"Finish"}')},233:function(e){e.exports=JSON.parse('{"name.app":"SkillPub","home":"Casa","hello.friend":"\xa1Hola amigo!","system.message.good":"Qu\xe9 bueno verte","sign.in":"Registrarse","sign.up":"Reg\xedstrate","log.in":"Iniciar Sesi\xf3n","use.accounts":"O usa tu cuenta","email":"Correo electr\xf3nico","email.message.error":"Correo electr\xf3nico no encontrado","email.message.error.registered":"El correo electr\xf3nico ya est\xe1 registrado","email.message.error.input.required":"El correo electronico es requerido","email.message.error.unverified":"El correo electr\xf3nico no esta verificado","password":"Contrase\xf1a","password.message.error":"La contrase\xf1a es incorrecta","password.message.error.input.required":"Se requiere contrase\xf1a","password.message.error.input.short":"Contrase\xf1a demasiado corta","recover.account":"\xbfHa olvidado su Contrase\xf1a?","welcome.back":"Bienvenido","system.message":"Para mantenerse conectado con nosotros","create.account":"Crear una cuenta","use.account.register":"O use su correo electr\xf3nico para registrarse","first.name":"Nombres","first.name.error.input.required":"Se requiere el nombre","last.name":"Apellidos","last.name.error.input.required":"Los apellidos son requeridos","error.pages.button":"Ir a inicio","internal.server.error.status":"500","internal.server.error.title":"Error interno del servidor","internal.server.error.body":"Oops! Lo sentimos no eres tu, somos nosotros. Estamos trabajando para resolver este error, por favor intenta m\xe1s tarde.","not.found.status":"404","not.found.title":"P\xe1gina no encontrada","not.found.body":"La p\xe1gina que estabas buscando no fue encontrada en este servidor","search":"Buscar...","feed.back":"\xbfQuieres contarnos alg\xfan problema?","feed.back.text.secondary":"Ay\xfadanos a mejorar la versi\xf3n del sistema SkillPub","settings":"Configuraciones","theme":"Tema","log.out":"Cerrar sesi\xf3n","modal.text":"Correo electr\xf3nico","forgot.password":"Se te olvid\xf3 tu contrase\xf1a","send.email":"Enviar","send.email.cancel":"Cancelar","profile.setting":"Configuraci\xf3n de perfil","select.skills":"Seleccione sus habilidades","successful":"Maravilloso","geolocation.warning":"Geolocalizaci\xf3n no disponible","enter.data":"Informaci\xf3n personal","phone":"Tel\xe9fono","birth.date":"Fecha de nacimiento","gender":"G\xe9nero","gender.female":"Femenino","gender.male":"Masculino","gender.other":"Otro","location":"Ubicaci\xf3n","save":"Guardar","saving":"Guardando","skills":"Habilidades","added.skills":"Habilidades a\xf1adidas","posts":"Publicaciones","edit.profile":"Editar perfil","profile.descripcion":"Descripci\xf3n del perfil","contact":"Contacto","adress":"Direccion","favorites":"Favoritos","unfollow":"Dejar de seguir","follow":"Seguir","follower":"Seguidores","following":"Siguiendo","maximum.files.supported":"El maximo de archivos soportados es de 5","files.supported":"Archivos soportados .jpg, .png, .jpeg, .gif","post.created":"El post ha sido creado","file.too.large":"Hay una imagen que es muy pesada","post.add":"\xbfQue quieres contarnos?","post.add.message":"Se requiere el cuerpo del poste","post.republished.message.success":"Publicaci\xf3n compartida","post.republished.message.error":"Publicaci\xf3n ya compartida","cancel":"Cancelar","share":"Compartir","no.users":"No se encontraron usuarios","successful.update":"Actualizaci\xf3n exitosa","account.settings":"Configuraciones de la cuenta","account":"Cuenta","language":"Lenguaje","choose.language":"Elige tu idioma","spanish":"Espa\xf1ol","english":"Ingles","post":"Enviar","change.password":"Cambia la contrase\xf1a","current.password":"Contrase\xf1a actual","new.password":"Nueva contrase\xf1a","repeat.new.password":"Repite la contrase\xf1a","repeat.password.message":"Las contrase\xf1as no son iguales","newPassword.invalid":"La nueva contrase\xf1a no es valida","current.password.message":"La contrase\xf1a actual es incorrecta","check.email":"\xa1Estupendo! Revisa el correo electr\xf3nico","go.login":"Ir a inicio de sesi\xf3n","description.max.length":"Caracteres maximos 60","successfully.added.banner":"Banner a\xf1adido","successfully.updated.banner":"Banner modificado","image.upload.failed":"Error al montar la imagen, intentar de nuevo","successfully.added.profilePhoto":"Foto de perfil a\xf1adida","successfully.updated.profilePhoto":"Foto de perfil editada","profilePhoto.google.facebook":"Foto de perfil tomada de Google \xf3 Facebook","invalid.extension":"Extension invalida","main.info.updated":"Informaci\xf3n principal editada","banner.photo":"Pancarta","profile.photo":"Foto de perfil","no.following.message":"Todavia no estas siguiendo a alguien. Empieza a seguir a usuarios para ver sus publicaciones","end.message":"Estas al d\xeda","loading.message":"Cargando","no.posts":"A\xfan no has publicado nada, \xbfpor qu\xe9 no haces uno?","user.no.posts":"Este usuario no tiene publicaciones","end.profile":"Final del perfil","great.settings":"Genial, hiciste todos los ajustes necesarios","welcome.Skillpub":"Queremos darte la bienvenida a Skillpub, esperamos ser de ayuda","what.skillpub":"\xbfQu\xe9 es Skillpub?","skillpub.social.network":"Skillpub es una peque\xf1a red social con el prop\xf3sito de compartir y seguir a otro usuario, nuestro prop\xf3sito es mejorar la aplicaci\xf3n para brindar mejores servicios a medida que crece","version":"Versi\xf3n","version.body":"La aplicaci\xf3n se encuentra en la versi\xf3n 0.0.1 la cual tiene funciones como crear un perfil, subir publicaciones, dar me gusta a estas publicaciones o seguir a otros usuarios","finish":"Terminar"}')},263:function(e,t,a){},437:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),s=a(20),i=a.n(s),o=(a(263),a(21)),c=a(28),l=a(8),d={Follower:[],Following:[],active:!0,createdAt:"",dateOfBirth:"",email:"",firstName:"",follower:[],following:[],gender:"M",groupsList:[],lastName:"",listOfAptitudes:[],location:{latitude:0,longitude:0},password:"",phone:"",state:"",postsList:[],savedposts:[],sharedPosts:[],updatedAt:"",avatar:"",banner:"",__v:0,_id:""},u="getUserData",j="updateByField",b=function(e){return{type:u,payload:e}},p=function(e){return{type:j,payload:e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case u:return n;case j:return Object(l.a)(Object(l.a)({},e),n);default:return e}},h="light",g="CHANGE_THEME_MODE",O=function(e){return{type:g,payload:"light"===e?"dark":"light"}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case g:return n;default:return e}},f=a(14),x=a(9),w=a.n(x),y=a(12),k=a(6),S=a(3),C=a(236),N=a(203),I=a.n(N),P=a(29),B=a(159),F=Object(B.a)((function(e){return{root:{display:"flex",justifyContent:"center",alignItems:"center"},backdrop:{zIndex:e.zIndex.drawer+1}}})),E=function(e){var t=e.isLoading,a=Object(P.a)(),r=F();return Object(n.jsx)(C.a,{open:t,className:r.backdrop,children:Object(n.jsx)(I.a,{type:"Bars",color:a.palette.secondary.main,height:100,width:100})})},T=a(205),A=a.n(T),D=A.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SERVER}),R=D,_={ok:200,created:201,accepted:202,noContent:204,notModified:304,badRequest:400,unauthorized:401,forbidden:403,notFound:404,conflict:409,imATeapot:418,tooManyRequests:429,internalServerError:500,badGateway:502,networkExtended:599},U=5,z=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.component,a=e.user,s=Object(S.a)(e,["component","user"]),i=Object(r.useState)(!1),o=Object(k.a)(i,2),d=o[0],u=o[1],j=Object(r.useState)(!0),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(c.g)();return"missing settings"===a.state&&h.push("/settings"),Object(r.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("session"),e.next=4,R.post("/api/validateAccessToken",{token:t});case 4:a=e.sent,u(a.data.success),a.data.status===_.unauthorized&&localStorage.removeItem("session"),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),localStorage.removeItem("session"),m(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)(c.b,Object(l.a)(Object(l.a)({},s),{},{children:p?Object(n.jsx)(E,{isLoading:p}):d?Object(n.jsx)(t,{}):Object(n.jsx)(c.a,{to:"/access"})}))})),L=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.component,a=e.user,s=Object(S.a)(e,["component","user"]),i=Object(r.useState)(!1),o=Object(k.a)(i,2),d=o[0],u=o[1],j=Object(r.useState)(!0),b=Object(k.a)(j,2),p=b[0],m=b[1];return Object(r.useEffect)((function(){(function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("session"),e.next=4,R.post("/api/validateAccessToken",{token:t});case 4:a=e.sent,u(a.data.success),a.data.status===_.unauthorized&&localStorage.removeItem("session"),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),localStorage.removeItem("session"),m(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsx)(c.b,Object(l.a)(Object(l.a)({},s),{},{children:p?Object(n.jsx)(E,{isLoading:p}):d?Object(n.jsx)("div",{children:"missing settings"===a.state&&Object(n.jsx)(t,{})}):Object(n.jsx)(c.a,{to:"/access"})}))})),M=a(483),q=a(505),W=a(82),H=a(206),G=a.n(H),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";return Object(W.a)({palette:{primary:{main:G.a[500],contrastText:"#FFFFFF"},secondary:{main:"#FFAD1F",contrastText:"#FFFFFF"},text:{secondary:"#C3C8CE"},type:e,background:{default:"light"===e?"#eaeff5":"#18181B",paper:"light"===e?"#fff":"#1F1F23"}},props:{MuiButton:{disableElevation:!0,style:{borderRadius:50}},MuiInputBase:{style:{borderRadius:50}}}})},V=[],Y="setPosts",Q=function(e){return{type:Y,payload:e}},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case Y:return n;default:return e}},J=a(490),X=a(52),Z=a(199),ee=Object(B.a)((function(e){return Object(Z.a)({main:{display:"flex",justifyContent:"center",width:"100%",marginTop:20},middle:{maxWidth:600,minWidth:600},btn:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:48,padding:"0 30px"},messageInput:{fontSize:".9em",color:e.palette.error.main},input:{display:"none"}})})),te=a(511),ae=a(18),ne=a(35),re=a(98),se=a(478),ie=a(517),oe=a(510),ce=a(10),le=a(16),de=a(7),ue=Object(B.a)((function(e){var t;return{paper:{padding:20},paperFooter:{marginTop:5},input:{display:"none"},postButtons:{marginTop:5,display:"flex",justifyContent:"space-between"},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper,margin:"15px auto","@global":{"*::-webkit-scrollbar":{width:"0.6em","-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,.3)",backgroundColor:"#F5F5F5"},"*::-webkit-scrollbar-track":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,0.3)",backgroundColor:"#F5F5F5"},"*::-webkit-scrollbar-thumb":{"-webkit-box-shadow":"inset 0 0 6px rgba(0,0,0,.3)",backgroundColor:"#BCC0C4"}}},gridList:{maxWidth:450,height:250},hideGridList:{display:"none"},titleBar:{backgroundColor:"transparent",padding:5},closeIcon:{color:"white",backgroundColor:Object(le.d)(e.palette.common.black,.8),"&:hover":{backgroundColor:Object(le.d)(e.palette.common.black,.6)}},avatar:{display:"flex",justifyContent:"center"},post:Object(ce.a)({width:"600px",marginTop:e.spacing(1)},e.breakpoints.down("xs"),{width:"100%"}),media:{position:"relative","& .CarouselItem":Object(ce.a)({height:"350px",overflow:"hidden",backgroundColor:"light"===(null===e||void 0===e||null===(t=e.palette)||void 0===t?void 0:t.type)?"#f1f1f1d7":"#1414142e"},e.breakpoints.down("xs"),{height:"164px"}),"& img":{width:"100%"}},CardAction:{justifyContent:"space-around","& .MuiIconButton-root:hover":{backgroundColor:"rgba(255, 255, 255, -0.92)!important"}},secondUser:{position:"relative"},secondUserTitle:Object(ce.a)({display:"flex",alignItems:"center",position:"absolute",left:"5em",top:"-2em"},e.breakpoints.down(296),{top:"-1.5em"}),smallText:{fontSize:".9em",opacity:.5},secondUserBody:{margin:"0 4em 1em 4em"},marginBottom:{marginBottom:e.spacing(2)},btnDefault:{opacity:.5},contentButton:{display:"flex",width:"100%",justifyContent:"flex-end"}}})),je=Object(de.a)((function(e){return{root:{width:22,height:22,border:"2px solid ".concat(e.palette.background.paper)}}}))(ie.a),be=a(471),pe=function(e){var t=e.size,a=void 0===t?50:t,r=e.isLoading,s=e.children,i=F(),o=Object(n.jsx)("div",{className:i.root,children:Object(n.jsx)(be.a,{color:"secondary",size:a})});return Object(n.jsx)(n.Fragment,{children:r?o:s})},me=a(518),he=function(e){var t=e.snackBar,a=e.handleClose;return Object(n.jsx)(me.a,{open:t.show,anchorOrigin:{vertical:t.vertical,horizontal:t.horizontal},autoHideDuration:6e3,onClose:a,children:Object(n.jsx)(te.a,{elevation:6,variant:"filled",severity:t.severity,children:t.message})})},ge=a(473),Oe=a(474),ve=a(475),fe=a(144),xe=a(68),we=a.n(xe),ye=function(e){var t=e.previewImages,a=e.handleDeselectImage,s=ue(),i=Object(r.useState)([]),o=Object(k.a)(i,2),c=o[0],l=o[1];return Object(r.useEffect)((function(){var e=[];1===t.length&&e.push(2),(4===t.length||3===t.length|1===t.length)&&e.push(1,1,2,2),5===t.length&&e.push(1,1,2,1,1),l([].concat(e))}),[t]),Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(ge.a,{cellHeight:200,cols:2,className:s.gridList,children:t.map((function(e,t){return Object(n.jsxs)(Oe.a,{cols:c[t]||1,children:[Object(n.jsx)("img",{src:e,alt:e}),Object(n.jsx)(ve.a,{actionPosition:"right",titlePosition:"top",className:s.titleBar,actionIcon:Object(n.jsx)(fe.a,{className:s.closeIcon,size:"small",onClick:function(){return a(e)},children:Object(n.jsx)(we.a,{fontSize:"inherit"})})})]},t)}))})})},ke=a(476),Se=a(477),Ce=a(209),Ne=a.n(Ce),Ie=a(516),Pe=function(e){var t=e.handleFileChange,a=e.register,r=Object(Ie.a)().t,s=ue();return Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{}),Object(n.jsxs)("div",{className:s.postButtons,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("input",{accept:"image/*",multiple:!0,className:s.input,id:"icon-button-file",name:"files",type:"file",ref:a,onChange:t}),Object(n.jsx)("label",{htmlFor:"icon-button-file",children:Object(n.jsx)(fe.a,{color:"inherit","aria-label":"upload picture",component:"span",children:Object(n.jsx)(Ne.a,{})})})]}),Object(n.jsx)("div",{children:Object(n.jsx)(Se.a,{variant:"contained",color:"primary",type:"submit",children:r("post")})})]})]})},Be=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.user,a={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},s=Object(r.useState)(!1),i=Object(k.a)(s,2),o=i[0],c=i[1],d=Object(r.useState)([]),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(r.useState)(a),m=Object(k.a)(p,2),h=m[0],g=m[1],O=Object(ne.a)(),v=O.register,f=O.handleSubmit,x=O.errors,S=ue(),C=Object(Ie.a)().t,N=function(){var e=Object(y.a)(w.a.mark((function e(t){var n,r,s,i,o,d,u,j;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,r=t.bodyContent,s=t.files,n.append("bodyContent",r),Array.from(s).forEach((function(e){n.append("files[]",e)})),i={headers:{auth:localStorage.getItem("session")}},e.prev=5,c(!0),e.next=9,R.post("/api/posts",n,i);case 9:o=e.sent,d=o.data,u=d.success,j=d.message,u?"Post created"===j?(a.message=C("post.created"),a.severity="success"):a.message=C("internal.server.error.title"):a.message=C("There's a file which extension is not valid"===j?"files.supported":"File too large"===j?"file.too.large":"internal.server.error.title"),c(!1),b([]),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),c(!1),b([]),a.message=C("internal.server.error.title");case 21:g(Object(l.a)(Object(l.a)({},a),{},{show:!0}));case 22:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(re.a,{className:S.paper,children:Object(n.jsx)(pe,{isLoading:o,children:Object(n.jsx)("form",{onSubmit:f(N),children:Object(n.jsxs)(se.a,{container:!0,children:[Object(n.jsx)(se.a,{item:!0,xs:2,className:S.avatar,children:Object(n.jsx)(ie.a,{src:null===t||void 0===t?void 0:t.avatar,children:null===t||void 0===t?void 0:t.fistName})}),Object(n.jsx)(se.a,{item:!0,xs:10,children:Object(n.jsx)(oe.a,{fullWidth:!0,variant:"outlined",size:"small",label:C("post.add"),name:"bodyContent",autoComplete:"off",inputRef:v({required:{value:!0,message:C("post.add.message")}}),error:Boolean(null===x||void 0===x?void 0:x.bodyContent)})}),Object(n.jsx)(se.a,{item:!0,xs:12,children:Object(n.jsx)("div",{className:j.length>0?S.root:S.hideGridList,children:j&&Object(n.jsx)(ye,{previewImages:j,handleDeselectImage:function(e){var t=j.indexOf(e),a=j;a.splice(t,1),b(Object(ae.a)(a))}})})}),Object(n.jsx)(se.a,{item:!0,xs:12,className:S.paperFooter,children:Object(n.jsx)(Pe,{register:v,handleFileChange:function(e){var t=Array.from(e.target.files);t.length<6?Promise.all(t.map((function(e){return new Promise((function(t,a){var n=new FileReader;n.addEventListener("load",(function(e){t(e.target.result)})),n.addEventListener("error",a),n.readAsDataURL(e)}))}))).then((function(e){return b(e)})).catch((function(e){return console.log(e)})):(a.message=C("maximum.files.supported"),a.severity="info",g(Object(l.a)(Object(l.a)({},a),{},{show:!0})))}})})]})})})}),Object(n.jsx)(he,{snackBar:h,handleClose:function(){g(a)}})]})})),Fe=a(487),Ee=a(488),Te=a(489),Ae=a(210),De=a.n(Ae),Re=a(484),_e=a(85),Ue=a.n(_e),ze=function(e){var t=e.avatar,a=e.firstName,r=e.lastName;return Object(n.jsx)(Re.a,{avatar:Object(n.jsx)(ie.a,{src:t,children:null===a||void 0===a?void 0:a.substring(0,1)}),title:a+" "+r,action:Object(n.jsx)(fe.a,{"aria-label":"settings",children:Object(n.jsx)(Ue.a,{})})})},Le=a(485),Me=a(211),qe=a.n(Me),We=function(e){var t=e.avatar,a=e.firstName,r=e.lastName,s=e.avatarRepublish,i=e.firstNameRepublish,o=e.lastNameRepublish,c=e.republishedBodyContent,l=ue();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Re.a,{avatar:Object(n.jsx)(Le.a,{overlap:"circle",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:Object(n.jsx)(je,{alt:"Remy Sharp",src:s,children:null===i||void 0===i?void 0:i.substring(0,1)}),children:Object(n.jsx)(ie.a,{alt:"Travis Howard",src:t,children:null===a||void 0===a?void 0:a.substring(0,1)})}),title:a+" "+r,action:Object(n.jsx)(fe.a,{"aria-label":"settings",children:Object(n.jsx)(Ue.a,{})})}),Object(n.jsxs)("div",{className:l.secondUser,children:[Object(n.jsxs)("div",{className:l.secondUserTitle,children:[Object(n.jsx)(qe.a,{className:l.smallText}),Object(n.jsx)(X.a,{variant:"subtitle1",className:l.smallText,children:i+" "+o})]}),Object(n.jsx)(X.a,{variant:"subtitle2",className:"".concat(l.secondUserBody," ").concat(l.smallText),children:c})]})]})},He=a(486),Ge=a(212),Ke=a.n(Ge),Ve=a(214),Ye=a.n(Ve),Qe=a(213),$e=a.n(Qe),Je=function(e){var t=e.liked,a=e.handleRepublish,r=e.handleLike,s=e.handleDislike,i=ue();return Object(n.jsxs)(He.a,{className:i.CardAction,children:[t?Object(n.jsx)(fe.a,{"aria-label":"likes",onClick:s,children:Object(n.jsx)($e.a,{})}):Object(n.jsx)(fe.a,{"aria-label":"likes",onClick:r,children:Object(n.jsx)(Ke.a,{})}),Object(n.jsx)(fe.a,{"aria-label":"share",onClick:a,children:Object(n.jsx)(Ye.a,{})})]})},Xe=a(75),Ze=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t,a,s,i,o,c,d,u,j,b=e.post,p=e.user,m=Object(r.useState)(!1),h=Object(k.a)(m,2),g=h[0],O=h[1],v=Object(r.useState)(!1),f=Object(k.a)(v,2),x=f[0],S=f[1],C=Object(r.useState)({show:!1,message:"",vertical:"top",horizontal:"center",severity:"error"}),N=Object(k.a)(C,2),I=N[0],P=N[1],B=ue(),F=Object(ne.a)(),E=F.register,T=F.handleSubmit,A=F.errors,D=Object(Ie.a)().t;Object(r.useEffect)((function(){void 0!==b.likesList.find((function(e){return e===p._id}))&&S(!0)}),[b,p]);var _=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,r,s,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===b.republishedUsersId.find((function(e){return e===p._id}))){e.next=6;break}P(Object(l.a)(Object(l.a)({},I),{},{message:D("post.republished.message.error"),show:!0})),e.next=13;break;case 6:return a={userId:p._id,thumbnailsList:null===b||void 0===b?void 0:b.thumbnailsList,republishedValidation:!0,bodyContent:t.bodyContent,republishedBodyContent:null===b||void 0===b?void 0:b.bodyContent,republishedUserId:b.userId._id},n={userId:p._id,postId:b._id},e.next=10,R.post("/api/republishPost",{share:a,republishedIds:n},{headers:{auth:localStorage.getItem("session")}});case 10:r=e.sent,s=r.data,i=s.success,o=s.message,i?P(Object(l.a)(Object(l.a)({},I),{},{message:D("post.republished.message.success"),show:!0,severity:"success"})):"Already published"===o&&P(Object(l.a)(Object(l.a)({},I),{},{message:D("post.republished.message.error"),show:!0}));case 13:O(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),P(Object(l.a)(Object(l.a)({},I),{},{message:D("internal.server.error.title"),show:!0}));case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/likePost",{postId:b._id,userId:p._id},{headers:{auth:localStorage.getItem("session")}});case 3:t=e.sent,t.data.success&&S(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/dislikePost",{postId:b._id,userId:p._id},{headers:{auth:localStorage.getItem("session")}});case 3:t=e.sent,t.data.success&&S(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(Fe.a,{className:B.post,elevation:1,children:[(null===b||void 0===b?void 0:b.republishedValidation)?Object(n.jsx)(We,{avatar:null===b||void 0===b||null===(i=b.userId)||void 0===i?void 0:i.avatar,firstName:null===b||void 0===b||null===(o=b.userId)||void 0===o?void 0:o.firstName,lastName:null===b||void 0===b||null===(c=b.userId)||void 0===c?void 0:c.lastName,avatarRepublish:null===b||void 0===b||null===(d=b.republishedUserId)||void 0===d?void 0:d.avatar,firstNameRepublish:null===b||void 0===b||null===(u=b.republishedUserId)||void 0===u?void 0:u.firstName,lastNameRepublish:null===b||void 0===b||null===(j=b.republishedUserId)||void 0===j?void 0:j.lastName,republishedBodyContent:null===b||void 0===b?void 0:b.republishedBodyContent}):Object(n.jsx)(ze,{avatar:null===b||void 0===b||null===(t=b.userId)||void 0===t?void 0:t.avatar,firstName:null===b||void 0===b||null===(a=b.userId)||void 0===a?void 0:a.firstName,lastName:null===b||void 0===b||null===(s=b.userId)||void 0===s?void 0:s.lastName}),Object(n.jsx)(De.a,{className:B.media,fullHeightHover:!0,autoPlay:!1,children:1===(null===b||void 0===b?void 0:b.thumbnailsList.length)?Object(n.jsx)(Xe.Image,{publicId:null===b||void 0===b?void 0:b.thumbnailsList[0],cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME||"dmv4ug7sg"}):null===b||void 0===b?void 0:b.thumbnailsList.map((function(e,t){return Object(n.jsx)(Xe.Image,{publicId:e,cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME||"dmv4ug7sg"},t)}))}),Object(n.jsx)(Ee.a,{children:Object(n.jsx)(X.a,{children:null===b||void 0===b?void 0:b.bodyContent})}),Object(n.jsx)(Je,{liked:x,comments:5,republishValue:7,favorites:2,handleRepublish:function(){return O(!0)},handleLike:U,handleDislike:z}),g&&Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{className:B.marginBottom}),Object(n.jsx)(Te.a,{className:B.marginBottom,children:Object(n.jsxs)("form",{onSubmit:T(_),children:[Object(n.jsx)(oe.a,{fullWidth:!0,variant:"outlined",size:"small",label:D("post.add"),name:"bodyContent",autoComplete:"off",inputRef:E({required:{value:!0,message:D("post.add.message")}}),error:Boolean(null===A||void 0===A?void 0:A.bodyContent)}),Object(n.jsxs)("div",{className:B.contentButton,children:[Object(n.jsx)(Se.a,{className:B.btnDefault,onClick:function(){return O(!1)},children:D("cancel")}),Object(n.jsx)(Se.a,{type:"submit",color:"primary",children:D("share")})]})]})})]})]}),Object(n.jsx)(he,{snackBar:I,handleClose:function(){P(Object(l.a)(Object(l.a)({},I),{},{show:!1,severity:"error"}))}})]})})),et=a(118),tt=function(e){var t=e.title,a=e.description;Object(r.useEffect)((function(){document.title="SkillPub | ".concat(t)}),[t]),Object(r.useEffect)((function(){var e=document.querySelector("meta[name='description']");null===e||void 0===e||e.setAttribute("content",a)}),[a])},at={setPosts:Q},nt=Object(f.b)((function(e){return{user:e.User,posts:e.Posts}}),at)((function(e){var t=e.posts,a=e.user,s=e.setPosts,i=ee(),o=Object(P.a)(),c=Object(J.a)(o.breakpoints.up("sm")),l=Object(r.useState)(U),d=Object(k.a)(l,2),u=d[0],j=d[1],b=Object(r.useState)(!0),p=Object(k.a)(b,2),m=p[0],h=p[1],g=Object(Ie.a)().t;tt({title:"Home",description:"home information"}),Object(r.useEffect)((function(){Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/getPostsHome",{id:a._id,limit:u},{headers:{auth:localStorage.getItem("session")}});case 3:t=e.sent,t.data.success&&(h(t.data.hasMore),s(t.data.posts)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[s,u,a]);var O=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(u+U),e.prev=2,e.next=5,R.post("/api/getPostsHome",{id:a._id,limit:u},{headers:{auth:localStorage.getItem("session")}});case 5:t=e.sent,t.data.success&&(h(t.data.hasMore),s(t.data.posts)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:i.main,children:Object(n.jsxs)("div",{className:c?i.middle:"",children:[Object(n.jsx)(Be,{}),0!==t.length?Object(n.jsx)(et.a,{dataLength:t.length,next:O,hasMore:m,loader:Object(n.jsx)(X.a,{variant:"subtitle2",align:"center",children:g("loading.message")}),endMessage:Object(n.jsx)(te.a,{severity:"info",variant:"filled",style:{margin:"10px 0"},children:g("end.message")}),children:null===t||void 0===t?void 0:t.map((function(e){return Object(n.jsx)(Ze,{post:e})}))}):Object(n.jsx)(te.a,{style:{marginTop:10},severity:"info",variant:"outlined",children:g("no.following.message")})]})})})),rt=Object(B.a)((function(e){return Object(Z.a)({root:{height:"100vh","& .MuiGrid-item":{maxWidth:"100%"}},Button:{marginTop:"10px"},content:{position:"relative",margin:"20px 0"},container:{display:"flex",justifyContent:"space-around",alignItems:"center",flexWrap:"wrap"},images:{width:"30px"},signInContainer:{zIndex:2},signUpContainer:{opacity:0,zIndex:2},hideSingIn:{opacity:0,animation:"$hide 0.2s"},showSingUp:{zIndex:5,opacity:1,animation:"$show 0.8s"},formStyle:{padding:"20px",width:"290px",textAlign:"center","& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"},"& .MuiInputBase-root":{borderRadius:"30px 30px"}},formStyleRecoverPassword:{width:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},overlayContainer:Object(ce.a)({position:"absolute",top:"0",left:"50%",width:"50%",height:"100%",zIndex:3},e.breakpoints.down("sm"),{left:"0",top:"50%"}),overlay:Object(ce.a)({background:"linear-gradient(to right, ".concat(e.palette.primary.main,", ").concat(e.palette.primary.dark,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"0 0",color:"#ffffff",position:"relative",height:"100%",width:"200%",transition:"all 0.6s ease-in-out",display:"flex",justifyContent:"space-around",alignItems:"center",textAlign:"center",left:"0"},e.breakpoints.down("sm"),{top:"0",flexDirection:"column"}),overlayChange:Object(ce.a)({left:"-200%"},e.breakpoints.down("sm"),{left:"0",top:"-110%"}),overlayPanel:Object(ce.a)({padding:"0 40px",textAlign:"center",opacity:0,marginLeft:"29px"},e.breakpoints.down("sm"),{marginLeft:"0"}),overlaySwitchPanel:{opacity:1,animation:"$showOverlayPanel 0.6s ease-in-out"},socialContainer:{display:"flex",justifyContent:"space-evenly"},modalContainer:{textAlign:"center",margin:"0 40px 20px 40px"},iconModal:{fontSize:100,textAlign:"center"},formStylePassword:{marginTop:"10px"},diealogRecoverPassword:{margin:0,padding:e.spacing(2)},btn:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},"@keyframes show":{"0%, 50%":{zIndex:2,opacity:0},"100%":{zIndex:5,opacity:1}},"@keyframes hide":{"0%, 50%":{opacity:1},"100%":{opacity:0}},"@keyframes showOverlayPanel":{"0%, 50%":{opacity:0},"100%":{opacity:1}}})})),st=a(513),it=a(494),ot=a(61),ct=a.n(ot),lt=a(62),dt=a.n(lt),ut=a(215),jt=a.n(ut),bt=a(216),pt=a.n(bt),mt=a.p+"static/media/google.92b8040a.svg",ht=a.p+"static/media/facebook.db22d166.svg",gt=function(){var e=Object(y.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/getUser",{},{headers:{auth:localStorage.getItem("session")}});case 3:if(!(a=e.sent).data.success){e.next=8;break}t(a.data.user),e.next=9;break;case 8:throw new Error("Internal server error");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("error: ",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Ot={getUserData:b},vt=Object(f.b)(null,Ot)((function(e){var t=e.handleopenBackDrop,a=e.validateAccess,s=e.getUserData,i={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},o=Object(r.useState)(i),d=Object(k.a)(o,2),u=d[0],j=d[1],b=rt(),p=Object(c.g)(),m=Object(Ie.a)().t,h=function(){var e=Object(y.a)(w.a.mark((function e(n){var r,o,c,d,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0),e.next=4,R.post("/api/googleAccess",{tokenId:n.tokenId,validateAccess:a});case 4:if(r=e.sent,t(!1),o=r.data,c=o.success,d=o.message,u=o.token,!c){e.next=21;break}if("User found"!==d){e.next=15;break}return localStorage.setItem("session",u),e.next=12,gt(s);case 12:return e.abrupt("return",p.push("/"));case 15:return localStorage.setItem("session",u),e.next=18,gt(s);case 18:return e.abrupt("return",p.push("/settings"));case 19:e.next=34;break;case 21:if("Email not found"!==d){e.next=25;break}i.message=m("email.message.error"),e.next=34;break;case 25:if("Email is already registered"!==d){e.next=29;break}i.message=m("email.message.error.registered"),e.next=34;break;case 29:if("Unverified email"!==d){e.next=33;break}i.message=m("email.message.error.unverified"),e.next=34;break;case 33:throw new Error("internal server error");case 34:e.next=41;break;case 36:e.prev=36,e.t0=e.catch(0),t(!1),i.message=m("internal.server.error.title"),console.error(e.t0);case 41:j(Object(l.a)(Object(l.a)({},i),{},{show:!0}));case 42:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(y.a)(w.a.mark((function e(n){var r,o,c,d,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("unknown"!==n.status){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t(!0),e.next=6,R.post("/api/facebookAccess",{accessToken:n.accessToken,userId:n.userID,validateAccess:a});case 6:if(r=e.sent,t(!1),o=r.data,c=o.success,d=o.message,u=o.token,!c){e.next=23;break}if("User found"!==d){e.next=17;break}return localStorage.setItem("session",u),e.next=14,gt(s);case 14:return e.abrupt("return",p.push("/"));case 17:return localStorage.setItem("session",u),e.next=20,gt(s);case 20:return e.abrupt("return",p.push("/settings"));case 21:e.next=32;break;case 23:if("Email not found"!==d){e.next=27;break}i.message=m("email.message.error"),e.next=32;break;case 27:if("Email is already registered"!==d){e.next=31;break}i.message=m("email.message.error.registered"),e.next=32;break;case 31:throw new Error("internal server error");case 32:e.next=39;break;case 34:e.prev=34,e.t0=e.catch(2),t(!1),i.message=m("internal.server.error.title"),console.error(e.t0);case 39:j(Object(l.a)(Object(l.a)({},i),{},{show:!0}));case 40:case"end":return e.stop()}}),e,null,[[2,34]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:b.socialContainer,children:[Object(n.jsx)(jt.a,{clientId:"920347174932-jom43a4j0cqa05rgjri2pvo0nrcogvhm.apps.googleusercontent.com",render:function(e){return Object(n.jsx)(Se.a,{onClick:e.onClick,disabled:e.disabled,"aria-label":"like",size:"small",children:Object(n.jsx)("img",{src:mt,alt:"google",className:b.images})})},onSuccess:h,onFailure:function(e){console.error(e)},cookiePolicy:"single_host_origin"}),Object(n.jsx)(pt.a,{appId:"716647445609370",autoLoad:!1,fields:"name,email,picture",callback:g,render:function(e){return Object(n.jsx)(Se.a,{onClick:e.onClick,"aria-label":"like",size:"small",children:Object(n.jsx)("img",{src:ht,alt:"facebook",className:b.images})})}})]}),Object(n.jsx)(he,{snackBar:u,handleClose:function(){j(i)}})]})})),ft=a(146),xt=a(491),wt=a(492),yt=a(493),kt=a(217),St=a.n(kt),Ct=function(e,t){return Object(n.jsx)(ft.a,Object(l.a)({direction:"up",ref:t},e))},Nt=Object(r.forwardRef)(Ct),It=function(){var e=Object(r.useState)({show:!1,message:"",severity:"error"}),t=Object(k.a)(e,2),a=t[0],s=t[1],i=Object(r.useState)(!1),o=Object(k.a)(i,2),c=o[0],l=o[1],d=Object(r.useState)(""),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(Ie.a)().t,m=rt(),h=Object(P.a)(),g=Object(J.a)(h.breakpoints.down("xs")),O=function(){l(!1)},v=function(){var e=Object(y.a)(w.a.mark((function e(){var t,a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===j){e.next=8;break}return e.next=3,R.post("/api/sendEmail",{email:j});case 3:t=e.sent,a=t.data,n=a.success,r=a.message,n?s({message:p("check.email"),show:!0,severity:"success"}):"Email not found"===r&&s({message:p("email.message.error"),show:!0,severity:"error"}),e.next=9;break;case 8:s({message:p("email.message.error.input.required"),show:!0,severity:"error"});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(xt.a,{href:"#",onClick:function(){l(!0)},children:p("recover.account")}),Object(n.jsxs)(wt.a,{open:c,TransitionComponent:Nt,fullScreen:g,keepMounted:!0,maxWidth:"xl",onClose:O,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsxs)("div",{className:m.modalContainer,children:[Object(n.jsxs)(yt.a,{onClose:O,disableTypography:!0,className:m.diealogRecoverPassword,children:[Object(n.jsx)(X.a,{variant:"h6",children:p("forgot.password")}),O?Object(n.jsx)(fe.a,{"aria-label":"close",className:m.btn,onClick:O,children:Object(n.jsx)(we.a,{})}):null]}),Object(n.jsx)(St.a,{color:"primary",className:m.iconModal}),Object(n.jsxs)("form",{className:m.formStyleRecoverPassword,children:[Object(n.jsx)(oe.a,{type:"email",name:"email",label:p("modal.text"),autoFocus:!0,margin:"dense",variant:"outlined",size:"small",value:j,onChange:function(e){return b(e.target.value)}}),Object(n.jsx)(Se.a,{onClick:v,variant:"contained",color:"primary",children:p("send.email")})]})]}),a.show&&Object(n.jsx)(te.a,{severity:a.severity,children:a.message})]})]})},Pt={getUserData:b},Bt=Object(f.b)(null,Pt)((function(e){var t,a,s=e.changeAccess,i=e.getUserData,o={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},d=Object(r.useState)(!1),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(r.useState)(o),m=Object(k.a)(p,2),h=m[0],g=m[1],O=Object(r.useState)(!1),v=Object(k.a)(O,2),f=v[0],x=v[1],S=Object(ne.a)(),C=S.register,N=S.handleSubmit,I=S.errors,P=rt(),B=ee(),F=Object(c.g)(),T=Object(Ie.a)().t,A=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,r,s,c,d,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.prev=1,x(!0),e.next=5,R.post("/api/signIn",{email:a,password:n});case 5:if(r=e.sent,x(!1),s=r.data,c=s.success,d=s.token,u=s.message,!c){e.next=15;break}return localStorage.setItem("session",d),e.next=12,gt(i);case 12:return e.abrupt("return",F.push("/"));case 15:o.message=T("Email not found"===u?"email.message.error":"password.message.error");case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(1),x(!1),console.error("error: =>",e.t0),o.message=T("internal.server.error.title");case 23:g(Object(l.a)(Object(l.a)({},o),{},{show:!0}));case 24:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:P.signInContainer,children:Object(n.jsxs)("form",{onSubmit:N(A),className:"".concat(P.formStyle," ").concat(s?"":P.hideSingIn),children:[Object(n.jsx)(st.a,{xsDown:!0,children:Object(n.jsx)(X.a,{variant:"h3",children:T("sign.in")})}),Object(n.jsx)(st.a,{smUp:!0,children:Object(n.jsx)(X.a,{variant:"h6",children:T("sign.in")})}),Object(n.jsx)(vt,{handleopenBackDrop:function(e){x(e)},validateAccess:"signIn"}),Object(n.jsx)(X.a,{variant:"caption",children:T("use.accounts")}),Object(n.jsx)(oe.a,{type:"email",name:"email",label:T("email"),variant:"outlined",size:"small",error:Boolean(null===I||void 0===I?void 0:I.email),inputRef:C({required:{value:!0,message:T("email.message.error.input.required")}})}),Object(n.jsx)("div",{className:B.messageInput,children:null===I||void 0===I||null===(t=I.email)||void 0===t?void 0:t.message}),Object(n.jsx)(oe.a,{type:j?"text":"password",name:"password",label:T("password"),variant:"outlined",size:"small",error:Boolean(null===I||void 0===I?void 0:I.password),inputRef:C({required:{value:!0,message:T("password.message.error.input.required")},minLength:{value:6,message:T("password.message.error.input.short")}}),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){b(!j)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"small",children:j?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})}}),Object(n.jsx)("div",{className:B.messageInput,children:null===I||void 0===I||null===(a=I.password)||void 0===a?void 0:a.message}),Object(n.jsx)(It,{}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:P.Button,children:T("log.in")})]})}),Object(n.jsx)(he,{snackBar:h,handleClose:function(){g(o)}}),Object(n.jsx)(E,{isLoading:f})]})})),Ft={getUserData:b},Et=Object(f.b)(null,Ft)((function(e){var t,a,s,i=e.changeAccess,o=e.getUserData,d={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},u=Object(r.useState)(d),j=Object(k.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(!1),h=Object(k.a)(m,2),g=h[0],O=h[1],v=Object(ne.a)(),f=v.register,x=v.handleSubmit,S=v.errors,C=rt(),N=ee(),I=Object(c.g)(),P=Object(Ie.a)().t,B=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,r,s,i,c,u,j,b;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,r=t.firstName,s=t.lastName,e.prev=1,O(!0),e.next=5,R.post("/api/signUp",{email:a,password:n,firstName:r,lastName:s});case 5:if(i=e.sent,O(!1),c=i.data,u=c.success,j=c.token,b=c.message,!u){e.next=14;break}return localStorage.setItem("session",j),gt(o),e.abrupt("return",I.push("/settings"));case 14:"Email is already registered"===b&&(d.message=P("email.message.error.registered"));case 15:e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),O(!1),console.error("error: =>",e.t0),d.message=P("internal.server.error.title");case 22:p(Object(l.a)(Object(l.a)({},d),{},{show:!0}));case 23:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"".concat(C.signUpContainer," ").concat(i?"":C.showSingUp),children:Object(n.jsxs)("form",{onSubmit:x(B),className:C.formStyle,children:[Object(n.jsx)(st.a,{xsDown:!0,children:Object(n.jsx)(X.a,{variant:"h4",children:P("create.account")})}),Object(n.jsx)(st.a,{smUp:!0,children:Object(n.jsx)(X.a,{variant:"h6",children:P("create.account")})}),Object(n.jsx)(vt,{handleopenBackDrop:function(e){O(e)},validateAccess:"signUp"}),Object(n.jsx)("span",{children:P("use.account.register")}),Object(n.jsx)(oe.a,{type:"email",name:"email",label:P("email"),variant:"outlined",size:"small",error:Boolean(null===S||void 0===S?void 0:S.email),inputRef:f({required:{value:!0,message:P("email.message.error.input.required")}})}),Object(n.jsx)("div",{className:N.messageInput,children:null===S||void 0===S||null===(t=S.email)||void 0===t?void 0:t.message}),Object(n.jsx)(oe.a,{name:"firstName",label:P("first.name"),variant:"outlined",size:"small",error:Boolean(null===S||void 0===S?void 0:S.firstName),inputRef:f({required:{value:!0,message:P("first.name.error.input.required")}})}),Object(n.jsx)("div",{className:N.messageInput,children:null===S||void 0===S||null===(a=S.firstName)||void 0===a?void 0:a.message}),Object(n.jsx)(oe.a,{name:"lastName",label:P("last.name"),variant:"outlined",size:"small",error:Boolean(null===S||void 0===S?void 0:S.lastName),inputRef:f({required:{value:!0,message:P("last.name.error.input.required")}})}),Object(n.jsx)("div",{className:N.messageInput,children:null===S||void 0===S||null===(s=S.lastName)||void 0===s?void 0:s.message}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:C.Button,children:P("sign.up")})]})}),Object(n.jsx)(he,{snackBar:b,handleClose:function(){p(d)}}),Object(n.jsx)(E,{isLoading:g})]})})),Tt=function(e){var t=e.changeAccess,a=e.handleChangeAccess,r=Object(Ie.a)().t,s=rt();return Object(n.jsx)("div",{className:"".concat(s.overlayContainer),children:Object(n.jsxs)("div",{className:"".concat(s.overlay," ").concat(t?"":s.overlayChange),children:[Object(n.jsxs)("div",{className:"".concat(s.overlayPanel," ").concat(t?s.overlaySwitchPanel:""," "),children:[Object(n.jsx)(X.a,{variant:"h4",children:r("hello.friend")}),Object(n.jsx)("p",{children:r("system.message.good")}),Object(n.jsx)(Se.a,{variant:"outlined",color:"inherit",id:"signUp",onClick:function(){return a(!1)},children:r("sign.up")})]}),Object(n.jsxs)("div",{className:"".concat(s.overlayPanel," ").concat(t?"":s.overlaySwitchPanel," "),children:[Object(n.jsx)(X.a,{variant:"h4",children:r("welcome.back")}),Object(n.jsx)("p",{children:r("system.message")}),Object(n.jsx)(Se.a,{variant:"outlined",color:"inherit",onClick:function(){return a(!0)},children:r("log.in")})]})]})})},At=function(){var e=Object(Ie.a)().i18n;Object(r.useEffect)((function(){var t=navigator.language.split("-");e.changeLanguage(t[0])}),[e])},Dt=function(){var e=rt(),t=Object(r.useState)(!0),a=Object(k.a)(t,2),s=a[0],i=a[1];tt({title:"access",description:"log in to the skill Pub app"}),At();var o=function(){var e=Object(r.useState)(!1),t=Object(k.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){!function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("session"),e.next=4,R.post("/api/validateAccessToken",{token:t});case 4:(a=e.sent).data.status===_.unauthorized&&localStorage.removeItem("session"),n(a.data.success),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),localStorage.removeItem("session"),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),a}();return Boolean(o)?Object(n.jsx)(c.a,{to:"/"}):Object(n.jsx)(Te.a,{children:Object(n.jsx)(se.a,{className:e.root,container:!0,direction:"row",justify:"center",alignItems:"center",children:Object(n.jsx)(se.a,{item:!0,xs:9,sm:7,md:12,children:Object(n.jsxs)(Fe.a,{className:e.content,children:[Object(n.jsxs)("div",{className:"".concat(e.container),children:[Object(n.jsx)(Bt,{changeAccess:s}),Object(n.jsx)(Et,{changeAccess:s})]}),Object(n.jsx)(Tt,{changeAccess:s,handleChangeAccess:function(e){i(e)}})]})})})})},Rt=Object(B.a)((function(e){return Object(Z.a)({root:{flexGrow:1,height:"100vh"},paper:Object(ce.a)({padding:e.spacing(4),textAlign:"center",borderRadius:30},e.breakpoints.down("xs"),{backgroundColor:"inherit"})})})),_t=function(){var e=Rt(),t=Object(Ie.a)().t;return tt({title:"Page not found",description:"Page not found 404"}),At(),Object(n.jsx)(se.a,{container:!0,direction:"row",alignItems:"center",justify:"center",className:e.root,children:Object(n.jsx)(se.a,{item:!0,children:Object(n.jsxs)(re.a,{className:e.paper,elevation:0,children:[Object(n.jsx)(X.a,{variant:"h1",color:"textSecondary",children:Object(n.jsx)("b",{children:t("not.found.status")})}),Object(n.jsx)(st.a,{xsDown:!0,children:Object(n.jsx)(X.a,{variant:"h2",color:"textSecondary",children:Object(n.jsx)("b",{children:t("not.found.title")})})}),Object(n.jsx)(st.a,{smUp:!0,children:Object(n.jsx)(X.a,{variant:"h4",color:"textSecondary",children:Object(n.jsx)("b",{children:t("not.found.title")})})}),Object(n.jsx)(X.a,{variant:"body1",color:"textSecondary",paragraph:!0,children:Object(n.jsx)("b",{children:t("not.found.body")})}),Object(n.jsx)(Se.a,{variant:"contained",color:"primary",component:o.b,to:"/",children:t("error.pages.button")})]})})})},Ut=a(521),zt=a(499),Lt=a(514),Mt=Object(B.a)((function(e){return{root:{width:"100%"},container:{padding:"20px 0"},cardContent:{textAlign:"center"},spacing:{margin:e.spacing(1)},spacingTop:{marginTop:e.spacing(1)},spacingBottom:{marginBottom:e.spacing(2)},formStyle:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center","& .MuiTextField-root":{margin:e.spacing(1),width:"15em"}},constrastCard:{backgroundColor:"light"===e.palette.type?"#f1f1f1d7":"#2b2b2bd7"},locationContainer:{padding:"0 20px",paddingBottom:"0!important",display:"flex",alignItems:"center"},skillsContent:{display:"flex",justifyContent:"center",flexWrap:"wrap"},dialogContent:{maxHeight:"100em",display:"flex",flexWrap:"wrap","& .MuiButton-root":{margin:".5em"}}}})),qt=a(480),Wt=a(515),Ht=a(497),Gt=a(512),Kt=a(498),Vt=a(119),Yt=a(36),Qt=a(509),$t=function(e){var t,a=e.saveUserData,s=e.gender,i=e.handleChangeGender,o=e.checked,c=e.handleGeolocationChecked,l=e.selectedDate,d=e.setSelectedDate,u=Object(P.a)(),j=Object(J.a)(u.breakpoints.down("sm")),b=Mt(),p=ee(),m=Object(r.useState)(!1),h=Object(k.a)(m,2),g=h[0],O=h[1],v=Object(ne.a)(),f=v.register,x=v.handleSubmit,w=v.errors,y=Object(Ie.a)().t;return Object(n.jsx)(Fe.a,{elevation:0,children:Object(n.jsxs)(Ee.a,{className:b.cardContent,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(X.a,{children:y("enter.data")}),Object(n.jsx)(ke.a,{})]}),Object(n.jsxs)("form",{onSubmit:x(a),className:b.formStyle,children:[Object(n.jsx)(oe.a,{type:g?"text":"password",name:"password",label:y("password"),variant:"outlined",size:"small",InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){O(!g)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"small",children:g?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})},inputRef:f({required:{value:!0,message:y("password.message.error.input.required")},minLength:{value:6,message:y("password.message.error.input.short")}})}),Object(n.jsx)("div",{className:p.messageInput,children:null===w||void 0===w||null===(t=w.password)||void 0===t?void 0:t.message}),Object(n.jsx)(oe.a,{type:"number",name:"phone",label:y("phone"),variant:"outlined",size:"small",inputRef:f}),Object(n.jsx)(Yt.a,{utils:Vt.a,children:Object(n.jsx)(Qt.a,{orientation:j?"portrait":"landscape",variant:"inline",name:"dateOfBirth",label:y("birth.date"),format:"DD-MM-YYYY",maxDate:new Date,value:l,onChange:d})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(qt.a,{component:"legend",children:y("gender")}),Object(n.jsxs)(Wt.a,{"aria-label":y("gender"),name:"gender",value:s,onChange:i,children:[Object(n.jsx)(Ht.a,{value:"F",control:Object(n.jsx)(Gt.a,{}),label:y("gender.female")}),Object(n.jsx)(Ht.a,{value:"M",control:Object(n.jsx)(Gt.a,{}),label:y("gender.male")}),Object(n.jsx)(Ht.a,{value:"other",control:Object(n.jsx)(Gt.a,{}),label:y("gender.other")})]})]}),Object(n.jsx)(Fe.a,{elevation:0,className:b.constrastCard,children:Object(n.jsxs)(Ee.a,{className:b.locationContainer,children:[Object(n.jsx)(X.a,{children:y("location")}),Object(n.jsx)(Kt.a,{checked:o,onChange:c,name:"checked",color:"primary"})]})}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:b.spacingTop,children:y("save")})]})]})})},Jt=a(520),Xt=a(495),Zt=function(e){var t=e.aptitudes,a=e.onClose,r=e.open,s=e.addSkills,i=Mt();return Object(n.jsxs)(wt.a,{onClose:a,"aria-labelledby":"simple-dialog-title",open:r,children:[Object(n.jsx)(yt.a,{id:"simple-dialog-title",children:"Set backup account"}),Object(n.jsx)(Xt.a,{className:i.dialogContent,children:t.map((function(e,t){return Object(n.jsx)(Se.a,{onClick:function(){return s(e.name,e._id)},variant:"contained",color:t%2?"primary":"secondary",children:e.name},t)}))})]})},ea=function(e){var t=e.saveSkills,a=e.handleSnackBar,s=Object(r.useState)([]),i=Object(k.a)(s,2),o=i[0],c=i[1],l=Mt(),d=Object(r.useState)(!1),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(r.useState)([]),m=Object(k.a)(p,2),h=m[0],g=m[1],O=Object(r.useState)([]),v=Object(k.a)(O,2),f=v[0],x=v[1],S=Object(r.useState)(!1),C=Object(k.a)(S,2),N=C[0],I=C[1],P=Object(r.useState)(!1),B=Object(k.a)(P,2),F=B[0],T=B[1],A=Object(Ie.a)().t;Object(r.useEffect)((function(){try{T(!0),Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/api/categories");case 2:(t=e.sent).data.success?c(t.data.categories):a("error",A("internal.server.error.title")),T(!1);case 5:case"end":return e.stop()}}),e)})))()}catch(e){T(!1),a("error",A("internal.server.error.title"))}}),[c,a,A]);var D=function(){var e=Object(y.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I(!0),e.next=4,R.post("/api/aptitudes",{idCategorie:t},{headers:{auth:localStorage.getItem("session")}});case 4:(n=e.sent).data.success&&g(n.data.aptitudes),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("error",A("internal.server.error.title"));case 11:I(!1),b(!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Fe.a,{elevation:0,children:Object(n.jsxs)(Ee.a,{className:l.cardContent,children:[Object(n.jsxs)("div",{className:l.spacingBottom,children:[Object(n.jsx)(X.a,{children:A("skills")}),Object(n.jsx)(ke.a,{})]}),Object(n.jsx)(pe,{isLoading:F,children:Object(n.jsx)("div",{className:l.skillsContent,children:o.map((function(e,t){return Object(n.jsx)(Se.a,{variant:"contained",className:l.spacing,onClick:function(){return D(e._id)},children:e.name},t)}))})}),0!==f.length&&Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(X.a,{children:A("added.skills")}),Object(n.jsx)(ke.a,{})]}),Object(n.jsx)("div",{children:f.map((function(e,t){return Object(n.jsx)(Jt.a,{className:l.spacing,label:e.name,onDelete:function(){return function(e){var t=f.filter((function(t){return t.id!==e}));x(t)}(e.id)}},t)}))}),Object(n.jsx)(Se.a,{variant:"contained",color:"primary",onClick:function(){return t(f)},children:A("save")})]})]})}),Object(n.jsx)(E,{isLoading:N}),Object(n.jsx)(Zt,{aptitudes:h,addSkills:function(e,t){void 0===f.find((function(e){return e.id===t}))&&x([].concat(Object(ae.a)(f),[{name:e,id:t}]))},open:j,onClose:function(){b(!1)}})]})},ta=function(e){var t=e.finish,a=Object(Ie.a)().t;return At(),Object(n.jsxs)(Te.a,{children:[Object(n.jsx)(X.a,{variant:"h3",children:a("great.settings")}),Object(n.jsx)(X.a,{variant:"h6",children:a("welcome.Skillpub")}),Object(n.jsx)(ke.a,{}),Object(n.jsx)(X.a,{variant:"h6",children:a("what.skillpub")}),Object(n.jsx)(X.a,{variant:"body1",children:a("skillpub.social.network")}),Object(n.jsx)(X.a,{variant:"h6",children:a("version")}),Object(n.jsx)(X.a,{variant:"body1",children:a("version.body")}),Object(n.jsx)(Se.a,{variant:"contained",color:"primary",onClick:t,children:a("finish")})]})},aa=a(76),na=a.n(aa),ra={getUserData:b},sa=Object(f.b)(null,ra)((function(e){var t=e.getUserData,a=Object(P.a)(),s=Object(J.a)(a.breakpoints.down("sm")),i=Mt(),o=Object(r.useState)(0),d=Object(k.a)(o,2),u=d[0],j=d[1],b=Object(r.useState)("F"),p=Object(k.a)(b,2),m=p[0],h=p[1],g=Object(r.useState)(!1),O=Object(k.a)(g,2),v=O[0],f=O[1],x=Object(r.useState)({}),S=Object(k.a)(x,2),C=S[0],N=S[1],I=Object(r.useState)(!1),B=Object(k.a)(I,2),F=B[0],T=B[1],A=Object(r.useState)(na()()),D=Object(k.a)(A,2),_=D[0],U=D[1],z=Object(r.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),L=Object(k.a)(z,2),M=L[0],q=L[1],W=Object(c.g)(),H=Object(Ie.a)().t;tt({title:"settings ".concat(t.firstName),description:"account settings"});var G=[H("profile.setting"),H("select.skills"),H("successful")],K=function(){var e=Object(y.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.put("/api/updateUserState",{},{headers:{auth:localStorage.getItem("session")}});case 2:(a=e.sent).data.success&&(t(a.data.user),W.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=na()(_).format("l"),e.prev=1,T(!0),e.next=5,R.post("/api/updateUserSettings",Object(l.a)(Object(l.a)({},t),{},{location:C,gender:m,dateOfBirth:a}),{headers:{auth:localStorage.getItem("session")}});case 5:n=e.sent,T(!1),n.data.success?j((function(e){return e+1})):q(Object(l.a)(Object(l.a)({},M),{},{message:H("internal.server.error.title"),show:!0})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),T(!1),q(Object(l.a)(Object(l.a)({},M),{},{message:H("internal.server.error.title"),show:!0}));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),a=t.map((function(e){return e.id})),e.next=5,R.post("/api/assignAptitudes",{listAptitudes:a},{headers:{auth:localStorage.getItem("session")}});case 5:n=e.sent,T(!1),n.data.success?j((function(e){return e+1})):q(Object(l.a)(Object(l.a)({},M),{},{message:H("internal.server.error.title"),show:!0})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),T(!1),q(Object(l.a)(Object(l.a)({},M),{},{message:H("internal.server.error.title"),show:!0}));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:i.root,children:[Object(n.jsx)(Ut.a,{activeStep:u,orientation:s?"vertical":"horizontal",children:G.map((function(e){return Object(n.jsx)(zt.a,{children:Object(n.jsx)(Lt.a,Object(l.a)(Object(l.a)({},{}),{},{children:e}))},e)}))}),Object(n.jsxs)(Te.a,{className:i.container,children:[0===u&&Object(n.jsx)($t,{saveUserData:V,gender:m,handleChangeGender:function(e){h(e.target.value)},checked:v,handleGeolocationChecked:function(){f(!v),"geolocation"in navigator?v||navigator.geolocation.getCurrentPosition((function(e){N({latitude:e.coords.latitude,longitude:e.coords.longitude})})):setTimeout((function(){q(Object(l.a)(Object(l.a)({},M),{},{message:H("geolocation.warning"),show:!0,severity:"warning"}))}),2e3)},selectedDate:_,setSelectedDate:U}),1===u&&Object(n.jsx)(ea,{saveSkills:Y,handleSnackBar:function(e,t){q(Object(l.a)(Object(l.a)({},M),{},{show:!0,severity:e,message:t}))}}),2===u&&Object(n.jsx)(ta,{finish:K})]})]}),Object(n.jsx)(he,{snackBar:M,handleClose:function(){q(Object(l.a)(Object(l.a)({},M),{},{show:!1,severity:"error"}))}}),Object(n.jsx)(E,{isLoading:F})]})})),ia=a(500),oa=Object(B.a)((function(e){var t;return Object(Z.a)({large:{width:e.spacing(11),height:e.spacing(11)},contentMd:{display:"flex",flexDirection:"column",alignItems:"center"},firstAvatar:{position:"absolute",top:"11em",left:e.spacing(5),zIndex:"3"},firstHiddenAvatar:{animation:"$firstAvatar 0.6s",animationFillMode:"forwards"},secondAvatar:{position:"fixed",top:"3.5em",left:e.spacing(5),zIndex:"3",width:e.spacing(7),height:e.spacing(7),opacity:0},secondHiddenAvatar:{animation:"$secondAvatar 2s",animationFillMode:"forwards"},skeletonAvatar:{position:"absolute",top:"15em!important",left:e.spacing(5),zIndex:"3"},seconSkeletonAvatar:{position:"fixed",top:"5.5em!important",left:e.spacing(5),zIndex:"3",opacity:0,visibility:"hidden"},secondHiddenSkeletonAvatar:{visibility:"visible"},marginRight:{marginRight:e.spacing(1)},marginTop:{marginTop:"1em"},btn:{marginLeft:"45%"},borderRadius:{borderRadius:"50px"},space:{marginTop:e.spacing(6)},bannerContent:{width:"100%",position:"relative",height:"200px",overflow:"hidden","& img":{width:"100%",height:"auto"}},text:{fontSize:"12px",marginLeft:"2px"},sidebar:{width:"300px",height:"calc(100vh - 65px)",borderTopLeftRadius:"0",borderTopRightRadius:"0",position:"absolute"},fixedSidebar:{position:"fixed",top:"65px",zIndex:"2"},contentFollowers:{marginTop:".5em",display:"flex",justifyContent:"space-around"},contentSkills:{display:"flex",flexWrap:"wrap"},skill:{margin:".2em"},appBarProfile:(t={position:"absolute",left:"300px",width:"calc(100% - 300px)",borderRadius:"0",display:"flex",zIndex:"3","& .MuiButtonBase-root":{borderRadius:"0!important"}},Object(ce.a)(t,e.breakpoints.down("md"),{width:"100%",left:"0"}),Object(ce.a)(t,e.breakpoints.down("xs"),{flexDirection:"column"}),t),fixedAppBarProfile:{position:"fixed",top:"4.5em"},postContainer:Object(ce.a)({display:"flex",flexDirection:"column",alignItems:"center",flexWrap:"wrap",marginTop:e.spacing(5),marginBottom:e.spacing(5)},e.breakpoints.down("xs"),{marginTop:e.spacing(16),marginBottom:e.spacing(10)}),"@keyframes firstAvatar":{"0%":{position:"absolute",top:"11em",left:e.spacing(5),zIndex:"3",width:e.spacing(7),height:e.spacing(7),opacity:1},"100%":{top:"13.5em",left:e.spacing(5),width:e.spacing(7),height:e.spacing(7),opacity:0}},"@keyframes secondAvatar":{"0%":{opacity:0},"100%":{opacity:1,zIndex:"4"}},photosContainer:{display:"flex",justifyContent:"center"},bannerPhoto:{borderRadius:15,maxWidth:"100%",maxHeight:200},positioningContainer:{position:"relative"},editPhotosButton:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},editProfileButton:{position:"absolute",top:"45%",left:"38%",transform:"translate(-50%)"},fakeBannerSkeleton:{borderRadius:15,height:200,width:500},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},saveButtons:{margin:e.spacing(2),display:"flex",justifyContent:"flex-end"}})})),ca=Object(f.b)((function(e){return{userLoggedIn:e.User}}))((function(e){var t,a,s,i,c=e.isFixed,d=e.user,u=e.userLoggedIn,j=Object(r.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(r.useState)(!1),g=Object(k.a)(h,2),O=g[0],v=g[1],f=oa(),x=Object(Ie.a)().t;Object(r.useEffect)((function(){var e,t=null===u||void 0===u||null===(e=u.following)||void 0===e?void 0:e.find((function(e){return e===d._id}));v(Boolean(t))}),[d,u]);var S=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/follow",{id:d._id},{headers:{auth:localStorage.getItem("session")}});case 2:e.sent.data.success?v(!0):m(Object(l.a)(Object(l.a)({},p),{},{show:!0,message:x("internal.server.error.title")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/unfollow",{id:d._id},{headers:{auth:localStorage.getItem("session")}});case 2:e.sent.data.success?v(!1):m(Object(l.a)(Object(l.a)({},p),{},{show:!0,message:x("internal.server.error.title")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(st.a,{mdDown:!0,children:[Object(n.jsx)(ie.a,{alt:"avatar",className:"".concat(f.large," ").concat(f.firstAvatar," ").concat(c?f.firstHiddenAvatar:""," "),src:null===d||void 0===d?void 0:d.avatar,children:null===d||void 0===d?void 0:d.firstName.substring(0,1)}),Object(n.jsx)(ie.a,{alt:"avatar",className:"".concat(f.secondAvatar," ").concat(c?f.secondHiddenAvatar:""," "),src:null===d||void 0===d?void 0:d.avatar,children:null===d||void 0===d?void 0:d.firstName.substring(0,1)}),Object(n.jsx)(Fe.a,{className:"".concat(f.sidebar," ").concat(c?f.fixedSidebar:""," "),elevation:0,children:Object(n.jsxs)(Ee.a,{children:[(null===d||void 0===d?void 0:d._id)!==(null===u||void 0===u?void 0:u._id)&&Object(n.jsx)(Se.a,{color:"primary",variant:"contained",className:f.btn,onClick:O?C:S,children:x(O?"unfollow":"follow")}),Object(n.jsx)(X.a,{variant:"h6",className:"".concat(f.marginTop," ").concat((null===d||void 0===d?void 0:d._id)===(null===u||void 0===u?void 0:u._id)?f.space:""),children:d.firstName+" "+d.lastName}),Object(n.jsxs)("div",{children:[(null===d||void 0===d?void 0:d.description)&&Object(n.jsxs)("div",{children:[Object(n.jsxs)(X.a,{children:[x("profile.description"),":"]}),Object(n.jsx)(X.a,{variant:"body1",className:f.textSize,children:d.description})]}),(null===d||void 0===d?void 0:d.phone)&&Object(n.jsxs)(X.a,{className:f.text,children:[x("contact"),":",Object(n.jsx)(X.a,{component:"strong",color:"primary",className:f.text,children:null===d||void 0===d?void 0:d.phone})]})]}),Object(n.jsx)(ke.a,{}),Object(n.jsxs)("div",{className:f.contentFollowers,children:[Object(n.jsxs)(X.a,{children:[x("follower"),":",Object(n.jsx)(X.a,{component:o.b,color:"primary",className:f.text,to:"/",children:null===d||void 0===d||null===(t=d.follower)||void 0===t?void 0:t.length})]}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0}),Object(n.jsxs)(X.a,{children:[x("following"),":",Object(n.jsx)(X.a,{component:o.b,color:"primary",className:f.text,to:"/",children:null===d||void 0===d||null===(a=d.following)||void 0===a?void 0:a.length})]})]}),0!==(null===d||void 0===d||null===(s=d.listOfAptitudes)||void 0===s?void 0:s.length)&&Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{className:f.marginTop}),Object(n.jsx)(X.a,{children:x("skills")}),Object(n.jsx)("div",{className:f.contentSkills,children:null===d||void 0===d||null===(i=d.listOfAptitudes)||void 0===i?void 0:i.map((function(e){return Object(n.jsx)(Jt.a,{label:e.name,className:f.skill},e._id)}))})]})]})}),Object(n.jsx)(he,{snackBar:p,handleClose:function(){m(Object(l.a)(Object(l.a)({},p),{},{show:!1,severity:"error"}))}})]})})),la=Object(f.b)((function(e){return{userLoggedIn:e.User}}))((function(e){var t,a,s,i,c=e.user,d=e.userLoggedIn,u=Object(r.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),j=Object(k.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(!1),h=Object(k.a)(m,2),g=h[0],O=h[1],v=oa(),f=Object(Ie.a)().t;Object(r.useEffect)((function(){var e,t=null===d||void 0===d||null===(e=d.following)||void 0===e?void 0:e.find((function(e){return e===c._id}));O(Boolean(t))}),[c,d]);var x=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/follow",{id:c._id},{headers:{auth:localStorage.getItem("session")}});case 2:e.sent.data.success?O(!0):p(Object(l.a)(Object(l.a)({},b),{},{show:!0,message:f("internal.server.error.title")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/unfollow",{id:c._id},{headers:{auth:localStorage.getItem("session")}});case 2:e.sent.data.success?O(!1):p(Object(l.a)(Object(l.a)({},b),{},{show:!0,message:f("internal.server.error.title")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(st.a,{lgUp:!0,children:[Object(n.jsx)(Fe.a,{elevation:0,children:Object(n.jsxs)(Ee.a,{children:[Object(n.jsxs)("div",{className:"".concat(v.contentMd),children:[Object(n.jsx)(ie.a,{alt:"avatar",className:"".concat(v.large),src:null===c||void 0===c?void 0:c.avatar,children:null===c||void 0===c?void 0:c.firstName.substring(0,1)}),(null===c||void 0===c?void 0:c._id)!==(null===d||void 0===d?void 0:d._id)&&Object(n.jsx)(Se.a,{color:"primary",variant:"contained",className:v.marginTop,onClick:g?S:x,children:f(g?"unfollow":"follow")}),Object(n.jsx)(X.a,{variant:"h6",className:"".concat(v.marginTop," ").concat((null===c||void 0===c?void 0:c._id)===(null===d||void 0===d?void 0:d._id)?v.space:""),children:c.firstName+" "+c.lastName})]}),Object(n.jsxs)("div",{children:[(null===c||void 0===c?void 0:c.description)&&Object(n.jsxs)("div",{children:[Object(n.jsxs)(X.a,{children:[f("profile.description"),":"]}),Object(n.jsx)(X.a,{variant:"body1",className:v.textSize,children:c.description})]}),(null===c||void 0===c?void 0:c.phone)&&Object(n.jsxs)(X.a,{className:v.text,children:[f("contact"),":",Object(n.jsx)(X.a,{component:"strong",color:"primary",className:v.text,children:null===c||void 0===c?void 0:c.phone})]})]}),Object(n.jsx)(ke.a,{}),Object(n.jsxs)("div",{children:[Object(n.jsxs)(X.a,{children:[f("follower"),":",Object(n.jsx)(X.a,{component:o.b,color:"primary",className:v.text,to:"/",children:null===c||void 0===c||null===(t=c.follower)||void 0===t?void 0:t.length})]}),Object(n.jsxs)(X.a,{children:[f("following"),":",Object(n.jsx)(X.a,{component:o.b,color:"primary",className:v.text,to:"/",children:null===c||void 0===c||null===(a=c.following)||void 0===a?void 0:a.length})]})]}),0!==(null===c||void 0===c||null===(s=c.listOfAptitudes)||void 0===s?void 0:s.length)&&Object(n.jsxs)("div",{children:[Object(n.jsx)(ke.a,{className:v.marginTop}),Object(n.jsx)(X.a,{children:f("skills")}),Object(n.jsx)("div",{className:v.contentSkills,children:null===c||void 0===c||null===(i=c.listOfAptitudes)||void 0===i?void 0:i.map((function(e){return Object(n.jsx)(Jt.a,{label:e.name,className:v.skill},e._id)}))})]})]})}),Object(n.jsx)(he,{snackBar:b,handleClose:function(){p(Object(l.a)(Object(l.a)({},b),{},{show:!1,severity:"error"}))}})]})})),da=function(e){var t=e.isFixed,a=oa();return Object(n.jsxs)(st.a,{mdDown:!0,children:[Object(n.jsx)(ia.a,{variant:"circle",width:90,height:90,className:"".concat(a.skeletonAvatar," ").concat(t?a.firstHiddenAvatar:""," ")}),Object(n.jsx)(ia.a,{variant:"circle",width:50,height:50,className:"".concat(a.seconSkeletonAvatar," ").concat(t?a.secondHiddenSkeletonAvatar:""," ")}),Object(n.jsx)(Fe.a,{className:"".concat(a.sidebar," ").concat(t?a.fixedSidebar:""," "),elevation:0,children:Object(n.jsxs)(Ee.a,{children:[Object(n.jsx)(ia.a,{width:90,height:40,variant:"rect",className:"".concat(a.btn," ").concat(a.borderRadius)}),Object(n.jsx)(ia.a,{variant:"text",width:250,height:30,className:a.marginTop}),[60,200,150,80,190,60,80,40].map((function(e,t){return Object(n.jsx)(ia.a,{variant:"text",width:e},t)})),Object(n.jsx)(ia.a,{variant:"rect",height:50}),Object(n.jsx)(ia.a,{variant:"text",width:60}),Object(n.jsx)("div",{className:a.contentSkills,children:[60,100,140,80,130,60,80,60].map((function(e,t){return Object(n.jsx)(ia.a,{variant:"text",height:30,width:e,className:"".concat(a.borderRadius," ").concat(a.marginRight)},t)}))})]})})]})},ua=function(){var e=oa();return Object(n.jsx)(st.a,{lgUp:!0,children:Object(n.jsx)(Fe.a,{elevation:0,children:Object(n.jsxs)(Ee.a,{children:[Object(n.jsxs)("div",{className:"".concat(e.contentMd),children:[Object(n.jsx)(ia.a,{variant:"circle",width:50,height:50}),Object(n.jsx)(ia.a,{width:90,height:40,variant:"rect",className:"".concat(e.marginTop,"  ").concat(e.borderRadius)}),Object(n.jsx)(ia.a,{variant:"text",width:250,height:30,className:e.marginTop})]}),[60,200,150,80,190,60,80,40].map((function(e,t){return Object(n.jsx)(ia.a,{variant:"text",width:e},t)})),Object(n.jsx)(ia.a,{variant:"rect",height:50}),Object(n.jsx)(ia.a,{variant:"text",width:60}),Object(n.jsx)("div",{className:e.contentSkills,children:[60,100,140,80,130,60,80,60].map((function(t,a){return Object(n.jsx)(ia.a,{variant:"text",height:30,width:t,className:"".concat(e.borderRadius," ").concat(e.marginRight)},a)}))})]})})})},ja=a(122),ba=a.n(ja),pa=a(218),ma=(a(436),{updateByField:p}),ha=Object(f.b)((function(e){return{user:e.User}}),ma)((function(e){var t=e.user,a=e.updateByField,s={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},i=Object(r.useState)(""),o=Object(k.a)(i,2),c=o[0],d=o[1],u=Object(r.useState)(t.banner),j=Object(k.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(null),h=Object(k.a)(m,2),g=h[0],O=h[1],v=Object(r.useState)(!1),f=Object(k.a)(v,2),x=f[0],S=f[1],C=Object(r.useState)(null),N=Object(k.a)(C,2),I=N[0],B=N[1],F=Object(r.useState)(s),E=Object(k.a)(F,2),T=E[0],A=E[1],D=Object(Ie.a)().t,_=oa(),U=Object(P.a)();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,{snackBar:T,handleClose:function(){A(s)}}),Object(n.jsx)("div",{className:_.photosContainer,children:Object(n.jsxs)("div",{className:_.positioningContainer,children:[Object(n.jsx)(X.a,{variant:"h6",align:"center",gutterBottom:!0,children:D("banner.photo")}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g&&g.getCroppedCanvas().toBlob(function(){var e=Object(y.a)(w.a.mark((function e(t){var n,r,i,o,c,d,u,j;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,r=new File([t],I.name,{type:t.type}),n.append("banner",r),i={headers:{auth:localStorage.getItem("session")}},e.prev=4,S(!0),e.next=8,R.put("/api/updateBanner",n,i);case 8:o=e.sent,c=o.data,d=c.success,u=c.message,j=c.userUpdated,d?"Successfully added banner"===u?(s.severity="success",s.message=D("successfully.added.banner")):"Successfully updated banner"===u&&(s.severity="success",s.message=D("successfully.updated.banner")):s.message=D("Error while uploading image to cloudinary"===u?"image.upload.failed":"File too large"===u?"file.too.large":"internal.server.error.title"),A(Object(l.a)(Object(l.a)({},s),{},{show:!0})),S(!1),p(j.banner),a({banner:j.banner}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),S(!1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(t){return e.apply(this,arguments)}}())},children:[b?Object(n.jsx)(Xe.Image,{publicId:b,cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME||"dmv4ug7sg",className:_.bannerPhoto}):c?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(pa.a,{src:c,className:_.bannerPhoto,initialAspectRatio:1,viewMode:3,dragMode:"move",guides:!1,minCropBoxHeight:200,minCropBoxWidth:500,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){return O(e)}})}):Object(n.jsx)("div",{className:_.fakeBannerSkeleton,style:{backgroundColor:U.palette.background.default}}),Object(n.jsxs)("div",{className:_.editPhotosButton,children:[Object(n.jsx)("input",{accept:"image/*",style:{display:"none"},id:"icon-button-file-banner",type:"file",name:"banner",onChange:function(e){var t=e.target.files[0];B(t);var a=new FileReader;t&&(a.readAsDataURL(t),a.onloadend=function(){d(a.result),p("")})}}),Object(n.jsx)("label",{htmlFor:"icon-button-file-banner",children:Object(n.jsx)(fe.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(n.jsx)(ba.a,{})})})]}),Object(n.jsx)("div",{className:_.saveButtons,children:Object(n.jsx)(Se.a,{variant:"contained",color:"primary",size:"small",type:"submit",disabled:x,children:D(x?"saving":"save")})})]})]})})]})})),ga={updateByField:p},Oa=Object(f.b)((function(e){return{user:e.User}}),ga)((function(e){var t=e.user,a=e.updateByField,s={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},i=Object(r.useState)(""),o=Object(k.a)(i,2),c=o[0],d=o[1],u=Object(r.useState)(""),j=Object(k.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(!1),h=Object(k.a)(m,2),g=h[0],O=h[1],v=Object(r.useState)(s),f=Object(k.a)(v,2),x=f[0],S=f[1],C=oa(),N=Object(Ie.a)().t,I=function(){var e=Object(y.a)(w.a.mark((function e(n){var r,i,o,c,u,j,p;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""===b){e.next=21;break}return e.prev=2,O(!0),(r=new FormData).append("profilePhoto",b),i={headers:{auth:localStorage.getItem("session")}},e.next=9,R.put("/api/updateProfilePhoto",r,i);case 9:o=e.sent,c=o.data,u=c.success,j=c.message,p=c.userUpdated,u?("Successfully added avatar"===j?(s.severity="success",s.message=N("successfully.added.profilePhoto")):"Successfully updated profile photo"===j&&(s.severity="success",s.message=N("successfully.updated.profilePhoto")),a({avatar:p.avatar})):"File too large"===j?s.message=N("file.too.large"):"Error while uploading image to cloudinary"===j?s.message=N("image.upload.failed"):"Invalid extension"===j?s.message=N("invalid.extension"):"Profile picture taken either from Google or Facebook"===j?(s.severity="info",s.message=N("profilePhoto.google.facebook")):s.message=N("internal.server.error.title"),S(Object(l.a)(Object(l.a)({},s),{},{show:!0})),O(!1),p&&(d(t.avatar),a({avatar:p.avatar})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),O(!1),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,{snackBar:x,handleClose:function(){S(s)}}),Object(n.jsx)("div",{className:C.photosContainer,children:Object(n.jsxs)("form",{onSubmit:I,children:[Object(n.jsxs)("div",{className:C.positioningContainer,children:[Object(n.jsx)(X.a,{variant:"h6",align:"center",gutterBottom:!0,children:N("profile.photo")}),c?Object(n.jsx)(ie.a,{className:C.large,src:c,alt:"selected-profile-picture"}):Object(n.jsx)(ie.a,{className:C.large,src:t.avatar,alt:"profile-picture"}),Object(n.jsxs)("div",{className:C.editProfileButton,children:[Object(n.jsx)("input",{accept:"image/*",style:{display:"none"},id:"icon-button-file-profile",type:"file",name:"profile",onChange:function(e){var t=e.target.files[0],a=new FileReader;t&&(p(t),a.readAsDataURL(t),a.onloadend=function(){d(a.result)})}}),Object(n.jsx)("label",{htmlFor:"icon-button-file-profile",children:Object(n.jsx)(fe.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(n.jsx)(ba.a,{})})})]})]}),Object(n.jsx)("div",{style:{margin:10},children:Object(n.jsx)(Se.a,{variant:"contained",color:"primary",size:"small",type:"submit",disabled:g,children:N(g?"saving":"save")})})]})})]})})),va=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t,a,s=e.user,i={show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"},o=Object(r.useState)(!1),c=Object(k.a)(o,2),d=c[0],u=c[1],j=Object(r.useState)(i),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(ne.a)(),g=h.register,O=h.errors,v=h.reset,f=h.handleSubmit,x=Object(Ie.a)().t;Object(r.useEffect)((function(){v(s)}),[v,s]);var S=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),a={headers:{auth:localStorage.getItem("session")}},e.next=5,R.put("/api/updateMainInfo",t,a);case 5:n=e.sent,n.data.success?(i.severity="success",i.message=x("main.info.updated")):i.message=x("internal.server.error.title"),m(Object(l.a)(Object(l.a)({},i),{},{show:!0})),u(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0),u(!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(he,{snackBar:p,handleClose:function(){m(i)}}),Object(n.jsxs)("form",{onSubmit:f(S),children:[Object(n.jsx)("div",{children:Object(n.jsx)(oe.a,{label:"First Name",fullWidth:!0,variant:"outlined",size:"small",margin:"dense",name:"firstName",inputRef:g({required:{value:!0,message:x("first.name.error.input.required")}}),error:Boolean(null===O||void 0===O?void 0:O.firstName),helperText:null===O||void 0===O||null===(t=O.firstName)||void 0===t?void 0:t.message})}),Object(n.jsx)("div",{children:Object(n.jsx)(oe.a,{label:"Last Name",fullWidth:!0,variant:"outlined",size:"small",margin:"dense",name:"lastName",inputRef:g({required:{value:!0,message:x("last.name.error.input.required")}}),error:Boolean(null===O||void 0===O?void 0:O.lastName),helperText:null===O||void 0===O||null===(a=O.lastName)||void 0===a?void 0:a.message})}),Object(n.jsx)("div",{children:Object(n.jsx)(oe.a,{label:"Description",fullWidth:!0,variant:"outlined",size:"small",margin:"dense",multiline:!0,rows:2,name:"description",inputRef:g({maxLength:{value:60,message:x("description.max.length")}})})}),Object(n.jsx)("div",{children:Object(n.jsx)(oe.a,{label:"Phone",fullWidth:!0,variant:"outlined",size:"small",margin:"dense",name:"phone",inputRef:g})}),Object(n.jsx)("div",{children:Object(n.jsx)(Se.a,{variant:"contained",fullWidth:!0,color:"primary",disabled:d,type:"submit",children:x(d?"saving":"save")})})]})]})})),fa=function(e){var t=e.open,a=e.handleClose,r=oa(),s=Object(Ie.a)().t;return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(wt.a,{open:t,onClose:a,maxWidth:"sm",fullWidth:!0,scroll:"body",children:[Object(n.jsx)(yt.a,{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(X.a,{variant:"h6",children:s("edit.profile")}),Object(n.jsx)(fe.a,{"aria-label":"close",className:r.closeButton,onClick:a,children:Object(n.jsx)(we.a,{})})]})}),Object(n.jsxs)(Xt.a,{children:[Object(n.jsx)(ha,{}),Object(n.jsx)(Oa,{}),Object(n.jsx)(va,{})]})]})})},xa=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.isFixed,a=e.user,s=oa(),i=Object(c.i)().userID,o=Object(Ie.a)().t,l=Object(r.useState)(!1),d=Object(k.a)(l,2),u=d[0],j=d[1];return Object(n.jsxs)(st.a,{mdDown:!0,children:[Object(n.jsxs)(Fe.a,{elevation:0,className:"".concat(s.appBarProfile," ").concat(t?s.fixedAppBarProfile:""),children:[Object(n.jsx)(Se.a,{color:"primary",children:o("posts")}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0}),a._id===i&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se.a,{onClick:function(){j(!0)},children:o("edit.profile")}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0})]})]}),Object(n.jsx)(fa,{open:u,handleClose:function(){j(!1)}})]})})),wa=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.isFixed,a=e.user,s=oa({isFixed:t}),i=Object(c.i)().userID,o=Object(Ie.a)().t,l=Object(r.useState)(!1),d=Object(k.a)(l,2),u=d[0],j=d[1];return Object(n.jsxs)(st.a,{lgUp:!0,children:[Object(n.jsxs)(Fe.a,{elevation:0,className:"".concat(s.appBarProfile),children:[Object(n.jsx)(Se.a,{color:"primary",children:o("posts")}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0}),a._id===i&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Se.a,{onClick:function(){j(!0)},children:o("edit.profile")}),Object(n.jsx)(ke.a,{orientation:"vertical",flexItem:!0})]})]}),Object(n.jsx)(fa,{open:u,handleClose:function(){j(!1)}})]})})),ya={setPosts:Q},ka=Object(f.b)((function(e){return{posts:e.Posts,userState:e.User}}),ya)((function(e){var t=e.setPosts,a=e.posts,s=e.userState,i=Object(r.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),o=Object(k.a)(i,2),d=o[0],u=o[1],j=Object(r.useState)(!1),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(r.useState)(!1),g=Object(k.a)(h,2),O=g[0],v=g[1],f=Object(r.useState)(!1),x=Object(k.a)(f,2),S=x[0],C=x[1],N=oa(),I=Object(r.useState)({}),P=Object(k.a)(I,2),B=P[0],F=P[1],E=Object(r.useState)(U),T=Object(k.a)(E,2),A=T[0],D=T[1],_=Object(r.useState)(!0),z=Object(k.a)(_,2),L=z[0],M=z[1],q=Object(r.useRef)(null),W=Object(c.i)().userID,H=Object(Ie.a)().t;tt({title:"profile",description:"User profile"}),Object(r.useEffect)((function(){return window.addEventListener("scroll",G),window.addEventListener("scroll",K),function(){window.removeEventListener("scroll",(function(){return G})),window.removeEventListener("scroll",(function(){return K}))}}),[]);var G=function(){q.current&&m(Boolean(q.current.getBoundingClientRect().top<=-136))},K=function(){q.current&&v(Boolean(q.current.getBoundingClientRect().top<=-515))};Object(r.useEffect)((function(){Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/getUser",{id:W},{headers:{auth:localStorage.getItem("session")}});case 3:(t=e.sent).data.success&&(F(t.data.user),C(!0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),u(Object(l.a)(Object(l.a)({},d),{},{show:!0,message:H("internal.server.error.title")}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[W,d,H,t]),Object(r.useEffect)((function(){Object(y.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/api/getPostsProfile",{id:W,limit:A},{headers:{auth:localStorage.getItem("session")}});case 3:(a=e.sent).data.success&&(M(a.data.hasMore),t(a.data.posts)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t,W,A]);var V=function(){var e=Object(y.a)(w.a.mark((function e(){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(A+U),e.prev=2,e.next=5,R.post("/api/getPostsProfile",{id:W,limit:A},{headers:{auth:localStorage.getItem("session")}});case 5:a=e.sent,a.data.success&&(M(a.data.hasMore),t(a.data.posts)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:N.bannerContent,children:S?Object(n.jsx)(n.Fragment,{children:s.banner&&Object(n.jsx)(Xe.Image,{publicId:s.banner,cloudName:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CLOUD_NAME||"dmv4ug7sg"})}):Object(n.jsx)(ia.a,{variant:"rect",height:300,ref:q})}),S?Object(n.jsx)(ca,{isFixed:p,user:B}):Object(n.jsx)(da,{isFixed:p}),S?Object(n.jsx)(la,{user:B}):Object(n.jsx)(ua,{}),Object(n.jsx)(xa,{isFixed:p,user:B}),Object(n.jsx)(wa,{isFixed:O,user:B}),Object(n.jsx)("div",{className:N.postContainer,children:0!==a.length?Object(n.jsx)(et.a,{dataLength:a.length,next:V,hasMore:L,loader:Object(n.jsx)(X.a,{variant:"subtitle2",align:"center",children:H("loading.message")}),endMessage:Object(n.jsx)(te.a,{severity:"info",variant:"filled",style:{margin:"10px 0"},children:H("end.profile")}),children:null===a||void 0===a?void 0:a.map((function(e){return Object(n.jsx)(Ze,{post:e})}))}):Object(n.jsxs)(te.a,{style:{marginTop:10},severity:"info",variant:"outlined",children:[W===s._id&&H("no.posts"),W!==s._id&&H("user.no.posts")]})}),Object(n.jsx)(he,{snackBar:d,handleClose:function(){u(Object(l.a)(Object(l.a)({},d),{},{show:!1,severity:"error"}))}})]})})),Sa=Object(B.a)((function(e){return Object(Z.a)({root:{flexGrow:1,height:"100vh"},paper:Object(ce.a)({padding:e.spacing(4),textAlign:"center",borderRadius:30},e.breakpoints.down("xs"),{backgroundColor:"inherit"}),marginTop:{marginTop:e.spacing(2)},form:{display:"flex",justifyContent:"center",flexDirection:"column","& .MuiButton-root":Object(ce.a)({},e.breakpoints.up("md"),{width:"50%",margin:"auto",marginTop:e.spacing(2)})}})})),Ca=function(){var e,t=Object(r.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),a=Object(k.a)(t,2),s=a[0],i=a[1],d=Object(P.a)(),u=Object(J.a)(d.breakpoints.down("xs")),j=Object(c.i)().userID,b=Object(r.useState)(""),p=Object(k.a)(b,2),m=p[0],h=p[1],g=Object(r.useState)(!1),O=Object(k.a)(g,2),v=O[0],f=O[1],x=ee(),S=Object(ne.a)(),C=S.register,N=S.handleSubmit,I=S.errors,B=Sa(),F=Object(c.g)(),E=Object(Ie.a)().t;tt({title:"forgot password",description:"Change password"}),At(),Object(r.useEffect)((function(){Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/validateUser",{id:j});case 2:t=e.sent,"recover password"!==t.data.user.state&&F.push("/access");case 5:case"end":return e.stop()}}),e)})))()}),[j,F]);var T=function(){var e=Object(y.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/modifyRecoverPassword",{pass:t.password,id:j});case 2:a=e.sent,a.data.success?(i(Object(l.a)(Object(l.a)({},s),{},{message:E("successful.update"),severity:"success",show:!0})),f(!0)):i(Object(l.a)(Object(l.a)({},s),{},{message:E("internal.server.error.title"),severity:"error",show:!0}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(se.a,{container:!0,direction:"row",alignItems:"center",justify:"center",className:B.root,children:Object(n.jsx)(se.a,{item:!0,children:Object(n.jsx)(re.a,{className:B.paper,elevation:0,children:v?Object(n.jsx)(Se.a,{variant:"contained",color:"primary",component:o.b,to:"/access",children:E("go.login")}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(X.a,{variant:u?"h6":"h3",color:"textSecondary",children:Object(n.jsx)("b",{children:E("new.password")})}),Object(n.jsxs)("form",{onSubmit:N(T),className:B.form,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(oe.a,{type:m?"text":"password",name:"password",label:E("password"),variant:"outlined",size:"small",error:Boolean(null===I||void 0===I?void 0:I.password),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){h(!m)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"small",children:m?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})},inputRef:C({required:{value:!0,message:E("password.message.error.input.required")},minLength:{value:6,message:E("password.message.error.input.short")}})}),Object(n.jsx)("div",{className:x.messageInput,children:null===I||void 0===I||null===(e=I.password)||void 0===e?void 0:e.message})]}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:B.marginTop,children:E("save")})]})]})})})}),Object(n.jsx)(he,{snackBar:s,handleClose:function(){i(Object(l.a)(Object(l.a)({},s),{},{show:!1}))}})]})},Na=a(234),Ia=a(501),Pa=Object(B.a)((function(e){return Object(Z.a)({root:{flexGrow:1},appBarSecondary:{top:"auto!important",bottom:0},appBarSecondaryIcon:{display:"flex",justifyContent:"space-around"},grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},search:Object(ce.a)({position:"relative",borderRadius:"30px",backgroundColor:"light"===e.palette.type?Object(le.d)(e.palette.common.black,.1):Object(le.d)(e.palette.common.white,.25),width:"100%",marginRight:e.spacing(2),marginLeft:e.spacing(3),"&:hover":{backgroundColor:"light"===e.palette.type?Object(le.d)(e.palette.common.black,.2):Object(le.d)(e.palette.common.white,.25)}},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(ce.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),offset:e.mixins.toolbar,paperInputSearch:{maxWidth:320,minWidth:280,maxHeight:300,overflowY:"hidden"},simplePopper:{zIndex:5e3},noUsers:{padding:e.spacing(1),textAlign:"center"}})})),Ba=Object(de.a)({paper:{border:"1px solid #d3d4d5",padding:"5px","& .MuiList-padding":{padding:"0!important","& .MuiButtonBase-root":{padding:"0!important"}}}})((function(e){return Object(n.jsx)(Na.a,Object(l.a)({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),Fa=Object(de.a)((function(e){return{root:{borderRadius:"5px",marginTop:"5px",marginBottom:"5px","&:focus":{backgroundColor:e.palette.grey,"& .MuiListItemText-primary":{color:e.palette.primary.main},"& .MuiAvatar-colorDefault":{backgroundColor:e.palette.primary.main,color:"#fff!important"}},"& .MuiAvatar-colorDefault":{color:"#000"},"& .MuiTypography-root":{marginRight:"50px"},"& .MuiSvgIcon-root":{opacity:.5}}}}))(Ia.a),Ea=Object(B.a)((function(e){return{appBar:{position:"relative!important",zIndex:e.zIndex.drawer+1+"!important"},title:{marginLeft:e.spacing(2),flex:1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},main:{width:"100%"},container:Object(ce.a)({width:"50%",margin:"0 auto"},e.breakpoints.down("sm"),{width:"100%",margin:"0"}),AccountForm:{marginTop:e.spacing(2),display:"flex",flexDirection:"column","& .MuiTextField-root":{marginBottom:e.spacing(1)}},margin:{margin:e.spacing(1)},newPassword:{display:"flex",flexWrap:"wrap"}}})),Ta=a(502),Aa=a(496),Da=a(220),Ra=a.n(Da),_a=Object(f.b)((function(e){return{user:e.User}}))((function(e){var t=e.user;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(fe.a,{"aria-label":"show 4 new mails",color:"inherit",component:o.b,to:"/Profile/".concat(t._id),children:Object(n.jsx)(Ra.a,{})})})})),Ua=function(){var e=Pa();return Object(n.jsx)(st.a,{smUp:!0,children:Object(n.jsxs)(Ta.a,{position:"fixed",color:"inherit",elevation:0,className:e.appBarSecondary,children:[Object(n.jsx)(ke.a,{}),Object(n.jsx)(Aa.a,{className:e.appBarSecondaryIcon,children:Object(n.jsx)(_a,{})})]})})},za=a(442),La=a(506),Ma=a(504),qa=a(225),Wa=a.n(qa),Ha=a(227),Ga=a.n(Ha),Ka=a(223),Va=a.n(Ka),Ya=a(224),Qa=a.n(Ya),$a=a(226),Ja=a.n($a),Xa=a(222),Za=a.n(Xa),en=a(221),tn=a.n(en),an={updateByField:p},nn=Object(f.b)((function(e){return{User:e.User}}),an)((function(e){var t=e.User,a=e.orientation,s=e.handleOpenSnackBar,i=e.updateByField,o=Object(r.useState)({email:t.email,gender:t.gender}),c=Object(k.a)(o,2),d=c[0],u=c[1],j=Object(r.useState)(t.dateOfBirth),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Ea(),g=Object(Ie.a)().t,O=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,r,o,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,a=na()(p).format("l"),""===d.email){e.next=11;break}return e.next=6,R.post("/api/accountSettings",Object(l.a)(Object(l.a)({},d),{},{dateOfBirth:a}),{headers:{auth:localStorage.getItem("session")}});case 6:n=e.sent,r=n.data,o=r.success,c=r.message,o?(s({show:!0,message:g("successful.update"),severity:"success"}),i({email:d.email,gender:d.gender,dateOfBirth:a})):"Email is required"===c&&s({show:!0,message:g("email.message.error.input.required"),severity:"error"}),e.next=12;break;case 11:s({show:!0,message:g("email.message.error.input.required"),severity:"error"});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),s({show:!0,message:g("email.message.error.input.required"),severity:"error"});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(Te.a,{className:h.container,children:[Object(n.jsx)(X.a,{variant:a?"h6":"h3",children:g("account.settings")}),Object(n.jsxs)("form",{onSubmit:O,className:h.AccountForm,children:[Object(n.jsx)(oe.a,{type:"email",label:g("email"),name:"email",variant:"outlined",value:d.email,onChange:function(e){return u(Object(l.a)(Object(l.a)({},d),{},{email:e.target.value}))},size:"small"}),Object(n.jsx)(Yt.a,{utils:Vt.a,children:Object(n.jsx)(Qt.a,{orientation:a?"portrait":"landscape",variant:"inline",label:g("birth.date"),format:"DD-MM-YYYY",maxDate:new Date,value:p,onChange:m})}),Object(n.jsxs)("div",{children:[Object(n.jsx)(qt.a,{component:"legend",children:g("gender")}),Object(n.jsxs)(Wt.a,{"aria-label":g("gender"),value:d.gender,onChange:function(e){return u(Object(l.a)(Object(l.a)({},d),{},{gender:e.target.value}))},children:[Object(n.jsx)(Ht.a,{value:"F",control:Object(n.jsx)(Gt.a,{}),label:g("gender.female")}),Object(n.jsx)(Ht.a,{value:"M",control:Object(n.jsx)(Gt.a,{}),label:g("gender.male")}),Object(n.jsx)(Ht.a,{value:"other",control:Object(n.jsx)(Gt.a,{}),label:g("gender.other")})]})]}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",children:g("save")})]})]})})),rn=a(479),sn=function(e){var t=e.orientation,a=Object(r.useState)(localStorage.getItem("language")),s=Object(k.a)(a,2),i=s[0],o=s[1],c=Object(Ie.a)(),l=c.t,d=c.i18n,u=Ea();return Object(n.jsxs)(Te.a,{className:u.container,children:[Object(n.jsx)(X.a,{variant:t?"h6":"h3",children:l("choose.language")}),Object(n.jsx)(rn.a,{component:"fieldset",children:Object(n.jsxs)(Wt.a,{"aria-label":"Language",name:"Language",value:i,onChange:function(e){o(e.target.value),localStorage.setItem("language",e.target.value),d.changeLanguage(e.target.value)},children:[Object(n.jsx)(Ht.a,{value:"es",control:Object(n.jsx)(Gt.a,{}),label:l("spanish")}),Object(n.jsx)(Ht.a,{value:"en",control:Object(n.jsx)(Gt.a,{}),label:l("english")})]})})]})},on=function(e){var t,a,s,i=e.orientation,o=e.handleOpenSnackBar,c=Object(r.useState)(!1),d=Object(k.a)(c,2),u=d[0],j=d[1],b=Object(r.useState)(!1),p=Object(k.a)(b,2),m=p[0],h=p[1],g=Object(r.useState)(!1),O=Object(k.a)(g,2),v=O[0],f=O[1],x=Object(ne.a)(),S=x.register,C=x.handleSubmit,N=x.errors,I=x.watch,P=Object(r.useRef)({});P.current=I("newPassword","");var B=Object(Ie.a)().t,F=Ea(),E=ee(),T=function(e){e.preventDefault()},A=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.post("/api/changePassword",Object(l.a)({},t),{headers:{auth:localStorage.getItem("session")}});case 2:if(a=e.sent,n=a.data,r=n.success,s=n.message,!r){e.next=8;break}o({show:!0,message:B("successful.update"),severity:"success"}),e.next=17;break;case 8:e.t0=s,e.next="New password is not valid"===e.t0?11:"The current password is incorrect"===e.t0?13:15;break;case 11:return o({show:!0,message:B("newPassword.invalid"),severity:"error"}),e.abrupt("break",17);case 13:return o({show:!0,message:B("current.password.message"),severity:"error"}),e.abrupt("break",17);case 15:return o({show:!0,message:B("internal.server.error.title"),severity:"error"}),e.abrupt("break",17);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(Te.a,{className:F.container,children:[Object(n.jsx)(X.a,{variant:i?"h6":"h3",children:B("password")}),Object(n.jsxs)("form",{onSubmit:C(A),children:[Object(n.jsx)(oe.a,{type:u?"text":"password",name:"currentPassword",label:B("current.password"),variant:"outlined",size:"small",className:F.margin,error:Boolean(null===N||void 0===N?void 0:N.currentPassword),inputRef:S({required:{value:!0,message:B("password.message.error.input.required")},minLength:{value:6,message:B("password.message.error.input.short")}}),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){return j(!u)},onMouseDown:T,edge:"end",size:"small",children:u?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})}}),Object(n.jsx)("div",{className:E.messageInput,children:null===N||void 0===N||null===(t=N.currentPassword)||void 0===t?void 0:t.message}),Object(n.jsx)(ke.a,{}),Object(n.jsxs)("div",{className:F.newPassword,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(oe.a,{type:m?"text":"password",name:"newPassword",label:B("new.password"),variant:"outlined",size:"small",className:F.margin,error:Boolean(null===N||void 0===N?void 0:N.currentPassword),inputRef:S({required:{value:!0,message:B("password.message.error.input.required")},minLength:{value:6,message:B("password.message.error.input.short")}}),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){return h(!m)},onMouseDown:T,edge:"end",size:"small",children:m?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})}}),Object(n.jsx)("div",{className:E.messageInput,children:null===N||void 0===N||null===(a=N.newPassword)||void 0===a?void 0:a.message})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(oe.a,{type:v?"text":"password",name:"repeatNewPassword",label:B("repeat.new.password"),variant:"outlined",size:"small",className:F.margin,error:Boolean(null===N||void 0===N?void 0:N.currentPassword),inputRef:S({required:{value:!0,message:B("password.message.error.input.required")},minLength:{value:6,message:B("password.message.error.input.short")},validate:function(e){return e===P.current||B("repeat.password.message")}}),InputProps:{endAdornment:Object(n.jsx)(it.a,{position:"end",size:"small",children:Object(n.jsx)(fe.a,{"aria-label":"toggle password visibility",onClick:function(){return f(!v)},onMouseDown:T,edge:"end",size:"small",children:v?Object(n.jsx)(ct.a,{}):Object(n.jsx)(dt.a,{})})})}}),Object(n.jsx)("div",{className:E.messageInput,children:null===N||void 0===N||null===(s=N.repeatNewPassword)||void 0===s?void 0:s.message})]})]}),Object(n.jsx)(Se.a,{type:"submit",variant:"contained",color:"primary",className:F.margin,children:B("save")})]})]})},cn=a(503),ln=a(482),dn=a(123),un=a.n(dn),jn=function(e){var t=e.select,a=e.handleSelect,r=e.open,s=e.orientation,i=Object(Ie.a)().t,o=Ea();return Object(n.jsxs)(cn.a,{className:o.drawer,variant:s?"persistent":"permanent",classes:{paper:o.drawerPaper},anchor:"left",open:r,children:[Object(n.jsx)("div",{className:o.toolbar}),Object(n.jsx)(ke.a,{}),Object(n.jsxs)(ln.a,{children:[Object(n.jsxs)(za.a,{button:!0,selected:0===t,onClick:function(){return a(0)},children:[Object(n.jsx)(Ma.a,{primary:i("account")}),Object(n.jsx)(un.a,{})]}),Object(n.jsxs)(za.a,{button:!0,selected:1===t,onClick:function(){return a(1)},children:[Object(n.jsx)(Ma.a,{primary:i("language")}),Object(n.jsx)(un.a,{})]}),Object(n.jsxs)(za.a,{button:!0,selected:2===t,onClick:function(){return a(2)},children:[Object(n.jsx)(Ma.a,{primary:i("change.password")}),Object(n.jsx)(un.a,{})]})]}),Object(n.jsx)(ke.a,{})]})},bn=function(e){var t=e.handleClose,a=Object(P.a)(),s=Object(J.a)(a.breakpoints.down("sm")),i=Object(Ie.a)().t,o=Object(r.useState)(0),c=Object(k.a)(o,2),d=c[0],u=c[1],j=Object(r.useState)(!1),b=Object(k.a)(j,2),p=b[0],m=b[1],h=Object(r.useState)({show:!1,message:"",vertical:"top",horizontal:"left",severity:"error"}),g=Object(k.a)(h,2),O=g[0],v=g[1],f=Ea(),x=function(e){v(Object(l.a)(Object(l.a)({},O),e))};return Object(n.jsxs)("div",{children:[Object(n.jsx)(q.a,{}),Object(n.jsx)(Ta.a,{elevation:0,className:f.appBar,children:Object(n.jsxs)(Aa.a,{children:[s&&Object(n.jsx)(fe.a,{edge:"start",color:"inherit",onClick:function(){return m(!p)},"aria-label":"close",children:p?Object(n.jsx)(tn.a,{}):Object(n.jsx)(Za.a,{})}),Object(n.jsx)(X.a,{variant:"h6",className:f.title,children:i("settings")}),Object(n.jsx)(fe.a,{edge:"start",color:"inherit",onClick:t,"aria-label":"close",children:Object(n.jsx)(we.a,{})})]})}),Object(n.jsx)(jn,{select:d,handleSelect:function(e){u(e)},open:p,orientation:s}),Object(n.jsxs)("main",{className:f.main,children:[0===d&&Object(n.jsx)(nn,{orientation:s,handleOpenSnackBar:x}),1===d&&Object(n.jsx)(sn,{orientation:s}),2===d&&Object(n.jsx)(on,{orientation:s,handleOpenSnackBar:x})]}),Object(n.jsx)(he,{snackBar:O,handleClose:function(){v(Object(l.a)(Object(l.a)({},O),{},{show:!1}))}})]})},pn=function(e){var t=e.open,a=e.handleClose;return Object(n.jsx)(wt.a,{fullScreen:!0,open:t,onClose:a,children:Object(n.jsx)(bn,{handleClose:a})})},mn={changeThemeMode:O},hn=Object(f.b)((function(e){return{mode:e.ThemeMode}}),mn)((function(e){var t=e.changeThemeMode,a=e.mode,s=Object(r.useState)(null),i=Object(k.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(!1),u=Object(k.a)(d,2),j=u[0],b=u[1],p=Object(c.g)(),m=Object(Ie.a)().t;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(fe.a,{onClick:function(e){l(e.currentTarget)},color:"inherit",children:Object(n.jsx)(Ue.a,{})}),Object(n.jsxs)(Ba,{id:"customized-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:function(){l(null)},children:[Object(n.jsx)(ke.a,{component:"li"}),Object(n.jsx)(Fa,{onClick:function(){return b(!0)},children:Object(n.jsxs)(za.a,{component:"div",children:[Object(n.jsx)(La.a,{children:Object(n.jsx)(ie.a,{children:Object(n.jsx)(Va.a,{fontSize:"small"})})}),Object(n.jsx)(Ma.a,{primary:m("settings")}),Object(n.jsx)(Qa.a,{})]})}),Object(n.jsx)(Fa,{onClick:function(){t(a),localStorage.setItem("theme",a)},children:Object(n.jsxs)(za.a,{component:"div",children:[Object(n.jsx)(La.a,{children:Object(n.jsx)(ie.a,{children:Object(n.jsx)(Wa.a,{fontSize:"small"})})}),Object(n.jsx)(Ma.a,{primary:m("theme")}),Object(n.jsx)(Ja.a,{})]})}),Object(n.jsx)(Fa,{onClick:function(){localStorage.removeItem("session"),p.push("/access")},children:Object(n.jsxs)(za.a,{component:"div",children:[Object(n.jsx)(La.a,{children:Object(n.jsx)(ie.a,{children:Object(n.jsx)(Ga.a,{fontSize:"small"})})}),Object(n.jsx)(Ma.a,{primary:m("log.out")})]})})]}),Object(n.jsx)(pn,{open:j,handleClose:function(){b(!1)}})]})})),gn=[],On="searchUsers",vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case On:return n;default:return e}},fn=a(472),xn=a(519),wn=a(229),yn=a.n(wn),kn=a(507),Sn=function(e){var t=e.user;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(za.a,{button:!0,component:o.b,to:"/Profile/".concat(t._id),children:[Object(n.jsx)(La.a,{children:Object(n.jsx)(ie.a,{src:null===t||void 0===t?void 0:t.avatar,alt:"".concat(t.firstName," ").concat(t.lastName)})}),Object(n.jsx)(Ma.a,{primary:"".concat(t.firstName," ").concat(t.lastName),primaryTypographyProps:{noWrap:!0}})]}),Object(n.jsx)(ke.a,{})]})},Cn=Object(f.b)((function(e){return{searchedUsers:e.SearchedUsers}}))((function(e){var t=e.anchorEl,a=e.searchedUsers,r=Pa(),s=Object(Ie.a)().t;return Object(n.jsx)(kn.a,{id:"simple-popper",placement:"bottom-end",open:Boolean(t),anchorEl:t,className:r.simplePopper,children:Object(n.jsx)(re.a,{className:r.paperInputSearch,variant:"outlined",children:Object(n.jsx)(ln.a,{dense:!0,children:a.length>0?a.map((function(e,t){return Object(n.jsx)(Sn,{user:e},t)})):Object(n.jsx)("div",{className:r.noUsers,children:Object(n.jsx)(X.a,{variant:"body2",children:s("no.users")})})})})})})),Nn={setSearchedUsers:function(e){return{type:On,payload:e}}},In=Object(f.b)(null,Nn)((function(e){var t=e.setSearchedUsers,a=Object(r.useState)(null),s=Object(k.a)(a,2),i=s[0],o=s[1],c=Pa(),l=Object(Ie.a)().t,d=function(){var e=Object(y.a)(w.a.mark((function e(a){var n,r,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||""===a.target.value.trim()){e.next=15;break}return o(a.currentTarget),e.prev=2,e.next=5,R.post("/api/searchByUser",{name:a.target.value});case 5:n=e.sent,r=n.data,s=r.success,c=r.users,s&&t(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:e.next=16;break;case 15:""===a.target.value.trim()&&o(null);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(fn.a,{onClickAway:function(){o(null)},children:Object(n.jsxs)("div",{className:c.search,children:[Object(n.jsx)("div",{className:c.searchIcon,children:Object(n.jsx)(yn.a,{})}),Object(n.jsx)(xn.a,{placeholder:l("search"),classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"},onChange:d,onFocus:function(e){""!==e.target.value.trim()&&o(e.currentTarget)}}),i&&Object(n.jsx)(Cn,{anchorEl:i})]})})})})),Pn=function(){var e=Pa(),t=Object(Ie.a)().t;return Object(n.jsxs)(Ta.a,{position:"fixed",color:"inherit",elevation:0,children:[Object(n.jsxs)(Aa.a,{children:[Object(n.jsx)(X.a,{variant:"h6",children:Object(n.jsx)(xt.a,{underline:"none",component:o.b,to:"/",color:"inherit",children:t("name.app")})}),Object(n.jsx)(In,{}),Object(n.jsx)("div",{className:e.grow}),Object(n.jsx)(st.a,{xsDown:!0,children:Object(n.jsx)(_a,{})}),Object(n.jsx)(hn,{})]}),Object(n.jsx)(ke.a,{})]})},Bn=a(508),Fn=function(e){var t=e.children,a=e.window,r=Object(Bn.a)({target:a?a():void 0});return Object(n.jsx)(ft.a,{appear:!1,direction:"down",in:!r,children:t})},En=function(e){var t=Pa(),a=Object(c.h)(),r=Object(c.j)("/recoverpassword/:userID");return null===r&&(r=""),"/access"===a.pathname||"/404"===a.pathname||"/500"===a.pathname||"/settings"===a.pathname||a.pathname===r.url?null:Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(st.a,{smUp:!0,children:Object(n.jsx)(Fn,Object(l.a)(Object(l.a)({},e),{},{children:Object(n.jsx)("div",{children:Object(n.jsx)(Pn,{})})}))}),Object(n.jsx)(st.a,{xsDown:!0,children:Object(n.jsx)(Pn,{})}),Object(n.jsx)("div",{className:t.offset}),Object(n.jsx)(Ua,{})]})},Tn={getUserData:b,changeThemeMode:O},An=Object(f.b)((function(e){return{mode:e.ThemeMode}}),Tn)((function(e){var t=e.changeThemeMode,a=e.mode,s=e.getUserData,i=Object(Ie.a)().i18n;return Object(r.useEffect)((function(){gt(s),t(localStorage.getItem("theme")),i.changeLanguage(localStorage.getItem("language"))}),[s,t,i]),Object(n.jsx)(o.a,{children:Object(n.jsxs)(M.a,{theme:K(a),children:[Object(n.jsx)(q.a,{}),Object(n.jsx)(En,{}),Object(n.jsxs)(c.d,{children:[Object(n.jsx)(z,{exact:!0,path:"/",component:nt}),Object(n.jsx)(z,{exact:!0,path:"/Profile/:userID",component:ka}),Object(n.jsx)(L,{exact:!0,path:"/settings",component:sa}),Object(n.jsx)(c.b,{exact:!0,path:"/access",component:Dt}),Object(n.jsx)(c.b,{exact:!0,path:"/recoverpassword/:userID",component:Ca}),Object(n.jsx)(c.b,{exact:!0,path:"/404",component:_t}),Object(n.jsx)(c.b,{exact:!0,path:"*",children:Object(n.jsx)(c.a,{to:"/404"})})]})]})})})),Dn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,523)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)}))},Rn=a(94),_n=Object(Rn.b)({User:m,ThemeMode:v,Posts:$,SearchedUsers:vn}),Un=Object(Rn.c)(_n,""),zn=a(96),Ln=a(230),Mn=a(231),qn=a(232),Wn=a(233),Hn=a(150),Gn={en:{translation:qn},es:{translation:Wn}};Hn.a.use(Ln.a).use(Mn.a).use(zn.e).init({resources:Gn,lng:"en",keySeparator:!1,interpolation:{escapeValue:!1}});Hn.a;i.a.render(Object(n.jsx)(r.StrictMode,{children:Object(n.jsx)(f.a,{store:Un,children:Object(n.jsx)(An,{})})}),document.getElementById("root")),Dn()}},[[437,1,2]]]);
//# sourceMappingURL=main.45ab6dd4.chunk.js.map